(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19d08552"],{"0927":function(a,t,n){"use strict";var e=n("0d5b"),i=n.n(e);i.a},"0d5b":function(a,t,n){},"67bf":function(a,t,n){"use strict";n.r(t);var e=function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{ref:"containers",staticClass:"containers"},[n("div",{ref:"canvas",staticClass:"canvas",attrs:{id:"js-canvas"}}),n("ul",{staticClass:"buttons"},[n("li",[n("a",{ref:"saveDiagram",attrs:{href:"javascript:",title:"download BPMN diagram"}},[a._v("下载 BPMN diagram")])]),n("li",[n("a",{ref:"saveSvg",attrs:{href:"javascript:",title:"download as SVG image"}},[a._v("下载 SVG image")])]),n("el-upload",{staticClass:"import",attrs:{"show-file-list":!1,action:"","auto-upload":!1,"on-change":a.changeFile}},[n("li",[n("a",{ref:"import",attrs:{slot:"trigger",href:"javascript:",title:"import BPMN diagram"},slot:"trigger"},[a._v("导入 BPMN diagram")])])])],1)])},i=[],s=n("7024"),r=n("b474"),o={data:function(){return{bpmnModeler:null,containers:null,canvas:null,xmlStr:null,customTranslateModule:{translate:["value",r["a"]]}}},methods:{openDiagram:function(a){this.bpmnModeler.importXML(a,(function(a){a&&console.error(a)}))},createNewDiagram:function(){var a=this,t="https://cdn.staticaly.com/gh/bpmn-io/bpmn-js-examples/dfceecba/starter/diagram.bpmn";this.$http.get(t).then((function(t){a.openDiagram(t.data)})).catch((function(a){console.log(a)}))},saveSVG:function(a){this.bpmnModeler.saveSVG(a)},saveDiagram:function(a){this.bpmnModeler.saveXML({format:!0},(function(t,n){a(t,n)}))},setEncoded:function(a,t,n){var e=encodeURIComponent(n);this.xmlStr=n,n&&(a.className="active",a.href="data:application/bpmn20-xml;charset=UTF-8,"+e,a.download=t)},changeFile:function(a){var t=this,n=new FileReader,e=a.raw;n.readAsText(e,"utf-8"),n.onload=function(a){var n=a.target.result;t.bpmnModeler.importXML(n,(function(a){a&&console.error(a)}))}}},mounted:function(){this.containers=this.$refs.containers;var a=this.$refs.canvas;this.bpmnModeler=new s["a"]({container:a,additionalModules:[this.$data.customTranslateModule]});var t=this,n=this.$refs.saveDiagram,e=this.$refs.saveSvg;this.bpmnModeler.on("commandStack.changed",(function(){t.saveSVG((function(a,n){t.setEncoded(e,"diagram.svg",a?null:n)})),t.saveDiagram((function(a,e){t.setEncoded(n,"diagram.bpmn",a?null:e)}))})),this.createNewDiagram()}},c=o,l=(n("0927"),n("2877")),d=Object(l["a"])(c,e,i,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-19d08552.b534ddf5.js.map