(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8253eb8c"],{"0dfe":function(a,t,e){"use strict";e.r(t);var n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{ref:"containers",staticClass:"containers"},[e("div",{ref:"canvas",staticClass:"canvas",attrs:{id:"js-canvas"}}),e("ul",{staticClass:"buttons"},[e("li",[e("a",{ref:"saveDiagram",attrs:{href:"javascript:",title:"download BPMN diagram"}},[a._v("下载 BPMN diagram")])]),e("li",[e("a",{ref:"saveSvg",attrs:{href:"javascript:",title:"download as SVG image"}},[a._v("下载 SVG image")])]),e("el-upload",{staticClass:"import",attrs:{"show-file-list":!1,action:"","auto-upload":!1,"on-change":a.changeFile}},[e("li",[e("a",{ref:"import",attrs:{slot:"trigger",href:"javascript:",title:"import BPMN diagram"},slot:"trigger"},[a._v("导入 BPMN diagram")])])])],1)])},s=[],i=e("88eb"),o={data:function(){return{bpmnViewer:null,containers:null,canvas:null,xmlStr:null}},methods:{createNewDiagram:function(){var a=this,t="https://cdn.staticaly.com/gh/bpmn-io/bpmn-js-examples/dfceecba/starter/diagram.bpmn";this.$http.get(t).then((function(t){a.bpmnViewer.importXML(t.data,(function(t){t?console.log("something went wrong:",t):(console.log("success!"),a.bpmnViewer.get("canvas").zoom("fit-viewport"),console.log("success..."))}))})).catch((function(a){console.log(a)}))},saveSVG:function(a){this.bpmnViewer.saveSVG(a)},saveDiagram:function(a){this.bpmnViewer.saveXML({format:!0},(function(t,e){a(t,e)}))},setEncoded:function(a,t,e){var n=encodeURIComponent(e);this.xmlStr=e,e&&(a.className="active",a.href="data:application/bpmn20-xml;charset=UTF-8,"+n,a.download=t)},changeFile:function(a){var t=this,e=new FileReader,n=a.raw;e.readAsText(n,"utf-8"),e.onload=function(a){var e=a.target.result;t.bpmnViewer.importXML(e,(function(a){a?console.log("something went wrong:",a):(console.log("success!"),t.bpmnViewer.get("canvas").zoom("fit-viewport"),console.log("success..."))}))}}},mounted:function(){this.containers=this.$refs.containers,this.canvas=this.$refs.canvas,this.bpmnViewer=new i["a"]({container:this.canvas});var a=this,t=this.$refs.saveDiagram,e=this.$refs.saveSvg;this.bpmnViewer.on("canvas.viewbox.changed",(function(){a.saveSVG((function(t,n){a.setEncoded(e,"diagram.svg",t?null:n)})),a.saveDiagram((function(e,n){a.setEncoded(t,"diagram.bpmn",e?null:n)}))})),this.createNewDiagram()}},r=o,c=(e("3589"),e("2877")),l=Object(c["a"])(r,n,s,!1,null,null,null);t["default"]=l.exports},3589:function(a,t,e){"use strict";var n=e("9bdb"),s=e.n(n);s.a},"9bdb":function(a,t,e){}}]);
//# sourceMappingURL=chunk-8253eb8c.39e513fa.js.map