{"version":3,"sources":["webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/ServiceTaskDelegateProps.js","webpack:///./node_modules/lodash/_getRawTag.js","webpack:///./node_modules/lodash/_baseKeys.js","webpack:///./node_modules/lodash/_isFlattenable.js","webpack:///./node_modules/lodash/stubFalse.js","webpack:///./node_modules/lodash/_arrayPush.js","webpack:///./node_modules/lodash/_isStrictComparable.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/Delegate.js","webpack:///./node_modules/lodash/_strictIndexOf.js","webpack:///./node_modules/lodash/_getNative.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/ListenerDetailProps.js","webpack:///./node_modules/lodash/isBuffer.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/ConnectorInputOutputProps.js","webpack:///./node_modules/lodash/_baseRest.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/EventProps.js","webpack:///./node_modules/lodash/_getFuncName.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/helper/ElementHelper.js","webpack:///./node_modules/lodash/_createCtor.js","webpack:///./node_modules/lodash/_isKeyable.js","webpack:///./node_modules/lodash/_castFunction.js","webpack:///./node_modules/lodash/isObjectLike.js","webpack:///./node_modules/lodash/_isMasked.js","webpack:///./node_modules/lodash/isEmpty.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/InputOutputParameterProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/ImplementationType.js","webpack:///./node_modules/lodash/_baseMatchesProperty.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/LinkEntryFactory.js","webpack:///./node_modules/lodash/_stringToPath.js","webpack:///./node_modules/lodash/isObject.js","webpack:///./node_modules/lodash/_equalByTag.js","webpack:///./node_modules/bpmn-js-properties-panel/index.js","webpack:///./node_modules/lodash/_Promise.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/cmd/CreateBusinessObjectListHandler.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/TimerEventDefinition.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/index.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/AsyncContinuation.js","webpack:///./node_modules/lodash/_hashDelete.js","webpack:///./node_modules/lodash/_mapCacheSet.js","webpack:///./node_modules/lodash/_matchesStrictComparable.js","webpack:///./node_modules/lodash/_overRest.js","webpack:///./node_modules/lodash/_memoizeCapped.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/Script.js","webpack:///./node_modules/lodash/_baseForOwn.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/ElementTemplatesLoader.js","webpack:///./node_modules/lodash/_baseAggregator.js","webpack:///./node_modules/lodash/_Uint8Array.js","webpack:///./node_modules/lodash/_mapCacheGet.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/SignalEventDefinitionScope.js","webpack:///./node_modules/lodash/_hashSet.js","webpack:///./node_modules/lodash/_baseIsArguments.js","webpack:///./node_modules/lodash/_realNames.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/NameProps.js","webpack:///./node_modules/lodash/_baseValues.js","webpack:///./node_modules/lodash/bind.js","webpack:///./node_modules/lodash/_baseHasIn.js","webpack:///./node_modules/lodash/find.js","webpack:///./node_modules/lodash/_getData.js","webpack:///./node_modules/lodash/_listCacheClear.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/Name.js","webpack:///./node_modules/lodash/_objectToString.js","webpack:///./node_modules/lodash/wrapperLodash.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/helper/CmdHelper.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/helper/ExtensionElementsHelper.js","webpack:///./node_modules/lodash/_baseFindIndex.js","webpack:///./node_modules/lodash/_root.js","webpack:///./node_modules/lodash/_baseUniq.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/MultiInstanceLoopCharacteristics.js","webpack:///./node_modules/lodash/_arrayFilter.js","webpack:///./node_modules/lodash/_getPrototype.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/parts/CustomProps.js","webpack:///./node_modules/lodash/_baseDifference.js","webpack:///./node_modules/lodash/_createAssigner.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/ResultVariable.js","webpack:///./node_modules/lodash/_stackDelete.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/IdProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/Utils.js","webpack:///./node_modules/lodash/_composeArgsRight.js","webpack:///./node_modules/lodash/isArrayLike.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/Callable.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/index.js","webpack:///./node_modules/lodash/_assignValue.js","webpack:///./node_modules/lodash/_getSymbols.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/External.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/ScriptTaskProps.js","webpack:///./node_modules/lodash/_baseIsNative.js","webpack:///./node_modules/lodash/_getValue.js","webpack:///./node_modules/lodash/_baseGetTag.js","webpack:///./node_modules/lodash/_isLaziable.js","webpack:///./node_modules/lodash/_WeakMap.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/ExternalTaskConfigurationProps.js","webpack:///./node_modules/lodash/_defineProperty.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/ListenerFieldInjectionProps.js","webpack:///./node_modules/lodash/_getMatchData.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/ExtensionElements.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/StartEventInitiator.js","webpack:///./node_modules/lodash/values.js","webpack:///./node_modules/lodash/now.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/ActivitiPropertiesProvider.js","webpack:///./node_modules/lodash/keyBy.js","webpack:///./node_modules/lodash/xor.js","webpack:///./node_modules/lodash/_getMapData.js","webpack:///./node_modules/lodash/_arraySome.js","webpack:///./node_modules/lodash/_getTag.js","webpack:///./node_modules/lodash/_copyArray.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/ElementTemplates.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/TasklistProps.js","webpack:///./node_modules/lodash/_baseLodash.js","webpack:///./node_modules/lodash/_createCurry.js","webpack:///./node_modules/lodash/_baseIndexOf.js","webpack:///./node_modules/lodash/_baseEach.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/InputOutputParameter.js","webpack:///./node_modules/lodash/_hashClear.js","webpack:///./node_modules/lodash/toInteger.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/TextBoxEntryFactory.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/CreateHelper.js","webpack:///./node_modules/lodash/_setWrapToString.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/helper/AsyncCapableHelper.js","webpack:///./node_modules/lodash/_createAggregator.js","webpack:///./node_modules/lodash/transform.js","webpack:///./node_modules/lodash/_baseTimes.js","webpack:///./node_modules/lodash/findIndex.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/SignalEventDefinition.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/ConnectorInputOutputParameterProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/cmd/UpdateBusinessObjectListHandler.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/helper/InputOutputHelper.js","webpack:///./node_modules/lodash/_stackHas.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/TableEntryFactory.js","webpack:///./node_modules/lodash/_nativeKeys.js","webpack:///./node_modules/lodash/_getHolder.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/FormProps.js","webpack:///./node_modules/lodash/_baseFlatten.js","webpack:///./node_modules/lodash/_createFind.js","webpack:///./node_modules/lodash/_ListCache.js","webpack:///./node_modules/lodash/_arrayIncludesWith.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/MessageEventDefinitionProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/LabelFactory.js","webpack:///./node_modules/lodash/_nativeCreate.js","webpack:///./node_modules/lodash/_LazyWrapper.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/lodash/toFinite.js","webpack:///./node_modules/lodash/_baseMatches.js","webpack:///./node_modules/lodash/_baseGet.js","webpack:///./node_modules/lodash/isArray.js","webpack:///./node_modules/lodash/_listCacheSet.js","webpack:///./node_modules/lodash/_listCacheDelete.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/cmd/ChangeElementTemplateHandler.js","webpack:///./node_modules/lodash/_createHybrid.js","webpack:///./node_modules/lodash/_metaMap.js","webpack:///./node_modules/lodash/forEach.js","webpack:///./node_modules/lodash/_arrayLikeKeys.js","webpack:///./node_modules/lodash/_baseFor.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/LinkProps.js","webpack:///./node_modules/lodash/constant.js","webpack:///./node_modules/lodash/isTypedArray.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/ComboEntryFactory.js","webpack:///./node_modules/lodash/_baseIsTypedArray.js","webpack:///./node_modules/lodash/_createSet.js","webpack:///./node_modules/lodash/_baseCreate.js","webpack:///./node_modules/lodash/toString.js","webpack:///./node_modules/lodash/_arrayMap.js","webpack:///./node_modules/lodash/_Map.js","webpack:///./node_modules/lodash/_hashHas.js","webpack:///./node_modules/lodash/_MapCache.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/CustomElementsPropertiesActivator.js","webpack:///./node_modules/lodash/_baseIsEqualDeep.js","webpack:///./node_modules/lodash/_mapCacheClear.js","webpack:///./node_modules/selection-update/index.js","webpack:///./node_modules/lodash/_baseGetAllKeys.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/JobRetryTimeCycle.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/MessageEventDefinitionCorrelationKey.js","webpack:///./node_modules/lodash/_Stack.js","webpack:///./node_modules/lodash/_setCacheAdd.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/index.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/VariableMappingProps.js","webpack:///./node_modules/lodash/_stackGet.js","webpack:///./node_modules/lodash/_arrayEach.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/cmd/index.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/InputOutputProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/EntryFieldDescription.js","webpack:///./node_modules/lodash/_apply.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/Listener.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/ListenerProps.js","webpack:///./node_modules/lodash/hasIn.js","webpack:///./node_modules/lodash/_baseAssignValue.js","webpack:///./node_modules/lodash/_createBind.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/ErrorEventDefinition.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/CheckboxEntryFactory.js","webpack:///./node_modules/lodash/_arrayIncludes.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/SignalEventDefinitionScopeProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/Tasklist.js","webpack:///./node_modules/lodash/_copyObject.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/CandidateStarterProps.js","webpack:///./node_modules/lodash/_overArg.js","webpack:///./node_modules/lodash/filter.js","webpack:///./node_modules/lodash/_mapCacheDelete.js","webpack:///./node_modules/lodash/_createBaseEach.js","webpack:///./node_modules/lodash/isFunction.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/ProcessProps.js","webpack:///./node_modules/lodash/eq.js","webpack:///./node_modules/lodash/_baseIsMatch.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/JobConfigurationProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/helper/FormHelper.js","webpack:///./node_modules/lodash/_baseMap.js","webpack:///./node_modules/lodash/flattenDeep.js","webpack:///./node_modules/lodash/_createBaseFor.js","webpack:///./node_modules/lodash/_nodeUtil.js","webpack:///./node_modules/lodash/_isIterateeCall.js","webpack:///./node_modules/lodash/get.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/VersionTagProps.js","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/cmd/index.js","webpack:///./node_modules/lodash/_baseFilter.js","webpack:///./src/views/New2.vue?6a10","webpack:///./node_modules/lodash/_arrayAggregator.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/CandidateStarter.js","webpack:///./node_modules/lodash/_equalArrays.js","webpack:///./node_modules/lodash/_baseSetToString.js","webpack:///./node_modules/lodash/_mapCacheHas.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/CompensateEventDefinition.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/CallActivityProps.js","webpack:///./node_modules/lodash/_reorder.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/ElementReferenceProperty.js","webpack:///./node_modules/lodash/_getAllKeys.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/FieldInjection.js","webpack:///./node_modules/lodash/_mergeData.js","webpack:///./node_modules/lodash/_setToArray.js","webpack:///./node_modules/lodash/_baseUnary.js","webpack:///./node_modules/lodash/debounce.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/HistoryTimeToLiveProps.js","webpack:///./node_modules/lodash/_equalObjects.js","webpack:///./node_modules/lodash/isLength.js","webpack:///./node_modules/lodash/_baseSetData.js","webpack:///./node_modules/lodash/toNumber.js","webpack:///./node_modules/lodash/_listCacheGet.js","webpack:///./node_modules/lodash/_DataView.js","webpack:///./node_modules/lodash/_countHolders.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/PropertiesActivator.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/Properties.js","webpack:///./node_modules/lodash/_getWrapDetails.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/PropertiesProps.js","webpack:///./node_modules/lodash/_baseIteratee.js","webpack:///./node_modules/lodash/_hashGet.js","webpack:///./node_modules/lodash/noop.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/TextInputEntryFactory.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/DocumentationProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/FieldInjectionProps.js","webpack:///./node_modules/lodash/_baseIsEqual.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/ConditionalEventDefinition.js","webpack:///./node_modules/lodash/_isIndex.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/cmd/CreateAndReferenceHandler.js","webpack:///./node_modules/lodash/_setToString.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/ConditionalProps.js","webpack:///./node_modules/lodash/_wrapperClone.js","webpack:///./node_modules/lodash/_cacheHas.js","webpack:///./node_modules/lodash/_Set.js","webpack:///./src/views/New2.vue?cbb0","webpack:///src/views/New2.vue","webpack:///./src/views/New2.vue?dada","webpack:///./src/views/New2.vue?33db","webpack:///./node_modules/lodash/_assocIndexOf.js","webpack:///./node_modules/lodash/_composeArgs.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/MultiInstanceLoopProps.js","webpack:///./node_modules/lodash/identity.js","webpack:///./node_modules/lodash/_baseToString.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/UserTaskProps.js","webpack:///./node_modules/lodash/_createPartial.js","webpack:///./node_modules/lodash/_stackSet.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/AsynchronousContinuationProps.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/PropertiesPanel.js","webpack:///./node_modules/lodash/stubArray.js","webpack:///./node_modules/lodash/isArguments.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/Validator.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/cmd/MultiCommandHandler.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/helper/EventDefinitionHelper.js","webpack:///./node_modules/lodash/_SetCache.js","webpack:///./node_modules/lodash/_baseIsNaN.js","webpack:///./node_modules/lodash/_coreJsData.js","webpack:///./node_modules/lodash/_insertWrapDetails.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/Helper.js","webpack:///./node_modules/lodash/_setCacheHas.js","webpack:///./node_modules/lodash/_toSource.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/HistoryTimeToLive.js","webpack:///./node_modules/lodash/isArrayLikeObject.js","webpack:///./node_modules/lodash/assign.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/helper/ParticipantHelper.js","webpack:///./node_modules/lodash/map.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/SelectEntryFactory.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/cmd/UpdateBusinessObjectHandler.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/helper/ImplementationTypeHelper.js","webpack:///./node_modules/lodash/_Hash.js","webpack:///./node_modules/lodash/_hasPath.js","webpack:///./node_modules/lodash/_castPath.js","webpack:///./node_modules/lodash/memoize.js","webpack:///./node_modules/lodash/_basePropertyDeep.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/ConnectorDetailProps.js","webpack:///./node_modules/lodash/_createRecurry.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/EntryFactory.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/element-templates/parts/ChooserProps.js","webpack:///./node_modules/lodash/_replaceHolders.js","webpack:///./node_modules/lodash/_createWrap.js","webpack:///./node_modules/lodash/_LodashWrapper.js","webpack:///./node_modules/lodash/_isPrototype.js","webpack:///./node_modules/lodash/keys.js","webpack:///./node_modules/lodash/_baseXor.js","webpack:///./node_modules/lodash/_mapToArray.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/InputOutput.js","webpack:///./node_modules/lodash/_baseProperty.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/JobPriority.js","webpack:///./node_modules/lodash/_stackClear.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/ExecutableProps.js","webpack:///./node_modules/lodash/_shortOut.js","webpack:///./node_modules/lodash/_toKey.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/EscalationEventDefinition.js","webpack:///./node_modules/lodash/_isKey.js","webpack:///./node_modules/lodash/_setData.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/EventDefinitionReference.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/bpmn/parts/implementation/MessageEventDefinition.js","webpack:///./node_modules/lodash/property.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/provider/activiti/parts/implementation/ExternalTaskPriority.js","webpack:///./node_modules/bpmn-js-properties-panel/lib/factory/ValidationAwareTextInput.js","webpack:///./node_modules/lodash/_listCacheHas.js","webpack:///./node_modules/lodash/_updateWrapDetails.js","webpack:///./node_modules/mitt/dist/mitt.es.js","webpack:///./node_modules/scroll-tabs/index.js","webpack:///./node_modules/lodash/isSymbol.js"],"names":["ImplementationTypeHelper","InputOutputHelper","triggerClickEvent","implementationType","delegate","external","callable","resultVariable","entryFactory","domQuery","query","domClosest","closest","domClasses","classes","getImplementationType","element","getBusinessObject","getServiceTaskLikeBusinessObject","isDmnCapable","isExternalCapable","isServiceTaskLike","getTabNode","el","id","containerEl","module","exports","group","bpmnFactory","translate","hasDmnSupport","hasExternalSupport","entries","concat","hasServiceTaskLikeSupport","hideResultVariable","node","getCallableType","isConnector","push","link","label","handleClick","event","connectorTabEl","showLink","textContent","remove","connectorId","getConnector","get","innerHTML","add","Symbol","objectProto","Object","prototype","hasOwnProperty","nativeObjectToString","toString","symToStringTag","toStringTag","undefined","getRawTag","value","isOwn","call","tag","unmasked","e","result","isPrototype","nativeKeys","baseKeys","object","key","isArguments","isArray","spreadableSymbol","isConcatSpreadable","isFlattenable","stubFalse","arrayPush","array","values","index","length","offset","isObject","isStrictComparable","cmdHelper","DELEGATE_TYPES","PROPERTIES","class","expression","delegateExpression","implementation","isDelegate","type","indexOf","getAttribute","options","getDelegationLabel","delegateEntry","textField","dataValueLabel","modelProperty","bo","attr","delegationLabel","set","prop","updateBusinessObject","validate","hidden","strictIndexOf","fromIndex","baseIsNative","getValue","getNative","script","LISTENER_TYPE_LABEL","getSelectedListener","classProp","expressionProp","delegateExpressionProp","scriptProp","executionListenerEventTypeOptions","isSequenceFlow","name","taskListenerEventTypeOptions","isSelected","selectBox","emptyParameter","listener","eventType","selectOptions","eventTypeOptions","selectedListener","isTaskListener","isExecutionListener","listenerType","update","create","listenerValueLabel","listenerValue","html","template","isScript","freeExports","nodeType","freeModule","moduleExports","Buffer","root","nativeIsBuffer","isBuffer","inputOutput","inputOutputEntry","idPrefix","insideConnector","getSelectedParameter","identity","overRest","setToString","baseRest","func","start","is","isAny","eventDefinitionHelper","forEach","message","signal","error","escalation","timer","compensation","condition","elementRegistry","events","messageEventDefinition","getMessageEventDefinition","signalEventDefinition","getSignalEventDefinition","errorEvents","errorEventDefinition","getErrorEventDefinition","isCatchingErrorEvent","showErrorCodeVariable","showErrorMessageVariable","escalationEvents","showEscalationCodeVariable","escalationEventDefinition","getEscalationEventDefinition","timerEvents","timerEventDefinition","getTimerEventDefinition","compensationEvents","compensateEventDefinition","getCompensateEventDefinition","conditionalEvents","conditionalEventDefinition","getConditionalEventDefinition","realNames","getFuncName","data","otherFunc","ElementHelper","createElement","elementType","properties","parent","factory","$parent","baseCreate","createCtor","Ctor","args","arguments","thisBinding","apply","isKeyable","castFunction","isObjectLike","coreJsData","maskSrcKey","uid","exec","keys","IE_PROTO","isMasked","getTag","isArrayLike","isTypedArray","mapTag","setTag","isEmpty","splice","size","inputOutputParameter","assign","extensionElementsHelper","elementHelper","map","DEFAULT_DELEGATE_PROPS","DELEGATE_PROPS","DMN_CAPABLE_PROPS","EXTERNAL_CAPABLE_PROPS","DEFAULT_OPTIONS","DMN_OPTION","EXTERNAL_OPTION","CONNECTOR_OPTION","SCRIPT_OPTION","getType","hasScriptSupport","implType","oldType","newType","props","newValue","commands","connectors","getExtensionElements","connector","removeEntry","extensionElements","addAndRemoveElementsFromList","baseIsEqual","hasIn","isKey","matchesStrictComparable","toKey","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","baseMatchesProperty","path","srcValue","objValue","entryFieldDescription","bind","description","Error","resource","cssClasses","memoizeCapped","rePropName","reEscapeChar","stringToPath","string","charCodeAt","replace","match","number","quote","subString","Uint8Array","eq","equalArrays","mapToArray","setToArray","boolTag","dateTag","errorTag","numberTag","regexpTag","stringTag","symbolTag","arrayBufferTag","dataViewTag","symbolProto","symbolValueOf","valueOf","equalByTag","other","bitmask","customizer","equalFunc","stack","byteLength","byteOffset","buffer","convert","isPartial","stacked","Promise","CreateBusinessObjectListHandler","this","_elementRegistry","_bpmnFactory","ensureNotNull","ensureList","$inject","execute","context","currentObject","propertyName","newObjects","changed","childObjects","self","obj","childObject","previousChilds","revert","getTimerDefinitionType","timeDate","timeCycle","timeDuration","createFormalExpression","body","TimerEventDefinition","timerDefinitionType","definition","timerDefinition","__depends__","default","__init__","customElementsPropertiesActivator","elementTemplates","elementTemplatesLoader","asyncCapableHelper","isActivitiAsync","isExclusive","removeFailedJobRetryTimeCycle","canRemoveFailedJobRetryTimeCycle","labelPrefix","activitiAsyncEntry","checkbox","async","asyncValue","exclusiveEntry","exclusive","hashDelete","has","__data__","getMapData","mapCacheSet","nativeMax","Math","max","transform","Array","otherArgs","memoize","MAX_MEMOIZE_SIZE","cache","clear","utils","getScriptType","selectedType","parentElement","scriptLanguagePropName","scriptValuePropName","isFormatRequired","boScriptResource","boScript","boScriptFormat","scriptResourceValue","scriptType","scriptValue","scriptFormat","containerElement","validationResult","clearScriptFormat","inputNode","btnNode","scopeNode","canClearScriptFormat","input","clearScriptResource","canClearScriptResource","clearScript","canClearScript","isScriptResource","baseFor","baseForOwn","iteratee","Validator","ElementTemplatesLoader","loadTemplates","eventBus","_loadTemplates","_eventBus","_elementTemplates","on","reload","err","templates","templateErrors","setTemplates","validator","addAll","errors","getErrors","validTemplates","getValidTemplates","templatesChanged","fire","baseEach","baseAggregator","collection","setter","accumulator","mapCacheGet","elementReferenceProperty","referenceProperty","shouldValidate","nativeCreate","HASH_UNDEFINED","hashSet","baseGetTag","argsTag","baseIsArguments","nameEntryFactory","arrayMap","baseValues","createWrap","getHolder","replaceHolders","WRAP_BIND_FLAG","WRAP_PARTIAL_FLAG","thisArg","partials","holders","placeholder","baseHasIn","createFind","findIndex","find","metaMap","noop","getData","listCacheClear","nameEntry","textBox","objectToString","LazyWrapper","LodashWrapper","baseLodash","wrapperClone","lodash","constructor","CmdHelper","updateProperties","cmd","businessObject","newProperties","addElementsTolist","listPropertyName","objectsToAdd","removeElementsFromList","referencePropertyName","objectsToRemove","setList","updatedObjectList","ExtensionElementsHelper","extensionValues","elements","filter","addEntry","entry","baseFindIndex","predicate","fromRight","freeGlobal","freeSelf","Function","SetCache","arrayIncludes","arrayIncludesWith","cacheHas","createSet","LARGE_ARRAY_SIZE","baseUniq","comparator","includes","isCommon","seen","outer","computed","seenIndex","getProperty","loopCharacteristics","getLoopCharacteristics","getBody","getLoopCardinality","getLoopCardinalityValue","loopCardinality","getCompletionCondition","getCompletionConditionValue","completionCondition","getCollection","getElementVariable","updateFormalExpression","expressionProps","existingExpression","isValid","notification","scope","toggle","elementVariable","arrayFilter","resIndex","overArg","getPrototype","getPrototypeOf","getTemplate","findExtension","findExtensions","findInputParameter","findOutputParameter","findCamundaProperty","findCamundaInOut","createCamundaProperty","createInputParameter","createOutputParameter","createCamundaIn","createCamundaOut","createCamundaInWithBusinessKey","createCamundaFieldInjection","ACTIVITI_PROPERTY_TYPE","ACTIVITI_INPUT_PARAMETER_TYPE","ACTIVITI_OUTPUT_PARAMETER_TYPE","ACTIVITI_IN_TYPE","ACTIVITI_OUT_TYPE","ACTIVITI_IN_BUSINESS_KEY_TYPE","ACTIVITI_EXECUTION_LISTENER_TYPE","ACTIVITI_FIELD","BASIC_MODDLE_TYPES","EXTENSION_BINDING_TYPES","IO_BINDING_TYPES","IN_OUT_BINDING_TYPES","propertyGetter","property","getPropertyValue","objectWithKey","propertySetter","setPropertyValue","propertyValidator","validateValue","camundaProperties","camundaProperty","ioParameter","ioElement","executionListener","fieldInjection","binding","bindingType","bindingName","propertyValue","businessKey","target","fieldInjections","item","unknownPropertyBinding","existingCamundaProperty","newCamundaProperty","existingIoParameter","newIoParameter","existingInOut","newInOut","updates","language","moddlePropertyDescriptor","$descriptor","propertiesByName","moddleType","parseInt","isNaN","existingFieldInjections","newFieldInjections","console","warn","constraints","notEmpty","maxLength","minLength","pattern","matchesPattern","propertyWithScope","scopeName","str","regexp","RegExp","test","renderCustomField","p","idx","propertyType","entryOptions","choices","groups","customFieldsGroup","scopes","idScopeName","customScopeFieldsGroup","propertyId","scopedProperty","baseUnary","baseDifference","valuesLength","valuesIndex","isIterateeCall","createAssigner","assigner","sources","guard","source","resultVariableEntry","stackDelete","validationAwareTextField","setProperty","labelTarget","idValue","idError","isIdValid","domClear","domify","Ids","SPACE_REGEX","QNAME_REGEX","ID_REGEX","PLACEHOLDER_REGEX","selectedOption","selectedIndex","elementSyntax","typeSelect","getRoot","filterElementsByType","objectList","list","findRootElementsByType","referencedType","rootElements","removeAllChildren","domElement","firstChild","removeChild","addEmptyParameter","refreshOptionsModel","model","referableObjects","updateOptionsDropDown","domSelector","entryNode","option","optionEntry","appendChild","assigned","$model","ids","idExists","validateId","stripPlaceholders","containsSpace","nextId","prefix","nextPrefixed","evt","document","createEvent","MouseEvent","view","window","bubbles","cancelable","initEvent","dispatchEvent","createEventObject","fireEvent","composeArgsRight","isCurried","argsIndex","argsLength","holdersIndex","holdersLength","rightIndex","rightLength","rangeLength","isUncurried","isFunction","isLength","attributeInfo","bpmn","version","versionTag","tenantId","cmmn","dmn","bindingOptions","mapDecisionResultOptions","delegateVariableMappingOptions","getCamundaInWithBusinessKey","camundaIn","camundaInParams","param","setBusinessKey","text","camundaInWithBusinessKey","deleteBusinessKey","camundaInExtensions","elem","isSupportedCallableType","getCallActivityBindingValue","getDelegateVariableMappingType","boVariableMappingClass","boVariableMappingDelegateExpression","delegateVariableMappingType","callableElementRef","callableElementLabel","newCallableElementRef","elementRef","bindingOption","callableBinding","attrVer","attrVerTag","callableVersion","callableBusinessKey","mapDecisionResult","delegateVariableMapping","delegateVariableMappingLabel","propertiesProvider","baseAssignValue","assignValue","stubArray","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","getSymbols","symbol","isExternal","topicEntry","externalTopic","boResultVariable","scriptResultVariable","toSource","reRegExpChar","reIsHostCtor","funcProto","funcToString","reIsNative","nullTag","undefinedTag","isLaziable","funcName","WeakMap","externalTaskPriority","defineProperty","insideListener","fieldInjectionEntry","getMatchData","getSelectBox","currentTab","getSelected","generateElementId","CREATE_EXTENSION_ELEMENT_ACTION","REMOVE_EXTENSION_ELEMENT_ACTION","idGeneration","getElements","createExtensionElement","canCreate","removeElement","removeExtensionElement","canRemove","onSelectionChange","hideElements","hideExtensionElements","canBeHidden","setOptionLabelValue","defaultSize","resizable","reference","selectionChanged","createOption","initSelectionSize","optionsLength","extensionElementValue","parentNode","action","__action","createListEntryTemplate","deselect","setControlValue","generatedId","lastChild","selected","selection","disableRemove","selectElement","now","Date","inherits","PropertiesActivator","processProps","eventProps","linkProps","documentationProps","idProps","nameProps","executableProps","serviceTaskDelegateProps","userTaskProps","asynchronousContinuationProps","callActivityProps","multiInstanceProps","conditionalProps","scriptProps","formProps","startEventInitiator","variableMapping","signalEventDefinitionProps","messageEventDefinitionProps","listenerProps","listenerDetails","listenerFields","elementTemplateChooserProps","elementTemplateCustomProps","connectorDetails","connectorInputOutput","connectorInputOutputParameter","jobConfiguration","historyTimeToLive","candidateStarter","tasklist","externalTaskConfiguration","implementationTypeHelper","isExternalTaskPriorityEnabled","externalBo","isExternalTask","isJobConfigEnabled","getInputOutputParameterLabel","getListenerLabel","PROCESS_KEY_HINT","TASK_KEY_HINT","createGeneralTabGroups","idOptions","processOptions","generalGroup","processIdDescription","customFieldsGroups","detailsGroup","multiInstanceGroup","asyncGroup","jobConfigurationGroup","enabled","externalTaskGroup","candidateStarterGroup","historyTimeToLiveGroup","tasklistGroup","documentationGroup","createVariablesTabGroups","variablesGroup","createFormsTabGroups","formGroup","createListenersTabGroups","listenersGroup","listenerDetailsGroup","listenerFieldsGroup","createInputOutputTabGroups","inputOutputGroup","inputOutputParameterGroup","createConnectorTabGroups","connectorDetailsGroup","connectorInputOutputGroup","connectorInputOutputParameterGroup","createFieldInjectionsTabGroups","fieldGroup","createExtensionElementsGroups","propertiesGroup","CamundaPropertiesProvider","getTabs","generalTab","variablesTab","formsTab","listenersTab","getLinkEventDefinition","inputOutputTab","connectorTab","fieldInjectionsTab","extensionsTab","createAggregator","keyBy","baseXor","isArrayLikeObject","xor","arrays","arraySome","DataView","Map","Set","objectTag","promiseTag","weakMapTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","ArrayBuffer","resolve","ctorString","copyArray","ElementTemplates","_templates","descriptors","descriptor","getAll","createHybrid","createRecurry","createCurry","arity","wrapper","fn","baseIsNaN","baseIndexOf","createBaseEach","inputOutputHelper","isList","isMap","ensureInputOutputSupported","isInputOutputSupported","typeInfo","validation","nameValue","parameterType","$type","createParameterTypeElem","show","table","modelProperties","labels","items","updateElement","addElement","editable","addLabel","newEntry","hashClear","toFinite","toInteger","remainder","defaultParameters","canBeShown","isShown","parameterValue","parameterDefinition","createCamundaInOutAttrs","createCamundaExecutionListenerScript","DEFAULT_PROPS","sourceExpression","variables","local","k","getWrapDetails","insertWrapDetails","updateWrapDetails","setWrapToString","getFailedJobRetryTimeCycle","retryTimeCycles","cycle","arrayAggregator","baseIteratee","initializer","arrayEach","isArr","isArrLike","baseTimes","n","eventDefinitionReference","elementName","newElementIdPrefix","UpdateBusinessObjectListHandler","previousList","listCopy","parentObject","ModelUtil","elems","getParameters","getInputOutput","getInputParameters","getOutputParameters","getInputParameter","getOutputParameter","areOutputParametersSupported","stackHas","domAttr","updateSelection","TABLE_ROW_DIV_SNIPPET","DELETE_ROW_BUTTON_SNIPPET","createInputRowTemplate","createInputTemplate","columns","createLabelRowTemplate","createLabelTemplate","pick","newElement","diff","oldValues","valueEqual","oldValue","allKeys","every","o","getEntryNode","getContainer","getSelection","selectionStart","end","selectionEnd","setSelection","labelRow","canAdd","canUpdate","boElements","__invalidValues","invalidValues","valuesToValidate","validationError","container","deleteElement","rowToDelete","delegateTarget","rowNode","showTable","validateListItem","isReadOnly","activeElement","global","formHelper","each","generateValueId","formFieldTextField","getSelectedFormField","selectedFormField","formField","ensureFormKeyAndDataSupported","formKey","formFieldsEntry","formData","getFormData","fields","field","getFormFields","formBusinessKeyFormFieldEntry","formFields","formDataExtension","storedValue","isStartEvent","labelText","showLabel","trim","existingFormField","f","comboBox","divider","getEnumValues","enumValue","getConstraints","newConstraint","config","constraint","currentConstraint","getParent","getFormField","baseFlatten","depth","isStrict","findIndexFunc","iterable","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","messageEventDefinitionCorrelationKey","MAX_ARRAY_LENGTH","__wrapped__","__actions__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","webpackPolyfill","deprecate","paths","children","enumerable","l","i","toNumber","INFINITY","MAX_INTEGER","sign","baseIsMatch","baseMatches","matchData","castPath","baseGet","assocIndexOf","arrayProto","lastIndex","pop","ACTIVITI_SERVICE_TASK_LIKE","ChangeElementTemplateHandler","modeling","commandStack","getOrCreateExtensionElements","updateModelerTemplate","newTemplate","updateIoMappings","oldMappings","newMappings","createInputOutputMappings","updateCamundaField","createCamundaFieldInjections","updateCamundaProperties","oldProperties","createCamundaProperties","createBpmnPropertyUpdates","newPropertiesCount","updateInOut","oldInOut","createCamundaInOut","inout","updateExecutionListener","oldExecutionsListeners","newExecutionListeners","createCamundaExecutionListeners","updateScopeElements","scopeDefinition","scopeElement","oldScope","preExecute","propertyUpdates","bindingTarget","injections","inputParameters","outputParameters","inOuts","composeArgs","countHolders","reorder","WRAP_BIND_KEY_FLAG","WRAP_CURRY_FLAG","WRAP_CURRY_RIGHT_FLAG","WRAP_ARY_FLAG","WRAP_FLIP_FLAG","partialsRight","holdersRight","argPos","ary","isAry","isBind","isBindKey","isFlip","holdersCount","newHolders","reverse","isIndex","arrayLikeKeys","inherited","isArg","isBuff","isType","skipIndexes","String","createBaseFor","linkEventDefinition","eventDefinitions","eventDefinition","linkEvents","constant","baseIsTypedArray","nodeUtil","nodeIsTypedArray","selectEntryFactory","customValue","customName","isCustomValue","isCustom","comboOptions","showCustomInput","modifiedValues","comboBoxEntry","arrayTag","funcTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","objectCreate","proto","baseToString","hashHas","mapCacheClear","mapCacheDelete","mapCacheHas","MapCache","HIGHER_PRIORITY","CustomElementsPropertiesActivator","isEntryVisible","isPropertyEditable","isEntryEditable","CUSTOM_PROPERTIES_PATTERN","DEFAULT_ENTRIES_VISIBLE","_all","isCustomEntry","entryId","entriesVisible","defaultVisible","entryVisible","indexes","split","Stack","equalObjects","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","Hash","calculateUpdate","currentSelection","currentValue","currentCursor","newCursor","currentTail","substring","lastIndexOf","createDiff","newStart","newEnd","range","insert","l_str","l_char","s_str","s_char","l_idx","s_idx","charAt","l_start","s_start","complete","l_end","s_end","baseGetAllKeys","keysFunc","symbolsFunc","createExtensionElements","createFailedJobRetryTimeCycle","retryTimeCycleEntry","retryTimeCycle","newCycle","correlatioKeyEntry","correlationKey","stackClear","stackGet","stackSet","setCacheAdd","propertiesPanel","extensionElementsEntry","inOutTypeOptions","getCamundaInOutMappings","getVariableMappings","camundaMappings","mapping","getInOutType","inOutType","ACTIVITI_IN_EXTENSION_ELEMENT","ACTIVITI_OUT_EXTENSION_ELEMENT","WHITESPACE_REGEX","inEntry","parameter","outEntry","variableMappings","mappingValue","mappingType","newElem","variablesMappings","sourceLabel","toLowerCase","selectedMapping","HANDLERS","CommandInitializer","handler","registerHandler","MARKDOWN_LINK_REGEX","linkify","getListeners","ACTIVITI_EXECUTION_LISTENER_ELEMENT","ACTIVITI_TASK_LISTENER_ELEMENT","executionListenerEntry","taskListenerEntry","listeners","initialEvent","processRef","listenerEntry","hasPath","createBind","modelPropertyValue","setValue","canBeDisabled","disabled","res","isDisabled","isHidden","signalEventDefinitionScope","isStartableInTasklistEntry","isStartableInTasklist","copyObject","isNew","arg","baseFilter","eachFunc","asyncTag","genTag","proxyTag","participantHelper","idEntry","getProcessBusinessObject","processId","modifyProcessBusinessObject","processIdError","processNameEntry","noCustomizer","jobPriority","jobRetryTimeCycle","FormHelper","baseMap","flattenDeep","freeProcess","process","types","require","defaultValue","versionTagEntry","processBo","getDefaultTemplate","registerHandlers","applyDefaultTemplate","shape","connection","command","commandContext","candidateStarterGroupsEntry","candidateStarterGroups","candidateStarterUsersEntry","candidateStarterUsers","arrLength","othLength","arrValue","othValue","compared","othIndex","baseSetToString","getContainedActivities","getFlowElements","getContainedBoundaryEvents","flowElements","isCompensationEventAttachedToActivity","activity","boundaryEvents","activityId","boundaryEvent","attachedToRef","canActivityBeCompensated","triggeredByEvent","getActivitiesForCompensation","getActivitiesForActivityRef","activitiesForActivityRef","createActivityRefOptions","activities","waitForCompletion","activityRef","boCalledElement","boCaseRef","callActivityType","calledElement","nativeMin","min","oldArray","validationErrors","getAllKeys","ACTIVITI_FIELD_EXTENSION_ELEMENT","getSelectedField","fieldEntry","getCamundaFields","getCamundaListenerFields","getFieldType","fieldType","expressionValue","stringValue","camundaFields","newFieldElem","selectedField","fieldName","fieldTypeOptions","fieldValue","PLACEHOLDER","WRAP_CURRY_BOUND_FLAG","WRAP_REARG_FLAG","mergeData","srcBitmask","newBitmask","isCombo","FUNC_ERROR_TEXT","debounce","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","leadingEdge","setTimeout","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","clearTimeout","flush","debounced","isInvoking","objProps","objLength","othProps","skipCtor","objCtor","othCtor","MAX_SAFE_INTEGER","baseSetData","isSymbol","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","isBinary","slice","DEFAULT_PRIORITY","priority","generatePropertyId","getPropertyValues","getPropertiesElement","isExtensionElements","getPropertiesElementInsideExtensionElements","createParent","propertyProps","propertyValues","currentProperty","reWrapDetails","reSplitDetails","propertiesEntry","hashGet","defaultButtonAction","defaultButtonShow","buttonLabel","actionName","buttonAction","actionMethod","method","showName","buttonShow","showMethod","documentations","documentation","newObjectList","elementDocuEntry","processDocuEntry","isEventSubProcess","isConditionalStartEvent","reIsUint","CreateAndReferenceElementHandler","referencingObject","newObject","newObjectContainer","newObjectParent","referencedObject","previousReference","shortOut","isConditionalSource","conditionExpression","conditionType","conditionLanguage","conditionOrConditionExpression","conditionProps","isExpression","canClear","CONDITIONAL_SOURCES","clone","__chain__","__index__","__values__","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","_v","changeFile","slot","staticRenderFns","component","leftIndex","leftLength","multiInstanceLoopCharacteristics","asyncContinuation","ensureMultiInstanceSupported","symbolToString","createPartial","pairs","domQueryAll","queryAll","domRemove","domDelegate","domMatches","matches","scrollTabs","HIDE_CLASS","DEBOUNCE_DELAY","isToggle","isSelect","isContentEditable","getPropertyPlaceholders","selector","placeholders","getFormControls","all","controls","getFormControlValuesInScope","controlNodes","controlNode","checked","innerText","getFormControlValues","listContainer","listNodes","listNode","valuesEqual","v","extractEntries","tabs","extractGroups","PropertiesPanel","canvas","_modeling","_commandStack","_canvas","_propertiesProvider","_init","isImplicitRoot","newSelection","rootElement","getRootElement","tabBarNode","_container","scroller","selectors","tabsContainer","tab","ignore","active","newActiveNode","oldActiveNode","direction","linkNode","tabId","activateTab","current","_current","detach","_bindListeners","attachTo","jquery","_emit","panelNode","panel","allTabNodes","allTabLinkNodes","tabNode","currentTabId","tabLinkNode","tabLink","needsCreate","newTabs","_entriesChanged","activeTabId","activeTabNode","_create","_updateActivation","oldEntryIds","newEntryIds","handleChange","getEntry","onChangeAction","isEntryDirty","executeAction","applyChanges","updateState","handleInput","eventHandlerId","keyCode","stopPropagation","preventDefault","actionId","updateShow","updateDisable","showNodes","showNode","expr","shouldShow","nodes","currentNode","shouldDisable","commandToExecute","applyValidationErrors","valid","errorMessageNode","insertBefore","nextSibling","listEntryNodes","listValue","listEntryNode","setInputValue","contentEditable","setSelectValue","setToggleValue","nodeValue","setTextValue","getContentEditableSelection","focusNode","focusOffset","anchorOffset","contains","setContentEditableSelection","domRange","domSelection","createRange","setStart","setEnd","removeAllRanges","addRange","containerNode","_createPanel","_bindTemplate","inputNodes","isGroupVisible","groupNode","isTabVisible","toggleVisible","visible","checkActiveTabVisibility","isActive","updateLabel","labelNode","tabVisible","groupVisible","listEntryContainer","existingElements","listItemNode","entriesToRemove","j","headerNode","tabLinksNode","tabContainerNode","tabIndex","querySelector","addEventListener","defaultPrevented","cssClass","DROPDOWN_TYPE","VALID_TYPES","PROPERTY_TYPE","ACTIVITI_EXECUTION_LISTENER","VALID_BINDING_TYPES","_templatesById","_validTemplates","_errors","_logError","_validateTemplate","appliesTo","_validateProperties","_validateScopes","validProperties","_validateProperty","join","isDropdownChoiceValid","c","MultiCommandHandler","EventDefinitionHelper","getEventDefinition","setCacheHas","reWrapComment","details","TEMPLATE_ATTR","getTemplateId","t","isDefault","matcher","isInOut","parameters","historyTimeToLiveEntry","ParticipantHelper","selectbox","inputName","reduce","UpdateBusinessObjectHandler","getProperties","propertyNames","setProperties","referenceType","extensionsElementHelper","isListener","isServiceTask","decisionRef","cls","hasFunc","resolver","memoized","Cache","basePropertyDeep","setData","WRAP_PARTIAL_RIGHT_FLAG","wrapFunc","isCurry","newHoldersRight","newPartials","newPartialsRight","newData","textInputField","checkboxField","selectBoxField","comboBoxField","textBoxField","validationAwareTextInputField","tableField","labelEntry","setDefaultParameters","defaultGet","defaultSet","defaultValidate","EntryFactory","applyTemplate","newTemplateId","oldTemplate","getTemplateOptions","currentTemplateId","emptyOption","allOptions","defaultOption","isDefaultTemplate","currentOption","unknownTemplate","templateId","elementTemplate","chainAll","createInputOutput","createParameter","ensureOutparameterSupported","TYPE_LABEL","inputEntry","outputEntry","getter","otherProp","firstLength","secondLength","suffix","baseProperty","jobPriorityEntry","executableEntry","HOT_COUNT","HOT_SPAN","nativeNow","count","lastCalled","stamp","remaining","codeVariable","escalationCodeVariable","reIsDeepProp","reIsPlainProp","findElementById","selectedElement","optionTemplate","externalTaskPriorityEntry","taskPriority","__lastInvalidValue","wrapFlags","pair","sort","mitt","off","emit","scrollSymbolLeft","scrollSymbolRight","ScrollTabs","$el","_createScrollButtons","_bindEvents","__scrollTabs","_createButton","className","button","childNodes","getActiveTabNode","getTabsContainerNode","getAllTabNodes","getVisibleTabs","allTabs","getAdjacentTab","referenceTabNode","visibleTabs","_bindWheelEvent","_bindTabClickEvents","_bindScrollButtonEvents","scrollToTabNode","deltaY","oldActiveTab","newActiveTab","oldActiveTabNode","newActiveTabNode","tabsContainerNode","tabWidth","offsetWidth","tabOffsetLeft","offsetLeft","tabOffsetRight","containerWidth","containerScrollLeft","scrollLeft","overflow","scrollWidth","overflowClass"],"mappings":"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","file":"js/chunk-6a27e784.3128768d.js","sourcesContent":["'use strict';\r\n\r\nvar ImplementationTypeHelper = require('../../../helper/ImplementationTypeHelper'),\r\n    InputOutputHelper = require('../../../helper/InputOutputHelper');\r\n\r\nvar triggerClickEvent = require('../../../Utils').triggerClickEvent;\r\n\r\nvar implementationType = require('./implementation/ImplementationType'),\r\n    delegate = require('./implementation/Delegate'),\r\n    external = require('./implementation/External'),\r\n    callable = require('./implementation/Callable'),\r\n    resultVariable = require('./implementation/ResultVariable');\r\n\r\nvar entryFactory = require('../../../factory/EntryFactory');\r\n\r\nvar domQuery = require('min-dom').query,\r\n    domClosest = require('min-dom').closest,\r\n    domClasses = require('min-dom').classes;\r\n\r\nfunction getImplementationType(element) {\r\n  return ImplementationTypeHelper.getImplementationType(element);\r\n}\r\n\r\nfunction getBusinessObject(element) {\r\n  return ImplementationTypeHelper.getServiceTaskLikeBusinessObject(element);\r\n}\r\n\r\nfunction isDmnCapable(element) {\r\n  return ImplementationTypeHelper.isDmnCapable(element);\r\n}\r\n\r\nfunction isExternalCapable(element) {\r\n  return ImplementationTypeHelper.isExternalCapable(element);\r\n}\r\n\r\nfunction isServiceTaskLike(element) {\r\n  return ImplementationTypeHelper.isServiceTaskLike(element);\r\n}\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n\r\n  if (!isServiceTaskLike(getBusinessObject(element))) {\r\n    return;\r\n  }\r\n\r\n  var hasDmnSupport = isDmnCapable(element);\r\n  var hasExternalSupport = isExternalCapable(getBusinessObject(element));\r\n\r\n  // implementation type ////////////////////////////////////\r\n\r\n  group.entries = group.entries.concat(implementationType(element, bpmnFactory, {\r\n    getBusinessObject: getBusinessObject,\r\n    getImplementationType: getImplementationType,\r\n    hasDmnSupport: hasDmnSupport,\r\n    hasExternalSupport: hasExternalSupport,\r\n    hasServiceTaskLikeSupport: true\r\n  }, translate));\r\n\r\n\r\n  // delegate (class, expression, delegateExpression, implementation) //////////\r\n\r\n  group.entries = group.entries.concat(delegate(element, bpmnFactory, {\r\n    getBusinessObject: getBusinessObject,\r\n    getImplementationType: getImplementationType\r\n  }, translate));\r\n\r\n\r\n  // result variable /////////////////////////////////////////\r\n\r\n  group.entries = group.entries.concat(resultVariable(element, bpmnFactory, {\r\n    getBusinessObject: getBusinessObject,\r\n    getImplementationType: getImplementationType,\r\n    hideResultVariable: function(element, node) {\r\n      return getImplementationType(element) !== 'expression';\r\n    }\r\n  }, translate));\r\n\r\n  // external //////////////////////////////////////////////////\r\n\r\n  if (hasExternalSupport) {\r\n    group.entries = group.entries.concat(external(element, bpmnFactory, {\r\n      getBusinessObject: getBusinessObject,\r\n      getImplementationType: getImplementationType\r\n    }, translate));\r\n  }\r\n\r\n\r\n  // dmn ////////////////////////////////////////////////////////\r\n\r\n  if (hasDmnSupport) {\r\n    group.entries = group.entries.concat(callable(element, bpmnFactory, {\r\n      getCallableType: getImplementationType\r\n    }, translate));\r\n  }\r\n\r\n\r\n  // connector ////////////////////////////////////////////////\r\n\r\n  var isConnector = function(element) {\r\n    return getImplementationType(element) === 'connector';\r\n  };\r\n\r\n  group.entries.push(entryFactory.link({\r\n    id: 'configureConnectorLink',\r\n    label: translate('Configure Connector'),\r\n    handleClick: function(element, node, event) {\r\n\r\n      var connectorTabEl = getTabNode(node, 'connector');\r\n\r\n      if (connectorTabEl) {\r\n        triggerClickEvent(connectorTabEl);\r\n      }\r\n\r\n      // suppress actual link click\r\n      return false;\r\n    },\r\n    showLink: function(element, node) {\r\n      var link = domQuery('a', node);\r\n      link.textContent = '';\r\n\r\n      domClasses(link).remove('bpp-error-message');\r\n\r\n      if (isConnector(element)) {\r\n        var connectorId = InputOutputHelper.getConnector(element).get('connectorId');\r\n        if (connectorId) {\r\n          link.textContent = translate('Configure Connector');\r\n        } else {\r\n          link.innerHTML = '<span class=\"bpp-icon-warning\"></span> Must configure Connector';\r\n          domClasses(link).add('bpp-error-message');\r\n        }\r\n\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    }\r\n  }));\r\n\r\n};\r\n\r\n\r\n\r\n// helpers ///////////////////////////\r\n\r\nfunction getTabNode(el, id) {\r\n  var containerEl = domClosest(el, '.bpp-properties-panel');\r\n\r\n  return domQuery('a[data-tab-target=\"' + id + '\"]', containerEl);\r\n}","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","'use strict';\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory'),\r\n    cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\nvar DELEGATE_TYPES = [\r\n  'class',\r\n  'expression',\r\n  'delegateExpression',\r\n  'implementation'\r\n];\r\n\r\nvar PROPERTIES = {\r\n  class: 'activiti:class',\r\n  expression: 'activiti:expression',\r\n  delegateExpression: 'activiti:delegateExpression',\r\n  implementation: 'implementation'\r\n};\r\n\r\nfunction isDelegate(type) {\r\n  return DELEGATE_TYPES.indexOf(type) !== -1;\r\n}\r\n\r\nfunction getAttribute(type) {\r\n  return PROPERTIES[type];\r\n}\r\n\r\nmodule.exports = function(element, bpmnFactory, options, translate) {\r\n\r\n  var getImplementationType = options.getImplementationType,\r\n      getBusinessObject = options.getBusinessObject;\r\n\r\n  function getDelegationLabel(type) {\r\n    switch (type) {\r\n    case 'class':\r\n      return translate('Java Class');\r\n    case 'expression':\r\n      return translate('Expression');\r\n    case 'delegateExpression':\r\n      return translate('Delegate Expression');\r\n    case 'implementation':\r\n      return translate('Implementation');\r\n    default:\r\n      return '';\r\n    }\r\n  }\r\n\r\n  var delegateEntry = entryFactory.textField({\r\n    id: 'delegate',\r\n    label: translate('Value'),\r\n    dataValueLabel: 'delegationLabel',\r\n    modelProperty: 'delegate',\r\n\r\n    get: function(element, node) {\r\n      var bo = getBusinessObject(element);\r\n      var type = getImplementationType(element);\r\n      var attr = getAttribute(type);\r\n      var label = getDelegationLabel(type);\r\n      return {\r\n        delegate: bo.get(attr),\r\n        delegationLabel: label\r\n      };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var bo = getBusinessObject(element);\r\n      var type = getImplementationType(element);\r\n      var attr = getAttribute(type);\r\n      var prop = {};\r\n      prop[attr] = values.delegate || '';\r\n      return cmdHelper.updateBusinessObject(element, bo, prop);\r\n    },\r\n\r\n    validate: function(element, values, node) {\r\n      return isDelegate(getImplementationType(element)) && !values.delegate ? { delegate: 'Must provide a value' } : {};\r\n    },\r\n\r\n    hidden: function(element, node) {\r\n      return !isDelegate(getImplementationType(element));\r\n    }\r\n\r\n  });\r\n\r\n  return [ delegateEntry ];\r\n\r\n};\r\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","'use strict';\r\n\r\nvar entryFactory = require('../../../factory/EntryFactory');\r\n\r\nvar cmdHelper = require('../../../helper/CmdHelper'),\r\n    ImplementationTypeHelper = require('../../../helper/ImplementationTypeHelper'),\r\n\r\n    script = require('./implementation/Script')('scriptFormat', 'value', true);\r\n\r\n\r\nvar LISTENER_TYPE_LABEL = {\r\n  class: 'Java Class',\r\n  expression: 'Expression',\r\n  delegateExpression: 'Delegate Expression',\r\n  script: 'Script'\r\n};\r\n\r\nmodule.exports = function(group, element, bpmnFactory, options, translate) {\r\n\r\n  options = options || {};\r\n\r\n  var getSelectedListener = options.getSelectedListener;\r\n\r\n  var classProp = 'class',\r\n      expressionProp = 'expression',\r\n      delegateExpressionProp = 'delegateExpression',\r\n      scriptProp = 'script';\r\n\r\n  var executionListenerEventTypeOptions = ImplementationTypeHelper.isSequenceFlow(element) ? [\r\n    { name: 'take', value: 'take' }\r\n  ] : [\r\n    { name: 'start', value: 'start' },\r\n    { name: 'end', value: 'end' }\r\n  ];\r\n\r\n  var taskListenerEventTypeOptions = [\r\n    { name: 'create', value: 'create' },\r\n    { name: 'assignment', value: 'assignment' },\r\n    { name: 'complete', value: 'complete' },\r\n    { name: 'delete', value: 'delete' }\r\n  ];\r\n\r\n  var isSelected = function(element, node) {\r\n    return getSelectedListener(element, node);\r\n  };\r\n\r\n  group.entries.push(entryFactory.selectBox({\r\n    id: 'listener-event-type',\r\n    label: translate('Event Type'),\r\n    modelProperty: 'eventType',\r\n    emptyParameter: false,\r\n\r\n    get: function(element, node) {\r\n\r\n\r\n      var listener = getSelectedListener(element, node);\r\n\r\n      var eventType = listener && listener.get('event');\r\n\r\n      return {\r\n        eventType: eventType\r\n      };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var eventType = values.eventType;\r\n\r\n      return cmdHelper.updateBusinessObject(element, getSelectedListener(element, node), { event: eventType });\r\n    },\r\n\r\n    selectOptions: function(element, node) {\r\n      var eventTypeOptions;\r\n\r\n      var selectedListener = getSelectedListener(element, node);\r\n      if (ImplementationTypeHelper.isTaskListener(selectedListener)) {\r\n        eventTypeOptions = taskListenerEventTypeOptions;\r\n      } else if (ImplementationTypeHelper.isExecutionListener(selectedListener)) {\r\n        eventTypeOptions = executionListenerEventTypeOptions;\r\n      }\r\n\r\n      return eventTypeOptions;\r\n\r\n    },\r\n\r\n    hidden: function(element, node) {\r\n      return !isSelected(element, node);\r\n    }\r\n\r\n  }));\r\n\r\n\r\n  group.entries.push(entryFactory.selectBox({\r\n    id: 'listener-type',\r\n    label: translate('Listener Type'),\r\n    selectOptions: [\r\n      { value: classProp, name: translate('Java Class') },\r\n      { value: expressionProp, name: translate('Expression') },\r\n      { value: delegateExpressionProp, name: translate('Delegate Expression') },\r\n      { value: scriptProp, name: translate('Script') }\r\n    ],\r\n    modelProperty: 'listenerType',\r\n    emptyParameter: false,\r\n\r\n    get: function(element, node) {\r\n      var listener = getSelectedListener(element, node);\r\n      return {\r\n        listenerType: ImplementationTypeHelper.getImplementationType(listener)\r\n      };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var listener = getSelectedListener(element, node),\r\n          listenerType = values.listenerType || undefined,\r\n          update = {};\r\n\r\n      update[classProp] = listenerType === classProp ? '' : undefined;\r\n      update[expressionProp] = listenerType === expressionProp ? '' : undefined;\r\n      update[delegateExpressionProp] = listenerType === delegateExpressionProp ? '' : undefined;\r\n      update[scriptProp] = listenerType === scriptProp ? bpmnFactory.create('activiti:Script') : undefined;\r\n\r\n      return cmdHelper.updateBusinessObject(element, listener, update);\r\n    },\r\n\r\n    hidden: function(element, node) {\r\n      return !isSelected(element, node);\r\n    }\r\n\r\n  }));\r\n\r\n\r\n  group.entries.push(entryFactory.textField({\r\n    id: 'listener-value',\r\n    dataValueLabel: 'listenerValueLabel',\r\n    modelProperty: 'listenerValue',\r\n\r\n    get: function(element, node) {\r\n      var value = {},\r\n          listener = getSelectedListener(element, node),\r\n          listenerType = ImplementationTypeHelper.getImplementationType(listener);\r\n\r\n      value.listenerValueLabel = LISTENER_TYPE_LABEL[listenerType] || '';\r\n      value.listenerValue = (listener && listener.get(listenerType)) || undefined;\r\n\r\n      return value;\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var update = {},\r\n          listener = getSelectedListener(element, node),\r\n          listenerType = ImplementationTypeHelper.getImplementationType(listener);\r\n\r\n      update[listenerType] = values.listenerValue || '';\r\n\r\n      return cmdHelper.updateBusinessObject(element, listener, update);\r\n    },\r\n\r\n    hidden: function(element, node) {\r\n      var listener = getSelectedListener(element, node);\r\n      return !listener || listener.script;\r\n    },\r\n\r\n    validate: function(element, values) {\r\n      var value = values.listenerValue,\r\n          validate = {};\r\n\r\n      if (!value) {\r\n        validate.listenerValue = translate('Must provide a value');\r\n      }\r\n\r\n      return validate;\r\n    }\r\n\r\n  }));\r\n\r\n\r\n  group.entries.push({\r\n    id: 'listener-script-value',\r\n    html: '<div data-show=\"isScript\">' +\r\n            script.template +\r\n          '</div>',\r\n\r\n    get: function(element, node) {\r\n      var listener = getSelectedListener(element, node);\r\n      return listener && listener.script ? script.get(element, listener.script) : {};\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var listener = getSelectedListener(element, node);\r\n      var update = script.set(element, values, listener);\r\n      return cmdHelper.updateBusinessObject(element, listener.script, update);\r\n    },\r\n\r\n    validate: function(element, values, node) {\r\n      var listener = getSelectedListener(element, node);\r\n      return listener && listener.script ? script.validate(element, values) : {};\r\n    },\r\n\r\n    isScript: function(element, node) {\r\n      var listener = getSelectedListener(element, node);\r\n      return listener && listener.script;\r\n    },\r\n\r\n    script: script\r\n\r\n  });\r\n\r\n};\r\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","'use strict';\r\n\r\nvar inputOutput = require('./implementation/InputOutput');\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n\r\n  var inputOutputEntry = inputOutput(element, bpmnFactory, {\r\n    idPrefix: 'connector-',\r\n    insideConnector: true\r\n  }, translate);\r\n\r\n  group.entries = group.entries.concat(inputOutputEntry.entries);\r\n\r\n  return {\r\n    getSelectedParameter: inputOutputEntry.getSelectedParameter\r\n  };\r\n\r\n};\r\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    isAny = require('bpmn-js/lib/features/modeling/util/ModelingUtil').isAny,\r\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\r\n    eventDefinitionHelper = require('../../../helper/EventDefinitionHelper');\r\n\r\nvar forEach = require('lodash/forEach');\r\n\r\nvar message = require('./implementation/MessageEventDefinition'),\r\n    signal = require('./implementation/SignalEventDefinition'),\r\n    error = require('./implementation/ErrorEventDefinition'),\r\n    escalation = require('./implementation/EscalationEventDefinition'),\r\n    timer = require('./implementation/TimerEventDefinition'),\r\n    compensation = require('./implementation/CompensateEventDefinition'),\r\n    condition = require('./implementation/ConditionalEventDefinition');\r\n\r\n\r\nmodule.exports = function(group, element, bpmnFactory, elementRegistry, translate) {\r\n  var events = [\r\n    'bpmn:StartEvent',\r\n    'bpmn:EndEvent',\r\n    'bpmn:IntermediateThrowEvent',\r\n    'bpmn:BoundaryEvent',\r\n    'bpmn:IntermediateCatchEvent'\r\n  ];\r\n\r\n  // Message and Signal Event Definition\r\n  forEach(events, function(event) {\r\n    if (is(element, event)) {\r\n\r\n      var messageEventDefinition = eventDefinitionHelper.getMessageEventDefinition(element),\r\n          signalEventDefinition = eventDefinitionHelper.getSignalEventDefinition(element);\r\n\r\n      if (messageEventDefinition) {\r\n        message(group, element, bpmnFactory, messageEventDefinition);\r\n      }\r\n\r\n      if (signalEventDefinition) {\r\n        signal(group, element, bpmnFactory, signalEventDefinition);\r\n      }\r\n\r\n    }\r\n  });\r\n\r\n  // Special Case: Receive Task\r\n  if (is(element, 'bpmn:ReceiveTask')) {\r\n    message(group, element, bpmnFactory, getBusinessObject(element));\r\n  }\r\n\r\n  // Error Event Definition\r\n  var errorEvents = [\r\n    'bpmn:StartEvent',\r\n    'bpmn:BoundaryEvent',\r\n    'bpmn:EndEvent'\r\n  ];\r\n\r\n  forEach(errorEvents, function(event) {\r\n    if (is(element, event)) {\r\n\r\n      var errorEventDefinition = eventDefinitionHelper.getErrorEventDefinition(element);\r\n\r\n      if (errorEventDefinition) {\r\n        var isCatchingErrorEvent = is(element, 'bpmn:StartEvent') || is (element, 'bpmn:BoundaryEvent');\r\n\r\n        var showErrorCodeVariable = isCatchingErrorEvent,\r\n            showErrorMessageVariable = isCatchingErrorEvent;\r\n\r\n        error(group, element, bpmnFactory, errorEventDefinition, showErrorCodeVariable, showErrorMessageVariable);\r\n      }\r\n    }\r\n  });\r\n\r\n  // Escalation Event Definition\r\n  var escalationEvents = [\r\n    'bpmn:StartEvent',\r\n    'bpmn:BoundaryEvent',\r\n    'bpmn:IntermediateThrowEvent',\r\n    'bpmn:EndEvent'\r\n  ];\r\n\r\n  forEach(escalationEvents, function(event) {\r\n    if (is(element, event)) {\r\n\r\n      var showEscalationCodeVariable = is(element, 'bpmn:StartEvent') || is(element, 'bpmn:BoundaryEvent');\r\n\r\n      // get business object\r\n      var escalationEventDefinition = eventDefinitionHelper.getEscalationEventDefinition(element);\r\n\r\n      if (escalationEventDefinition) {\r\n        escalation(group, element, bpmnFactory, escalationEventDefinition, showEscalationCodeVariable);\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  // Timer Event Definition\r\n  var timerEvents = [\r\n    'bpmn:StartEvent',\r\n    'bpmn:BoundaryEvent',\r\n    'bpmn:IntermediateCatchEvent'\r\n  ];\r\n\r\n  forEach(timerEvents, function(event) {\r\n    if (is(element, event)) {\r\n\r\n      // get business object\r\n      var timerEventDefinition = eventDefinitionHelper.getTimerEventDefinition(element);\r\n\r\n      if (timerEventDefinition) {\r\n        timer(group, element, bpmnFactory, timerEventDefinition);\r\n      }\r\n    }\r\n  });\r\n\r\n  // Compensate Event Definition\r\n  var compensationEvents = [\r\n    'bpmn:EndEvent',\r\n    'bpmn:IntermediateThrowEvent'\r\n  ];\r\n\r\n  forEach(compensationEvents, function(event) {\r\n    if (is(element, event)) {\r\n\r\n      // get business object\r\n      var compensateEventDefinition = eventDefinitionHelper.getCompensateEventDefinition(element);\r\n\r\n      if (compensateEventDefinition) {\r\n        compensation(group, element, bpmnFactory, compensateEventDefinition, elementRegistry);\r\n      }\r\n    }\r\n  });\r\n\r\n\r\n  // Conditional Event Defintion\r\n  var conditionalEvents = [\r\n    'bpmn:StartEvent',\r\n    'bpmn:BoundaryEvent',\r\n    'bpmn:IntermediateThrowEvent',\r\n    'bpmn:IntermediateCatchEvent'\r\n  ];\r\n\r\n  if (isAny(element, conditionalEvents)) {\r\n\r\n    // get business object\r\n    var conditionalEventDefinition = eventDefinitionHelper.getConditionalEventDefinition(element);\r\n\r\n    if (conditionalEventDefinition) {\r\n      condition(group, element, bpmnFactory, conditionalEventDefinition, elementRegistry);\r\n    }\r\n  }\r\n\r\n};\r\n","var realNames = require('./_realNames');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the name of `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {string} Returns the function name.\n */\nfunction getFuncName(func) {\n  var result = (func.name + ''),\n      array = realNames[result],\n      length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n  while (length--) {\n    var data = array[length],\n        otherFunc = data.func;\n    if (otherFunc == null || otherFunc == func) {\n      return data.name;\n    }\n  }\n  return result;\n}\n\nmodule.exports = getFuncName;\n","'use strict';\r\n\r\nvar ElementHelper = {};\r\nmodule.exports = ElementHelper;\r\n\r\n/**\r\n * Creates a new element and set the parent to it\r\n *\r\n * @method ElementHelper#createElement\r\n *\r\n * @param {String} elementType of the new element\r\n * @param {Object} properties of the new element in key-value pairs\r\n * @param {moddle.object} parent of the new element\r\n * @param {BpmnFactory} factory which creates the new element\r\n *\r\n * @returns {djs.model.Base} element which is created\r\n */\r\nElementHelper.createElement = function(elementType, properties, parent, factory) {\r\n  var element = factory.create(elementType, properties);\r\n  element.$parent = parent;\r\n\r\n  return element;\r\n};\r\n","var baseCreate = require('./_baseCreate'),\n    isObject = require('./isObject');\n\n/**\n * Creates a function that produces an instance of `Ctor` regardless of\n * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n *\n * @private\n * @param {Function} Ctor The constructor to wrap.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCtor(Ctor) {\n  return function() {\n    // Use a `switch` statement to work with class constructors. See\n    // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n    // for more details.\n    var args = arguments;\n    switch (args.length) {\n      case 0: return new Ctor;\n      case 1: return new Ctor(args[0]);\n      case 2: return new Ctor(args[0], args[1]);\n      case 3: return new Ctor(args[0], args[1], args[2]);\n      case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n      case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n      case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n      case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n    }\n    var thisBinding = baseCreate(Ctor.prototype),\n        result = Ctor.apply(thisBinding, args);\n\n    // Mimic the constructor's `return` behavior.\n    // See https://es5.github.io/#x13.2.2 for more details.\n    return isObject(result) ? result : thisBinding;\n  };\n}\n\nmodule.exports = createCtor;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var identity = require('./identity');\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nmodule.exports = castFunction;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isBuffer = require('./isBuffer'),\n    isPrototype = require('./_isPrototype'),\n    isTypedArray = require('./isTypedArray');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n","'use strict';\r\n\r\nvar inputOutputParameter = require('./implementation/InputOutputParameter');\r\n\r\nvar assign = require('lodash/assign');\r\n\r\nmodule.exports = function(group, element, bpmnFactory, options, translate) {\r\n\r\n  group.entries = group.entries.concat(inputOutputParameter(element, bpmnFactory, assign({}, options), translate));\r\n\r\n};\r\n","'use strict';\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory'),\r\n    cmdHelper = require('../../../../helper/CmdHelper'),\r\n    extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper'),\r\n    elementHelper = require('../../../../helper/ElementHelper');\r\n\r\nvar assign = require('lodash/assign');\r\nvar map = require('lodash/map');\r\n\r\nvar DEFAULT_DELEGATE_PROPS = [ 'class', 'expression', 'delegateExpression' ];\r\n\r\nvar DELEGATE_PROPS = {\r\n  'activiti:class': undefined,\r\n  'activiti:expression': undefined,\r\n  'activiti:delegateExpression': undefined,\r\n  'activiti:resultVariable': undefined\r\n};\r\n\r\nvar DMN_CAPABLE_PROPS = {\r\n  'activiti:decisionRef': undefined,\r\n  'activiti:decisionRefBinding': 'latest',\r\n  'activiti:decisionRefVersion': undefined,\r\n  'activiti:mapDecisionResult': 'resultList',\r\n  'activiti:decisionRefTenantId': undefined\r\n};\r\n\r\n\r\nvar EXTERNAL_CAPABLE_PROPS = {\r\n  'activiti:type': undefined,\r\n  'activiti:topic': undefined\r\n};\r\n\r\nmodule.exports = function(element, bpmnFactory, options, translate) {\r\n\r\n  var DEFAULT_OPTIONS = [\r\n    { value: 'class', name: translate('Java Class') },\r\n    { value: 'expression', name: translate('Expression') },\r\n    { value: 'delegateExpression', name: translate('Delegate Expression') }\r\n  ];\r\n\r\n  var DMN_OPTION = [\r\n    { value: 'dmn', name: translate('DMN') }\r\n  ];\r\n\r\n  var EXTERNAL_OPTION = [\r\n    { value: 'external', name: translate('External') }\r\n  ];\r\n\r\n  var CONNECTOR_OPTION = [\r\n    { value: 'implementation', name: translate('bpmn:implementation') },\r\n    { value: 'connector', name: translate('Connector') }\r\n  ];\r\n\r\n  var SCRIPT_OPTION = [\r\n    { value: 'script', name: translate('Script') }\r\n  ];\r\n\r\n  var getType = options.getImplementationType,\r\n      getBusinessObject = options.getBusinessObject;\r\n\r\n  var hasDmnSupport = options.hasDmnSupport,\r\n      hasExternalSupport = options.hasExternalSupport,\r\n      hasServiceTaskLikeSupport = options.hasServiceTaskLikeSupport,\r\n      hasScriptSupport = options.hasScriptSupport;\r\n\r\n  var entries = [];\r\n\r\n  var selectOptions = DEFAULT_OPTIONS.concat([]);\r\n\r\n  if (hasDmnSupport) {\r\n    selectOptions = selectOptions.concat(DMN_OPTION);\r\n  }\r\n\r\n  if (hasExternalSupport) {\r\n    selectOptions = selectOptions.concat(EXTERNAL_OPTION);\r\n  }\r\n\r\n  if (hasServiceTaskLikeSupport) {\r\n    selectOptions = selectOptions.concat(CONNECTOR_OPTION);\r\n  }\r\n\r\n  if (hasScriptSupport) {\r\n    selectOptions = selectOptions.concat(SCRIPT_OPTION);\r\n  }\r\n\r\n  selectOptions.push({ value: '' });\r\n\r\n  entries.push(entryFactory.selectBox({\r\n    id : 'implementation',\r\n    label: translate('Implementation'),\r\n    selectOptions: selectOptions,\r\n    modelProperty: 'implType',\r\n\r\n    get: function(element, node) {\r\n      return {\r\n        implType: getType(element) || ''\r\n      };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var bo = getBusinessObject(element);\r\n      var oldType = getType(element);\r\n      var newType = values.implType;\r\n\r\n      var props = assign({}, DELEGATE_PROPS);\r\n\r\n      if (DEFAULT_DELEGATE_PROPS.indexOf(newType) !== -1) {\r\n\r\n        var newValue = '';\r\n        if (DEFAULT_DELEGATE_PROPS.indexOf(oldType) !== -1) {\r\n          newValue = bo.get('activiti:' + oldType);\r\n        }\r\n        props['activiti:' + newType] = newValue;\r\n      }\r\n\r\n      if (hasDmnSupport) {\r\n        props = assign(props, DMN_CAPABLE_PROPS);\r\n        if (newType === 'dmn') {\r\n          props['activiti:decisionRef'] = '';\r\n        }\r\n      }\r\n\r\n      if (hasExternalSupport) {\r\n        props = assign(props, EXTERNAL_CAPABLE_PROPS);\r\n        if (newType === 'external') {\r\n          props['activiti:type'] = 'external';\r\n          props['activiti:topic'] = '';\r\n        }\r\n      }\r\n\r\n      if (hasScriptSupport) {\r\n        props['activiti:script'] = undefined;\r\n\r\n        if (newType === 'script') {\r\n          props['activiti:script'] = elementHelper.createElement('activiti:Script', {}, bo, bpmnFactory);\r\n        }\r\n      }\r\n\r\n      if (newType == 'implementation') {\r\n        props[newType] = newValue;\r\n      }\r\n\r\n      var commands = [];\r\n      commands.push(cmdHelper.updateBusinessObject(element, bo, props));\r\n\r\n      if (hasServiceTaskLikeSupport) {\r\n        var connectors = extensionElementsHelper.getExtensionElements(bo, 'activiti:Connector');\r\n        commands.push(map(connectors, function(connector) {\r\n          return extensionElementsHelper.removeEntry(bo, element, connector);\r\n        }));\r\n\r\n        if (newType === 'connector') {\r\n          var extensionElements = bo.get('extensionElements');\r\n          if (!extensionElements) {\r\n            extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\r\n            commands.push(cmdHelper.updateBusinessObject(element, bo, { extensionElements: extensionElements }));\r\n          }\r\n          var connector = elementHelper.createElement('activiti:Connector', {}, extensionElements, bpmnFactory);\r\n          commands.push(cmdHelper.addAndRemoveElementsFromList(\r\n            element,\r\n            extensionElements,\r\n            'values',\r\n            'extensionElements',\r\n            [ connector ],\r\n            []\r\n          ));\r\n        }\r\n      }\r\n\r\n      return commands;\r\n\r\n    }\r\n  }));\r\n\r\n  return entries;\r\n\r\n};\r\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","'use strict';\r\n\r\nvar entryFieldDescription = require('./EntryFieldDescription');\r\n\r\nvar bind = require('lodash/bind');\r\n\r\n/**\r\n * An entry that renders a clickable link.\r\n *\r\n * A passed {@link options#handleClick} handler is responsible\r\n * to process the click.\r\n *\r\n * The link may be conditionally shown or hidden. This can be\r\n * controlled via the {@link options.showLink}.\r\n *\r\n * @param {Object} options\r\n * @param {String} options.id\r\n * @param {String} [options.label]\r\n * @param {Function} options.handleClick\r\n * @param {Function} [options.showLink] returning false to hide link\r\n * @param {String} [options.description]\r\n *\r\n * @example\r\n *\r\n * var linkEntry = link({\r\n *   id: 'foo',\r\n *   description: 'Some Description',\r\n *   handleClick: function(element, node, event) { ... },\r\n *   showLink: function(element, node) { ... }\r\n * });\r\n *\r\n * @return {Entry} the newly created entry\r\n */\r\nfunction link(options) {\r\n\r\n  var id = options.id,\r\n      label = options.label || id,\r\n      showLink = options.showLink,\r\n      handleClick = options.handleClick,\r\n      description = options.description;\r\n\r\n  if (showLink && typeof showLink !== 'function') {\r\n    throw new Error('options.showLink must be a function');\r\n  }\r\n\r\n  if (typeof handleClick !== 'function') {\r\n    throw new Error('options.handleClick must be a function');\r\n  }\r\n\r\n  var resource = {\r\n    id: id\r\n  };\r\n\r\n  resource.html =\r\n    '<a data-action=\"handleClick\" ' +\r\n    (showLink ? 'data-show=\"showLink\" ' : '') +\r\n    'class=\"bpp-entry-link' + (options.cssClasses ? ' ' + options.cssClasses : '') +\r\n    '\">' + label + '</a>';\r\n\r\n  // add description below link entry field\r\n  if (description) {\r\n    resource.html += entryFieldDescription(description);\r\n  }\r\n\r\n  resource.handleClick = bind(handleClick, resource);\r\n\r\n  if (typeof showLink === 'function') {\r\n    resource.showLink = function() {\r\n      return showLink.apply(resource, arguments);\r\n    };\r\n  }\r\n\r\n  return resource;\r\n}\r\n\r\nmodule.exports = link;\r\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","module.exports = require('./lib');\r\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","'use strict';\r\n\r\nvar forEach = require('lodash/forEach');\r\n\r\nvar elementHelper = require('../helper/ElementHelper');\r\n\r\n/**\r\n * A handler that implements a BPMN 2.0 property update\r\n * for business objects which are not represented in the\r\n * diagram.\r\n *\r\n * This is useful in the context of the properties panel in\r\n * order to update child elements of elements visible in\r\n * the diagram.\r\n *\r\n * Example: perform an update of a specific event definition\r\n * of an intermediate event.\r\n *\r\n * @class\r\n * @constructor\r\n */\r\nfunction CreateBusinessObjectListHandler(elementRegistry, bpmnFactory) {\r\n  this._elementRegistry = elementRegistry;\r\n  this._bpmnFactory = bpmnFactory;\r\n}\r\n\r\nCreateBusinessObjectListHandler.$inject = [ 'elementRegistry', 'bpmnFactory' ];\r\n\r\nmodule.exports = CreateBusinessObjectListHandler;\r\n\r\nfunction ensureNotNull(prop, name) {\r\n  if (!prop) {\r\n    throw new Error(name + ' required');\r\n  }\r\n  return prop;\r\n\r\n}\r\nfunction ensureList(prop, name) {\r\n  if (!prop || Object.prototype.toString.call(prop) !== '[object Array]') {\r\n    throw new Error(name + ' needs to be a list');\r\n  }\r\n  return prop;\r\n}\r\n\r\n// api /////////////////////////////////////////////\r\n\r\n/**\r\n * Creates a new element under a provided parent and updates / creates a reference to it in\r\n * one atomic action.\r\n *\r\n * @method  CreateBusinessObjectListHandler#execute\r\n *\r\n * @param {Object} context\r\n * @param {djs.model.Base} context.element which is the context for the reference\r\n * @param {moddle.referencingObject} context.referencingObject the object which creates the reference\r\n * @param {String} context.referenceProperty the property of the referencingObject which makes the reference\r\n * @param {moddle.newObject} context.newObject the new object to add\r\n * @param {moddle.newObjectContainer} context.newObjectContainer the container for the new object\r\n *\r\n * @return {Array<djs.mode.Base>} the updated element\r\n */\r\nCreateBusinessObjectListHandler.prototype.execute = function(context) {\r\n\r\n  var currentObject = ensureNotNull(context.currentObject, 'currentObject'),\r\n      propertyName = ensureNotNull(context.propertyName, 'propertyName'),\r\n      newObjects = ensureList(context.newObjects, 'newObjects'),\r\n      changed = [ context.element ]; // this will not change any diagram-js elements\r\n\r\n\r\n  var childObjects = [];\r\n  var self = this;\r\n\r\n  // create new array of business objects\r\n  forEach(newObjects, function(obj) {\r\n    var element = elementHelper.createElement(obj.type, obj.properties, currentObject, self._bpmnFactory);\r\n\r\n    childObjects.push(element);\r\n  });\r\n  context.childObject = childObjects;\r\n\r\n  // adjust array reference in the parent business object\r\n  context.previousChilds = currentObject[propertyName];\r\n  currentObject[propertyName] = childObjects;\r\n\r\n  context.changed = changed;\r\n\r\n  // indicate changed on objects affected by the update\r\n  return changed;\r\n};\r\n\r\n/**\r\n * Reverts the update\r\n *\r\n * @method  CreateBusinessObjectListHandler#revert\r\n *\r\n * @param {Object} context\r\n *\r\n * @return {djs.mode.Base} the updated element\r\n */\r\nCreateBusinessObjectListHandler.prototype.revert = function(context) {\r\n\r\n  var currentObject = context.currentObject,\r\n      propertyName = context.propertyName,\r\n      previousChilds = context.previousChilds;\r\n\r\n  // remove new element\r\n  currentObject.set(propertyName, previousChilds);\r\n\r\n  return context.changed;\r\n};\r\n","'use strict';\r\n\r\nvar elementHelper = require('../../../../helper/ElementHelper'),\r\n    cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory');\r\n\r\n/**\r\n * Get the timer definition type for a given timer event definition.\r\n *\r\n * @param {ModdleElement<bpmn:TimerEventDefinition>} timer\r\n *\r\n * @return {string|undefined} the timer definition type\r\n */\r\nfunction getTimerDefinitionType(timer) {\r\n  var timeDate = timer.get('timeDate');\r\n  if (typeof timeDate !== 'undefined') {\r\n    return 'timeDate';\r\n  }\r\n\r\n  var timeCycle = timer.get('timeCycle');\r\n  if (typeof timeCycle !== 'undefined') {\r\n    return 'timeCycle';\r\n  }\r\n\r\n  var timeDuration = timer.get('timeDuration');\r\n  if (typeof timeDuration !== 'undefined') {\r\n    return 'timeDuration';\r\n  }\r\n}\r\n\r\n/**\r\n * Creates 'bpmn:FormalExpression' element.\r\n *\r\n * @param {ModdleElement} parent\r\n * @param {string} body\r\n * @param {BpmnFactory} bpmnFactory\r\n *\r\n * @return {ModdleElement<bpmn:FormalExpression>} a formal expression\r\n */\r\nfunction createFormalExpression(parent, body, bpmnFactory) {\r\n  body = body || undefined;\r\n  return elementHelper.createElement('bpmn:FormalExpression', { body: body }, parent, bpmnFactory);\r\n}\r\n\r\nfunction TimerEventDefinition(group, element, bpmnFactory, timerEventDefinition) {\r\n\r\n  var selectOptions = [\r\n    { value: 'timeDate', name: 'Date' },\r\n    { value: 'timeDuration', name: 'Duration' },\r\n    { value: 'timeCycle', name: 'Cycle' }\r\n  ];\r\n\r\n  group.entries.push(entryFactory.selectBox({\r\n    id: 'timer-event-definition-type',\r\n    label: 'Timer Definition Type',\r\n    selectOptions: selectOptions,\r\n    emptyParameter: true,\r\n    modelProperty: 'timerDefinitionType',\r\n\r\n    get: function(element, node) {\r\n      return {\r\n        timerDefinitionType: getTimerDefinitionType(timerEventDefinition) || ''\r\n      };\r\n    },\r\n\r\n    set: function(element, values) {\r\n      var props = {\r\n        timeDuration: undefined,\r\n        timeDate: undefined,\r\n        timeCycle: undefined\r\n      };\r\n\r\n      var newType = values.timerDefinitionType;\r\n      if (values.timerDefinitionType) {\r\n        var oldType = getTimerDefinitionType(timerEventDefinition);\r\n\r\n        var value;\r\n        if (oldType) {\r\n          var definition = timerEventDefinition.get(oldType);\r\n          value = definition.get('body');\r\n        }\r\n\r\n        props[newType] = createFormalExpression(timerEventDefinition, value, bpmnFactory);\r\n      }\r\n\r\n      return cmdHelper.updateBusinessObject(element, timerEventDefinition, props);\r\n    }\r\n\r\n  }));\r\n\r\n\r\n  group.entries.push(entryFactory.textField({\r\n    id: 'timer-event-definition',\r\n    label: 'Timer Definition',\r\n    modelProperty: 'timerDefinition',\r\n\r\n    get: function(element, node) {\r\n      var type = getTimerDefinitionType(timerEventDefinition);\r\n      var definition = type && timerEventDefinition.get(type);\r\n      var value = definition && definition.get('body');\r\n      return {\r\n        timerDefinition: value\r\n      };\r\n    },\r\n\r\n    set: function(element, values) {\r\n      var type = getTimerDefinitionType(timerEventDefinition);\r\n      var definition = type && timerEventDefinition.get(type);\r\n\r\n      if (definition) {\r\n        return cmdHelper.updateBusinessObject(element, definition, {\r\n          body: values.timerDefinition || undefined\r\n        });\r\n      }\r\n    },\r\n\r\n    validate: function(element) {\r\n      var type = getTimerDefinitionType(timerEventDefinition);\r\n      var definition = type && timerEventDefinition.get(type);\r\n      if (definition) {\r\n        var value = definition.get('body');\r\n        if (!value) {\r\n          return {\r\n            timerDefinition: 'Must provide a value'\r\n          };\r\n        }\r\n      }\r\n    },\r\n\r\n    hidden: function(element) {\r\n      return !getTimerDefinitionType(timerEventDefinition);\r\n    }\r\n\r\n  }));\r\n\r\n}\r\n\r\nmodule.exports = TimerEventDefinition;\r\n","module.exports = {\r\n  __depends__: [\r\n    require('./cmd'),\r\n    require('diagram-js/lib/i18n/translate').default\r\n  ],\r\n  __init__: [\r\n    'customElementsPropertiesActivator',\r\n    'elementTemplatesLoader'\r\n  ],\r\n  customElementsPropertiesActivator: [ 'type', require('./CustomElementsPropertiesActivator') ],\r\n  elementTemplates: [ 'type', require('./ElementTemplates') ],\r\n  elementTemplatesLoader: [ 'type', require('./ElementTemplatesLoader') ]\r\n};\r\n","'use strict';\r\n\r\nvar assign = require('lodash/assign');\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory');\r\n\r\nvar asyncCapableHelper = require('../../../../helper/AsyncCapableHelper'),\r\n    eventDefinitionHelper = require('../../../../helper/EventDefinitionHelper'),\r\n    cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\nfunction isActivitiAsync(bo) {\r\n  return asyncCapableHelper.isActivitiAsync(bo);\r\n}\r\n\r\nfunction isExclusive(bo) {\r\n  return asyncCapableHelper.isExclusive(bo);\r\n}\r\n\r\nfunction removeFailedJobRetryTimeCycle(bo, element) {\r\n  return asyncCapableHelper.removeFailedJobRetryTimeCycle(bo, element);\r\n}\r\n\r\nfunction canRemoveFailedJobRetryTimeCycle(element) {\r\n  return !eventDefinitionHelper.getTimerEventDefinition(element);\r\n}\r\n\r\nmodule.exports = function(element, bpmnFactory, options, translate) {\r\n\r\n  var getBusinessObject = options.getBusinessObject;\r\n\r\n  var idPrefix = options.idPrefix || '',\r\n      labelPrefix = options.labelPrefix || '';\r\n\r\n  var activitiAsyncEntry = entryFactory.checkbox({\r\n    id: idPrefix + 'async',\r\n    label: labelPrefix + translate('Asynchronous'),\r\n    modelProperty: 'async',\r\n\r\n    get: function(element, node) {\r\n      var bo = getBusinessObject(element);\r\n      return {\r\n        async: isActivitiAsync(bo)\r\n      };\r\n    },\r\n\r\n    set: function(element, values) {\r\n      var bo = getBusinessObject(element);\r\n      var asyncValue = !!values.async;\r\n\r\n      var props = {\r\n        'activiti:async': asyncValue\r\n      };\r\n\r\n      var commands = [];\r\n      if (!asyncValue) {\r\n        props = assign({ 'activiti:exclusive' : true }, props);\r\n        if (canRemoveFailedJobRetryTimeCycle(element)) {\r\n          commands.push(removeFailedJobRetryTimeCycle(bo, element));\r\n        }\r\n      }\r\n\r\n      commands.push(cmdHelper.updateBusinessObject(element, bo, props));\r\n      return commands;\r\n    }\r\n  });\r\n\r\n  var exclusiveEntry = entryFactory.checkbox({\r\n    id: idPrefix + 'exclusive',\r\n    label: labelPrefix + translate('Exclusive'),\r\n    modelProperty: 'exclusive',\r\n\r\n    get: function(element, node) {\r\n      var bo = getBusinessObject(element);\r\n      return { exclusive: isExclusive(bo) };\r\n    },\r\n\r\n    set: function(element, values) {\r\n      var bo = getBusinessObject(element);\r\n      return cmdHelper.updateBusinessObject(element, bo, { 'activiti:exclusive': !!values.exclusive });\r\n    },\r\n\r\n    hidden: function(element) {\r\n      var bo = getBusinessObject(element);\r\n      return bo && !isActivitiAsync(bo);\r\n    }\r\n  });\r\n\r\n  return [ activitiAsyncEntry, exclusiveEntry ];\r\n};\r\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","'use strict';\r\n\r\nvar domQuery = require('min-dom').query,\r\n\r\n    utils = require('../../../../Utils');\r\n\r\n\r\nfunction getScriptType(node) {\r\n  return utils.selectedType('select[name=scriptType]', node.parentElement);\r\n}\r\n\r\n\r\nmodule.exports = function(scriptLanguagePropName, scriptValuePropName, isFormatRequired) {\r\n\r\n  return {\r\n    template:\r\n    '<div class=\"bpp-row bpp-textfield\">' +\r\n      '<label for=\"cam-script-format\">Script Format</label>' +\r\n      '<div class=\"bpp-field-wrapper\">' +\r\n        '<input id=\"cam-script-format\" type=\"text\" name=\"scriptFormat\" />' +\r\n        '<button class=\"clear\" data-action=\"script.clearScriptFormat\" data-show=\"script.canClearScriptFormat\">' +\r\n          '<span>X</span>' +\r\n        '</button>' +\r\n      '</div>' +\r\n    '</div>' +\r\n\r\n    '<div class=\"bpp-row\">' +\r\n      '<label for=\"cam-script-type\">Script Type</label>' +\r\n      '<div class=\"bpp-field-wrapper\">' +\r\n        '<select id=\"cam-script-type\" name=\"scriptType\" data-value>' +\r\n          '<option value=\"script\" selected>Inline Script</option>' +\r\n          '<option value=\"scriptResource\">External Resource</option>' +\r\n        '</select>' +\r\n      '</div>' +\r\n    '</div>' +\r\n\r\n    '<div class=\"bpp-row bpp-textfield\">' +\r\n      '<label for=\"cam-script-resource-val\" data-show=\"script.isScriptResource\">Resource</label>' +\r\n      '<div class=\"bpp-field-wrapper\" data-show=\"script.isScriptResource\">' +\r\n        '<input id=\"cam-script-resource-val\" type=\"text\" name=\"scriptResourceValue\" />' +\r\n        '<button class=\"clear\" data-action=\"script.clearScriptResource\" data-show=\"script.canClearScriptResource\">' +\r\n          '<span>X</span>' +\r\n        '</button>' +\r\n      '</div>' +\r\n    '</div>' +\r\n\r\n    '<div class=\"bpp-row\">' +\r\n      '<label for=\"cam-script-val\" data-show=\"script.isScript\">Script</label>' +\r\n      '<div class=\"bpp-field-wrapper\" data-show=\"script.isScript\">' +\r\n        '<textarea id=\"cam-script-val\" type=\"text\" name=\"scriptValue\"></textarea>' +\r\n      '</div>'+\r\n    '</div>',\r\n\r\n    get: function(element, bo) {\r\n      var values = {};\r\n\r\n      // read values from xml:\r\n      var boScriptResource = bo.get('activiti:resource'),\r\n          boScript = bo.get(scriptValuePropName),\r\n          boScriptFormat = bo.get(scriptLanguagePropName);\r\n\r\n      if (typeof boScriptResource !== 'undefined') {\r\n        values.scriptResourceValue = boScriptResource;\r\n        values.scriptType = 'scriptResource';\r\n      } else {\r\n        values.scriptValue = boScript;\r\n        values.scriptType = 'script';\r\n      }\r\n\r\n      values.scriptFormat = boScriptFormat;\r\n\r\n      return values;\r\n    },\r\n\r\n    set: function(element, values, containerElement) {\r\n      var scriptFormat = values.scriptFormat,\r\n          scriptType = values.scriptType,\r\n          scriptResourceValue = values.scriptResourceValue,\r\n          scriptValue = values.scriptValue;\r\n\r\n      // init update\r\n      var update = {\r\n        'activiti:resource': undefined\r\n      };\r\n      update[scriptValuePropName] = undefined;\r\n      update[scriptLanguagePropName] = undefined;\r\n\r\n      if (isFormatRequired) {\r\n        // always set language\r\n        update[scriptLanguagePropName] = scriptFormat || '';\r\n      } else\r\n      // set language only when scriptFormat has a value\r\n      if (scriptFormat !== '') {\r\n        update[scriptLanguagePropName] = scriptFormat;\r\n      }\r\n\r\n      // set either inline script or resource\r\n      if ('scriptResource' === scriptType) {\r\n        update['activiti:resource'] = scriptResourceValue || '';\r\n      } else {\r\n        update[scriptValuePropName] = scriptValue || '';\r\n      }\r\n\r\n      return update;\r\n    },\r\n\r\n    validate: function(element, values) {\r\n      var validationResult = {};\r\n\r\n      if (values.scriptType === 'script' && !values.scriptValue) {\r\n        validationResult.scriptValue = 'Must provide a value';\r\n      }\r\n\r\n      if (values.scriptType === 'scriptResource' && !values.scriptResourceValue) {\r\n        validationResult.scriptResourceValue = 'Must provide a value';\r\n      }\r\n\r\n      if (isFormatRequired && (!values.scriptFormat || values.scriptFormat.length === 0)) {\r\n        validationResult.scriptFormat = 'Must provide a value';\r\n      }\r\n\r\n      return validationResult;\r\n    },\r\n\r\n    clearScriptFormat: function(element, inputNode, btnNode, scopeNode) {\r\n      domQuery('input[name=scriptFormat]', scopeNode).value='';\r\n\r\n      return true;\r\n    },\r\n\r\n    canClearScriptFormat: function(element, inputNode, btnNode, scopeNode) {\r\n      var input = domQuery('input[name=scriptFormat]', scopeNode);\r\n\r\n      return input.value !== '';\r\n    },\r\n\r\n    clearScriptResource: function(element, inputNode, btnNode, scopeNode) {\r\n      domQuery('input[name=scriptResourceValue]', scopeNode).value='';\r\n\r\n      return true;\r\n    },\r\n\r\n    canClearScriptResource: function(element, inputNode, btnNode, scopeNode) {\r\n      var input = domQuery('input[name=scriptResourceValue]', scopeNode);\r\n\r\n      return input.value !== '';\r\n    },\r\n\r\n    clearScript: function(element, inputNode, btnNode, scopeNode) {\r\n      domQuery('textarea[name=scriptValue]', scopeNode).value='';\r\n\r\n      return true;\r\n    },\r\n\r\n    canClearScript: function(element, inputNode, btnNode, scopeNode) {\r\n      var input = domQuery('textarea[name=scriptValue]', scopeNode);\r\n\r\n      return input.value !== '';\r\n    },\r\n\r\n    isScriptResource: function(element, inputNode, btnNode, scopeNode) {\r\n      var scriptType = getScriptType(scopeNode);\r\n      return scriptType === 'scriptResource';\r\n    },\r\n\r\n    isScript: function(element, inputNode, btnNode, scopeNode) {\r\n      var scriptType = getScriptType(scopeNode);\r\n      return scriptType === 'script';\r\n    }\r\n\r\n  };\r\n\r\n};\r\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","'use strict';\r\n\r\nvar Validator = require('./Validator');\r\n\r\n/**\r\n * The guy responsible for template loading.\r\n *\r\n * Provide the actual templates via the `config.elementTemplates`.\r\n *\r\n * That configuration can either be an array of template\r\n * descriptors or a node style callback to retrieve\r\n * the templates asynchronously.\r\n *\r\n * @param {Array<TemplateDescriptor>|Function} loadTemplates\r\n * @param {EventBus} eventBus\r\n * @param {ElementTemplates} elementTemplates\r\n */\r\nfunction ElementTemplatesLoader(loadTemplates, eventBus, elementTemplates) {\r\n  this._loadTemplates = loadTemplates;\r\n  this._eventBus = eventBus;\r\n  this._elementTemplates = elementTemplates;\r\n\r\n  var self = this;\r\n\r\n  eventBus.on('diagram.init', function() {\r\n    self.reload();\r\n  });\r\n}\r\n\r\nmodule.exports = ElementTemplatesLoader;\r\n\r\nElementTemplatesLoader.$inject = [\r\n  'config.elementTemplates',\r\n  'eventBus',\r\n  'elementTemplates'\r\n];\r\n\r\n\r\nElementTemplatesLoader.prototype.reload = function() {\r\n\r\n  var self = this;\r\n\r\n  var loadTemplates = this._loadTemplates;\r\n\r\n  // no templates specified\r\n  if (typeof loadTemplates === 'undefined') {\r\n    return;\r\n  }\r\n\r\n  // template loader function specified\r\n  if (typeof loadTemplates === 'function') {\r\n\r\n    return loadTemplates(function(err, templates) {\r\n\r\n      if (err) {\r\n        return self.templateErrors([ err ]);\r\n      }\r\n\r\n      self.setTemplates(templates);\r\n    });\r\n  }\r\n\r\n  // templates array specified\r\n  if (loadTemplates.length) {\r\n    return this.setTemplates(loadTemplates);\r\n  }\r\n\r\n};\r\n\r\nElementTemplatesLoader.prototype.setTemplates = function(templates) {\r\n\r\n  var elementTemplates = this._elementTemplates;\r\n\r\n  var validator = new Validator().addAll(templates);\r\n\r\n  var errors = validator.getErrors(),\r\n      validTemplates = validator.getValidTemplates();\r\n\r\n  elementTemplates.set(validTemplates);\r\n\r\n  if (errors.length) {\r\n    this.templateErrors(errors);\r\n  }\r\n\r\n  this.templatesChanged();\r\n};\r\n\r\nElementTemplatesLoader.prototype.templatesChanged = function() {\r\n  this._eventBus.fire('elementTemplates.changed');\r\n};\r\n\r\nElementTemplatesLoader.prototype.templateErrors = function(errors) {\r\n  this._eventBus.fire('elementTemplates.errors', {\r\n    errors: errors\r\n  });\r\n};","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","'use strict';\r\n\r\nvar elementReferenceProperty = require('../../../bpmn/parts/implementation/ElementReferenceProperty');\r\n\r\nmodule.exports = function(group, element, bpmnFactory, signalEventDefinition) {\r\n\r\n  group.entries = group.entries.concat(elementReferenceProperty(element, signalEventDefinition, bpmnFactory, {\r\n    id: 'signal-element-scope',\r\n    label: 'Signal Scope',\r\n    referenceProperty: 'signalRef',\r\n    modelProperty: 'activiti:scope',\r\n    shouldValidate: true\r\n  }));\r\n\r\n};\r\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","/** Used to lookup unminified function names. */\nvar realNames = {};\n\nmodule.exports = realNames;\n","'use strict';\r\n\r\nvar nameEntryFactory = require('./implementation/Name'),\r\n    is = require('bpmn-js/lib/util/ModelUtil').is;\r\n\r\nmodule.exports = function(group, element, translate) {\r\n\r\n  if (!is(element, 'bpmn:Collaboration')) {\r\n\r\n    var options;\r\n    if (is(element, 'bpmn:TextAnnotation')) {\r\n      options = { modelProperty: 'text' };\r\n    }\r\n\r\n    // name\r\n    group.entries = group.entries.concat(nameEntryFactory(element, options, translate));\r\n\r\n  }\r\n\r\n};\r\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n","var baseRest = require('./_baseRest'),\n    createWrap = require('./_createWrap'),\n    getHolder = require('./_getHolder'),\n    replaceHolders = require('./_replaceHolders');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_PARTIAL_FLAG = 32;\n\n/**\n * Creates a function that invokes `func` with the `this` binding of `thisArg`\n * and `partials` prepended to the arguments it receives.\n *\n * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n * may be used as a placeholder for partially applied arguments.\n *\n * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n * property of bound functions.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to bind.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {...*} [partials] The arguments to be partially applied.\n * @returns {Function} Returns the new bound function.\n * @example\n *\n * function greet(greeting, punctuation) {\n *   return greeting + ' ' + this.user + punctuation;\n * }\n *\n * var object = { 'user': 'fred' };\n *\n * var bound = _.bind(greet, object, 'hi');\n * bound('!');\n * // => 'hi fred!'\n *\n * // Bound with placeholders.\n * var bound = _.bind(greet, object, _, '!');\n * bound('hi');\n * // => 'hi fred!'\n */\nvar bind = baseRest(function(func, thisArg, partials) {\n  var bitmask = WRAP_BIND_FLAG;\n  if (partials.length) {\n    var holders = replaceHolders(partials, getHolder(bind));\n    bitmask |= WRAP_PARTIAL_FLAG;\n  }\n  return createWrap(func, bitmask, thisArg, partials, holders);\n});\n\n// Assign default placeholders.\nbind.placeholder = {};\n\nmodule.exports = bind;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var createFind = require('./_createFind'),\n    findIndex = require('./findIndex');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nmodule.exports = find;\n","var metaMap = require('./_metaMap'),\n    noop = require('./noop');\n\n/**\n * Gets metadata for `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {*} Returns the metadata for `func`.\n */\nvar getData = !metaMap ? noop : function(func) {\n  return metaMap.get(func);\n};\n\nmodule.exports = getData;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","'use strict';\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory');\r\n\r\n/**\r\n * Create an entry to modify the name of an an element.\r\n *\r\n * @param  {djs.model.Base} element\r\n * @param  {Object} options\r\n * @param  {string} options.id the id of the entry\r\n * @param  {string} options.label the label of the entry\r\n *\r\n * @return {Array<Object>} return an array containing\r\n *                         the entry to modify the name\r\n */\r\nmodule.exports = function(element, options, translate) {\r\n\r\n  options = options || {};\r\n  var id = options.id || 'name',\r\n      label = options.label || translate('Name'),\r\n      modelProperty = options.modelProperty || 'name';\r\n\r\n  var nameEntry = entryFactory.textBox({\r\n    id: id,\r\n    label: label,\r\n    modelProperty: modelProperty\r\n  });\r\n\r\n  return [ nameEntry ];\r\n\r\n};\r\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var LazyWrapper = require('./_LazyWrapper'),\n    LodashWrapper = require('./_LodashWrapper'),\n    baseLodash = require('./_baseLodash'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike'),\n    wrapperClone = require('./_wrapperClone');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates a `lodash` object which wraps `value` to enable implicit method\n * chain sequences. Methods that operate on and return arrays, collections,\n * and functions can be chained together. Methods that retrieve a single value\n * or may return a primitive value will automatically end the chain sequence\n * and return the unwrapped value. Otherwise, the value must be unwrapped\n * with `_#value`.\n *\n * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n * enabled using `_.chain`.\n *\n * The execution of chained methods is lazy, that is, it's deferred until\n * `_#value` is implicitly or explicitly called.\n *\n * Lazy evaluation allows several methods to support shortcut fusion.\n * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n * the creation of intermediate arrays and can greatly reduce the number of\n * iteratee executions. Sections of a chain sequence qualify for shortcut\n * fusion if the section is applied to an array and iteratees accept only\n * one argument. The heuristic for whether a section qualifies for shortcut\n * fusion is subject to change.\n *\n * Chaining is supported in custom builds as long as the `_#value` method is\n * directly or indirectly included in the build.\n *\n * In addition to lodash methods, wrappers have `Array` and `String` methods.\n *\n * The wrapper `Array` methods are:\n * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n *\n * The wrapper `String` methods are:\n * `replace` and `split`\n *\n * The wrapper methods that support shortcut fusion are:\n * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n *\n * The chainable wrapper methods are:\n * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n * `zipObject`, `zipObjectDeep`, and `zipWith`\n *\n * The wrapper methods that are **not** chainable by default are:\n * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n * `upperFirst`, `value`, and `words`\n *\n * @name _\n * @constructor\n * @category Seq\n * @param {*} value The value to wrap in a `lodash` instance.\n * @returns {Object} Returns the new `lodash` wrapper instance.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var wrapped = _([1, 2, 3]);\n *\n * // Returns an unwrapped value.\n * wrapped.reduce(_.add);\n * // => 6\n *\n * // Returns a wrapped value.\n * var squares = wrapped.map(square);\n *\n * _.isArray(squares);\n * // => false\n *\n * _.isArray(squares.value());\n * // => true\n */\nfunction lodash(value) {\n  if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n    if (value instanceof LodashWrapper) {\n      return value;\n    }\n    if (hasOwnProperty.call(value, '__wrapped__')) {\n      return wrapperClone(value);\n    }\n  }\n  return new LodashWrapper(value);\n}\n\n// Ensure wrappers are instances of `baseLodash`.\nlodash.prototype = baseLodash.prototype;\nlodash.prototype.constructor = lodash;\n\nmodule.exports = lodash;\n","'use strict';\r\n\r\nvar CmdHelper = {};\r\nmodule.exports = CmdHelper;\r\n\r\nCmdHelper.updateProperties = function(element, properties) {\r\n  return {\r\n    cmd: 'element.updateProperties',\r\n    context: { element: element, properties: properties }\r\n  };\r\n};\r\n\r\nCmdHelper.updateBusinessObject = function(element, businessObject, newProperties) {\r\n  return {\r\n    cmd: 'properties-panel.update-businessobject',\r\n    context: {\r\n      element: element,\r\n      businessObject: businessObject,\r\n      properties: newProperties\r\n    }\r\n  };\r\n};\r\n\r\nCmdHelper.addElementsTolist = function(element, businessObject, listPropertyName, objectsToAdd) {\r\n  return {\r\n    cmd: 'properties-panel.update-businessobject-list',\r\n    context: {\r\n      element: element,\r\n      currentObject: businessObject,\r\n      propertyName: listPropertyName,\r\n      objectsToAdd: objectsToAdd\r\n    }\r\n  };\r\n};\r\n\r\nCmdHelper.removeElementsFromList = function(element, businessObject, listPropertyName, referencePropertyName, objectsToRemove) {\r\n\r\n  return {\r\n    cmd: 'properties-panel.update-businessobject-list',\r\n    context: {\r\n      element: element,\r\n      currentObject: businessObject,\r\n      propertyName: listPropertyName,\r\n      referencePropertyName: referencePropertyName,\r\n      objectsToRemove: objectsToRemove\r\n    }\r\n  };\r\n};\r\n\r\n\r\nCmdHelper.addAndRemoveElementsFromList = function(element, businessObject, listPropertyName, referencePropertyName, objectsToAdd, objectsToRemove) {\r\n\r\n  return {\r\n    cmd: 'properties-panel.update-businessobject-list',\r\n    context: {\r\n      element: element,\r\n      currentObject: businessObject,\r\n      propertyName: listPropertyName,\r\n      referencePropertyName: referencePropertyName,\r\n      objectsToAdd: objectsToAdd,\r\n      objectsToRemove: objectsToRemove\r\n    }\r\n  };\r\n};\r\n\r\n\r\nCmdHelper.setList = function(element, businessObject, listPropertyName, updatedObjectList) {\r\n  return {\r\n    cmd: 'properties-panel.update-businessobject-list',\r\n    context: {\r\n      element: element,\r\n      currentObject: businessObject,\r\n      propertyName: listPropertyName,\r\n      updatedObjectList: updatedObjectList\r\n    }\r\n  };\r\n};\r\n","'use strict';\r\n\r\nvar cmdHelper = require('./CmdHelper'),\r\n    elementHelper = require('./ElementHelper');\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\r\n\r\nvar ExtensionElementsHelper = {};\r\n\r\nvar getExtensionElements = function(bo) {\r\n  return bo.get('extensionElements');\r\n};\r\n\r\nExtensionElementsHelper.getExtensionElements = function(bo, type) {\r\n  var extensionElements = getExtensionElements(bo);\r\n  if (typeof extensionElements !== 'undefined') {\r\n    var extensionValues = extensionElements.get('values');\r\n    if (typeof extensionValues !== 'undefined') {\r\n      var elements = extensionValues.filter(function(value) {\r\n        return is(value, type);\r\n      });\r\n      if (elements.length) {\r\n        return elements;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nExtensionElementsHelper.addEntry = function(bo, element, entry, bpmnFactory) {\r\n  var extensionElements = bo.get('extensionElements');\r\n\r\n  // if there is no extensionElements list, create one\r\n  if (!extensionElements) {\r\n    // TODO: Ask Daniel which operation costs more\r\n    extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [entry] }, bo, bpmnFactory);\r\n    return { extensionElements : extensionElements };\r\n  } else {\r\n    // add new failedJobRetryExtensionElement to existing extensionElements list\r\n    return cmdHelper.addElementsTolist(element, extensionElements, 'values', [entry]);\r\n  }\r\n};\r\n\r\nExtensionElementsHelper.removeEntry = function(bo, element, entry) {\r\n  var extensionElements = bo.get('extensionElements');\r\n\r\n  if (!extensionElements) {\r\n\r\n    // return an empty command when there is no extensionElements list\r\n    return {};\r\n  }\r\n\r\n  return cmdHelper.removeElementsFromList(element, extensionElements, 'values', 'extensionElements', [entry]);\r\n};\r\n\r\nmodule.exports = ExtensionElementsHelper;\r\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","'use strict';\r\n\r\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory');\r\n\r\nvar elementHelper = require('../../../../helper/ElementHelper'),\r\n    cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\nvar domClasses = require('min-dom').classes;\r\n\r\n/**\r\n * Get a property value of the loop characteristics.\r\n *\r\n * @param {djs.model.Base} element\r\n * @param {string} propertyName\r\n *\r\n * @return {any} the property value\r\n */\r\nfunction getProperty(element, propertyName) {\r\n  var loopCharacteristics = getLoopCharacteristics(element);\r\n  return loopCharacteristics && loopCharacteristics.get(propertyName);\r\n}\r\n\r\n/**\r\n * Get the body of a given expression.\r\n *\r\n * @param {ModdleElement<bpmn:FormalExpression>} expression\r\n *\r\n * @return {string} the body (value) of the expression\r\n */\r\nfunction getBody(expression) {\r\n  return expression && expression.get('body');\r\n}\r\n\r\n\r\n/**\r\n * Get the loop characteristics of an element.\r\n *\r\n * @param {djs.model.Base} element\r\n *\r\n * @return {ModdleElement<bpmn:MultiInstanceLoopCharacteristics>} the loop characteristics\r\n */\r\nfunction getLoopCharacteristics(element) {\r\n  var bo = getBusinessObject(element);\r\n  return bo.loopCharacteristics;\r\n}\r\n\r\n/**\r\n * Get the loop cardinality of the loop characteristics.\r\n *\r\n * @param {djs.model.Base} element\r\n *\r\n * @return {ModdleElement<bpmn:FormalExpression>} an expression representing the loop cardinality\r\n */\r\nfunction getLoopCardinality(element) {\r\n  return getProperty(element, 'loopCardinality');\r\n}\r\n\r\n/**\r\n * Get the loop cardinality value of the loop characteristics.\r\n *\r\n * @param {djs.model.Base} element\r\n *\r\n * @return {string} the loop cardinality value\r\n */\r\nfunction getLoopCardinalityValue(element) {\r\n  var loopCardinality = getLoopCardinality(element);\r\n  return getBody(loopCardinality);\r\n}\r\n\r\n/**\r\n * Get the completion condition of the loop characteristics.\r\n *\r\n * @param {djs.model.Base} element\r\n *\r\n * @return {ModdleElement<bpmn:FormalExpression>} an expression representing the completion condition\r\n */\r\nfunction getCompletionCondition(element) {\r\n  return getProperty(element, 'completionCondition');\r\n}\r\n\r\n/**\r\n * Get the completion condition value of the loop characteristics.\r\n *\r\n * @param {djs.model.Base} element\r\n *\r\n * @return {string} the completion condition value\r\n */\r\nfunction getCompletionConditionValue(element) {\r\n  var completionCondition = getCompletionCondition(element);\r\n  return getBody(completionCondition);\r\n}\r\n\r\n/**\r\n * Get the 'activiti:collection' attribute value of the loop characteristics.\r\n *\r\n * @param {djs.model.Base} element\r\n *\r\n * @return {string} the 'activiti:collection' value\r\n */\r\nfunction getCollection(element) {\r\n  return getProperty(element, 'activiti:collection');\r\n}\r\n\r\n/**\r\n * Get the 'activiti:elementVariable' attribute value of the loop characteristics.\r\n *\r\n * @param {djs.model.Base} element\r\n *\r\n * @return {string} the 'activiti:elementVariable' value\r\n */\r\nfunction getElementVariable(element) {\r\n  return getProperty(element, 'activiti:elementVariable');\r\n}\r\n\r\n\r\n/**\r\n * Creates 'bpmn:FormalExpression' element.\r\n *\r\n * @param {ModdleElement} parent\r\n * @param {string} body\r\n * @param {BpmnFactory} bpmnFactory\r\n *\r\n * @result {ModdleElement<bpmn:FormalExpression>} a formal expression\r\n */\r\nfunction createFormalExpression(parent, body, bpmnFactory) {\r\n  return elementHelper.createElement('bpmn:FormalExpression', { body: body }, parent, bpmnFactory);\r\n}\r\n\r\n/**\r\n * Updates a specific formal expression of the loop characteristics.\r\n *\r\n * @param {djs.model.Base} element\r\n * @param {string} propertyName\r\n * @param {string} newValue\r\n * @param {BpmnFactory} bpmnFactory\r\n */\r\nfunction updateFormalExpression(element, propertyName, newValue, bpmnFactory) {\r\n  var loopCharacteristics = getLoopCharacteristics(element);\r\n\r\n  var expressionProps = {};\r\n\r\n  if (!newValue) {\r\n    // remove formal expression\r\n    expressionProps[propertyName] = undefined;\r\n    return cmdHelper.updateBusinessObject(element, loopCharacteristics, expressionProps);\r\n  }\r\n\r\n  var existingExpression = loopCharacteristics.get(propertyName);\r\n\r\n  if (!existingExpression) {\r\n    // add formal expression\r\n    expressionProps[propertyName] = createFormalExpression(loopCharacteristics, newValue, bpmnFactory);\r\n    return cmdHelper.updateBusinessObject(element, loopCharacteristics, expressionProps);\r\n  }\r\n\r\n  // edit existing formal expression\r\n  return cmdHelper.updateBusinessObject(element, existingExpression, {\r\n    body: newValue\r\n  });\r\n}\r\n\r\n\r\nmodule.exports = function(element, bpmnFactory, translate) {\r\n\r\n  var entries = [];\r\n\r\n  // error message /////////////////////////////////////////////////////////////////\r\n\r\n  entries.push({\r\n    id: 'multiInstance-errorMessage',\r\n    html: '<div data-show=\"isValid\">' +\r\n             '<span class=\"bpp-icon-warning\"></span> ' +\r\n             translate('Must provide either loop cardinality or collection') +\r\n          '</div>',\r\n\r\n    isValid: function(element, node, notification, scope) {\r\n      var loopCharacteristics = getLoopCharacteristics(element);\r\n\r\n      var isValid = true;\r\n      if (loopCharacteristics) {\r\n        var loopCardinality = getLoopCardinalityValue(element);\r\n        var collection = getCollection(element);\r\n\r\n        isValid = !loopCardinality && !collection;\r\n      }\r\n\r\n      domClasses(node).toggle('bpp-hidden', !isValid);\r\n      domClasses(notification).toggle('bpp-error-message', isValid);\r\n\r\n      return isValid;\r\n    }\r\n  });\r\n\r\n  // loop cardinality //////////////////////////////////////////////////////////////\r\n\r\n  entries.push(entryFactory.textField({\r\n    id: 'multiInstance-loopCardinality',\r\n    label: translate('Loop Cardinality'),\r\n    modelProperty: 'loopCardinality',\r\n\r\n    get: function(element, node) {\r\n      return {\r\n        loopCardinality: getLoopCardinalityValue(element)\r\n      };\r\n    },\r\n\r\n    set: function(element, values) {\r\n      return updateFormalExpression(element, 'loopCardinality', values.loopCardinality, bpmnFactory);\r\n    }\r\n  }));\r\n\r\n\r\n  // collection //////////////////////////////////////////////////////////////////\r\n\r\n  entries.push(entryFactory.textField({\r\n    id: 'multiInstance-collection',\r\n    label: translate('Collection'),\r\n    modelProperty: 'collection',\r\n\r\n    get: function(element, node) {\r\n      return {\r\n        collection: getCollection(element)\r\n      };\r\n    },\r\n\r\n    set: function(element, values) {\r\n      var loopCharacteristics = getLoopCharacteristics(element);\r\n      return cmdHelper.updateBusinessObject(element, loopCharacteristics, {\r\n        'activiti:collection': values.collection || undefined\r\n      });\r\n    },\r\n\r\n    validate: function(element, values, node) {\r\n      var collection = getCollection(element);\r\n      var elementVariable = getElementVariable(element);\r\n\r\n      if (!collection && elementVariable) {\r\n        return { collection : 'Must provide a value' };\r\n      }\r\n    }\r\n  }));\r\n\r\n\r\n  // element variable ////////////////////////////////////////////////////////////\r\n\r\n  entries.push(entryFactory.textField({\r\n    id: 'multiInstance-elementVariable',\r\n    label: translate('Element Variable'),\r\n    modelProperty: 'elementVariable',\r\n\r\n    get: function(element, node) {\r\n      return {\r\n        elementVariable: getElementVariable(element)\r\n      };\r\n    },\r\n\r\n    set: function(element, values) {\r\n      var loopCharacteristics = getLoopCharacteristics(element);\r\n      return cmdHelper.updateBusinessObject(element, loopCharacteristics, {\r\n        'activiti:elementVariable': values.elementVariable || undefined\r\n      });\r\n    }\r\n  }));\r\n\r\n\r\n  // Completion Condition //////////////////////////////////////////////////////\r\n\r\n  entries.push(entryFactory.textField({\r\n    id: 'multiInstance-completionCondition',\r\n    label: translate('Completion Condition'),\r\n    modelProperty: 'completionCondition',\r\n\r\n    get: function(element) {\r\n      return {\r\n        completionCondition: getCompletionConditionValue(element)\r\n      };\r\n    },\r\n\r\n    set: function(element, values) {\r\n      return updateFormalExpression(element, 'completionCondition', values.completionCondition, bpmnFactory);\r\n    }\r\n  }));\r\n\r\n  return entries;\r\n\r\n};\r\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","'use strict';\r\n\r\nvar assign = require('lodash/assign');\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory'),\r\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\r\n    getTemplate = require('../Helper').getTemplate,\r\n    cmdHelper = require('../../../../helper/CmdHelper'),\r\n    elementHelper = require('../../../../helper/ElementHelper');\r\n\r\nvar findExtension = require('../Helper').findExtension,\r\n    findExtensions = require('../Helper').findExtensions,\r\n    findInputParameter = require('../Helper').findInputParameter,\r\n    findOutputParameter = require('../Helper').findOutputParameter,\r\n    findCamundaProperty = require('../Helper').findCamundaProperty,\r\n    findCamundaInOut = require('../Helper').findCamundaInOut;\r\n\r\nvar createCamundaProperty = require('../CreateHelper').createCamundaProperty,\r\n    createInputParameter = require('../CreateHelper').createInputParameter,\r\n    createOutputParameter = require('../CreateHelper').createOutputParameter,\r\n    createCamundaIn = require('../CreateHelper').createCamundaIn,\r\n    createCamundaOut = require('../CreateHelper').createCamundaOut,\r\n    createCamundaInWithBusinessKey = require('../CreateHelper').createCamundaInWithBusinessKey,\r\n    createCamundaFieldInjection = require('../CreateHelper').createCamundaFieldInjection;\r\n\r\nvar ACTIVITI_PROPERTY_TYPE = 'activiti:property',\r\n    ACTIVITI_INPUT_PARAMETER_TYPE = 'activiti:inputParameter',\r\n    ACTIVITI_OUTPUT_PARAMETER_TYPE = 'activiti:outputParameter',\r\n    ACTIVITI_IN_TYPE = 'activiti:in',\r\n    ACTIVITI_OUT_TYPE = 'activiti:out',\r\n    ACTIVITI_IN_BUSINESS_KEY_TYPE = 'activiti:in:businessKey',\r\n    ACTIVITI_EXECUTION_LISTENER_TYPE = 'activiti:executionListener',\r\n    ACTIVITI_FIELD = 'activiti:field';\r\n\r\nvar BASIC_MODDLE_TYPES = [\r\n  'Boolean',\r\n  'Integer',\r\n  'String'\r\n];\r\n\r\nvar EXTENSION_BINDING_TYPES = [\r\n  ACTIVITI_PROPERTY_TYPE,\r\n  ACTIVITI_INPUT_PARAMETER_TYPE,\r\n  ACTIVITI_OUTPUT_PARAMETER_TYPE,\r\n  ACTIVITI_IN_TYPE,\r\n  ACTIVITI_OUT_TYPE,\r\n  ACTIVITI_IN_BUSINESS_KEY_TYPE,\r\n  ACTIVITI_FIELD\r\n];\r\n\r\nvar IO_BINDING_TYPES = [\r\n  ACTIVITI_INPUT_PARAMETER_TYPE,\r\n  ACTIVITI_OUTPUT_PARAMETER_TYPE\r\n];\r\n\r\nvar IN_OUT_BINDING_TYPES = [\r\n  ACTIVITI_IN_TYPE,\r\n  ACTIVITI_OUT_TYPE,\r\n  ACTIVITI_IN_BUSINESS_KEY_TYPE\r\n];\r\n\r\n/**\r\n * Injects custom properties into the given group.\r\n *\r\n * @param {GroupDescriptor} group\r\n * @param {djs.model.Base} element\r\n * @param {ElementTemplates} elementTemplates\r\n * @param {BpmnFactory} bpmnFactory\r\n */\r\nmodule.exports = function(element, elementTemplates, bpmnFactory, translate) {\r\n\r\n  var template = getTemplate(element, elementTemplates);\r\n\r\n  if (!template) {\r\n    return [];\r\n  }\r\n\r\n  var renderCustomField = function(id, p, idx) {\r\n    var propertyType = p.type;\r\n\r\n    var entryOptions = {\r\n      id: id,\r\n      description: p.description,\r\n      label: p.label,\r\n      modelProperty: id,\r\n      get: propertyGetter(id, p),\r\n      set: propertySetter(id, p, bpmnFactory),\r\n      validate: propertyValidator(id, p)\r\n    };\r\n\r\n    var entry;\r\n\r\n    if (propertyType === 'Boolean') {\r\n      entry = entryFactory.checkbox(entryOptions);\r\n    }\r\n\r\n    if (propertyType === 'String') {\r\n      entry = entryFactory.textField(entryOptions);\r\n    }\r\n\r\n    if (propertyType === 'Text') {\r\n      entry = entryFactory.textBox(entryOptions);\r\n    }\r\n\r\n    if (propertyType === 'Dropdown') {\r\n      entryOptions.selectOptions = p.choices;\r\n\r\n      entry = entryFactory.selectBox(entryOptions);\r\n    }\r\n\r\n    return entry;\r\n  };\r\n\r\n  var groups = [];\r\n  var id, entry;\r\n\r\n  var customFieldsGroup = {\r\n    id: 'customField',\r\n    label: translate('Custom Fields'),\r\n    entries: []\r\n  };\r\n  template.properties.forEach(function(p, idx) {\r\n\r\n    id = 'custom-' + template.id + '-' + idx;\r\n\r\n    entry = renderCustomField(id, p, idx);\r\n    if (entry) {\r\n      customFieldsGroup.entries.push(entry);\r\n    }\r\n  });\r\n  if (customFieldsGroup.entries.length > 0) {\r\n    groups.push(customFieldsGroup);\r\n  }\r\n\r\n  if (template.scopes) {\r\n    for (var scopeName in template.scopes) {\r\n\r\n      var scope = template.scopes[scopeName];\r\n      var idScopeName = scopeName.replace(/:/g, '_');\r\n\r\n      var customScopeFieldsGroup = {\r\n        id: 'customField-' + idScopeName,\r\n        label: translate('Custom Fields for scope: ') + scopeName,\r\n        entries: []\r\n      };\r\n\r\n      scope.properties.forEach(function(p, idx) {\r\n\r\n        var propertyId = 'custom-' + template.id + '-' + idScopeName + '-' + idx;\r\n\r\n        var scopedProperty = propertyWithScope(p, scopeName);\r\n\r\n        entry = renderCustomField(propertyId, scopedProperty, idx);\r\n        if (entry) {\r\n          customScopeFieldsGroup.entries.push(entry);\r\n        }\r\n      });\r\n\r\n      if (customScopeFieldsGroup.entries.length > 0) {\r\n        groups.push(customScopeFieldsGroup);\r\n      }\r\n    }\r\n  }\r\n\r\n  return groups;\r\n};\r\n\r\n\r\n// getters, setters and validators ///////////////\r\n\r\n\r\n/**\r\n * Return a getter that retrieves the given property.\r\n *\r\n * @param {String} name\r\n * @param {PropertyDescriptor} property\r\n *\r\n * @return {Function}\r\n */\r\nfunction propertyGetter(name, property) {\r\n\r\n  /* getter */\r\n  return function get(element) {\r\n    var value = getPropertyValue(element, property);\r\n\r\n    return objectWithKey(name, value);\r\n  };\r\n}\r\n\r\n/**\r\n * Return a setter that updates the given property.\r\n *\r\n * @param {String} name\r\n * @param {PropertyDescriptor} property\r\n * @param {BpmnFactory} bpmnFactory\r\n *\r\n * @return {Function}\r\n */\r\nfunction propertySetter(name, property, bpmnFactory) {\r\n\r\n  /* setter */\r\n  return function set(element, values) {\r\n\r\n    var value = values[name];\r\n\r\n    return setPropertyValue(element, property, value, bpmnFactory);\r\n  };\r\n}\r\n\r\n/**\r\n * Return a validator that ensures the property is ok.\r\n *\r\n * @param {String} name\r\n * @param {PropertyDescriptor} property\r\n *\r\n * @return {Function}\r\n */\r\nfunction propertyValidator(name, property) {\r\n\r\n  /* validator */\r\n  return function validate(element, values) {\r\n    var value = values[name];\r\n\r\n    var error = validateValue(value, property);\r\n\r\n    if (error) {\r\n      return objectWithKey(name, error);\r\n    }\r\n  };\r\n}\r\n\r\n\r\n// get, set and validate helpers ///////////////////\r\n\r\n/**\r\n * Return the value of the specified property descriptor,\r\n * on the passed diagram element.\r\n *\r\n * @param {djs.model.Base} element\r\n * @param {PropertyDescriptor} property\r\n *\r\n * @return {Any}\r\n */\r\nfunction getPropertyValue(element, property) {\r\n\r\n  var bo = getBusinessObject(element);\r\n\r\n  var binding = property.binding,\r\n      scope = property.scope;\r\n\r\n  var bindingType = binding.type,\r\n      bindingName = binding.name;\r\n\r\n  var propertyValue = property.value || '';\r\n\r\n  if (scope) {\r\n    bo = findExtension(bo, scope.name);\r\n    if (!bo) {\r\n      return propertyValue;\r\n    }\r\n  }\r\n\r\n  // property\r\n  if (bindingType === 'property') {\r\n\r\n    var value = bo.get(bindingName);\r\n\r\n    if (bindingName === 'conditionExpression') {\r\n      if (value) {\r\n        return value.body;\r\n      } else {\r\n        // return defined default\r\n        return propertyValue;\r\n      }\r\n    } else {\r\n      // return value; default to defined default\r\n      return typeof value !== 'undefined' ? value : propertyValue;\r\n    }\r\n  }\r\n\r\n  var camundaProperties,\r\n      camundaProperty;\r\n\r\n  if (bindingType === ACTIVITI_PROPERTY_TYPE) {\r\n    if (scope) {\r\n      camundaProperties = bo.get('properties');\r\n    } else {\r\n      camundaProperties = findExtension(bo, 'activiti:Properties');\r\n    }\r\n\r\n    if (camundaProperties) {\r\n      camundaProperty = findCamundaProperty(camundaProperties, binding);\r\n\r\n      if (camundaProperty) {\r\n        return camundaProperty.value;\r\n      }\r\n    }\r\n\r\n    return propertyValue;\r\n  }\r\n\r\n  var inputOutput,\r\n      ioParameter;\r\n\r\n  if (IO_BINDING_TYPES.indexOf(bindingType) !== -1) {\r\n\r\n    if (scope) {\r\n      inputOutput = bo.get('inputOutput');\r\n    } else {\r\n      inputOutput = findExtension(bo, 'activiti:InputOutput');\r\n    }\r\n\r\n    if (!inputOutput) {\r\n      // ioParameter cannot exist yet, return property value\r\n      return propertyValue;\r\n    }\r\n  }\r\n\r\n  // camunda input parameter\r\n  if (bindingType === ACTIVITI_INPUT_PARAMETER_TYPE) {\r\n    ioParameter = findInputParameter(inputOutput, binding);\r\n\r\n    if (ioParameter) {\r\n      if (binding.scriptFormat) {\r\n        if (ioParameter.definition) {\r\n          return ioParameter.definition.value;\r\n        }\r\n      } else {\r\n        return ioParameter.value || '';\r\n      }\r\n    }\r\n\r\n    return propertyValue;\r\n  }\r\n\r\n  // camunda output parameter\r\n  if (binding.type === ACTIVITI_OUTPUT_PARAMETER_TYPE) {\r\n    ioParameter = findOutputParameter(inputOutput, binding);\r\n\r\n    if (ioParameter) {\r\n      return ioParameter.name;\r\n    }\r\n\r\n    return propertyValue;\r\n  }\r\n\r\n\r\n  var ioElement;\r\n\r\n  if (IN_OUT_BINDING_TYPES.indexOf(bindingType) != -1) {\r\n    ioElement = findCamundaInOut(bo, binding);\r\n\r\n    if (ioElement) {\r\n      if (bindingType === ACTIVITI_IN_BUSINESS_KEY_TYPE) {\r\n        return ioElement.businessKey;\r\n      } else\r\n      if (bindingType === ACTIVITI_OUT_TYPE) {\r\n        return ioElement.target;\r\n      } else\r\n      if (bindingType === ACTIVITI_IN_TYPE) {\r\n        return ioElement[binding.expression ? 'sourceExpression' : 'source'];\r\n      }\r\n    }\r\n\r\n    return propertyValue;\r\n  }\r\n\r\n  if (bindingType === ACTIVITI_EXECUTION_LISTENER_TYPE) {\r\n    var executionListener;\r\n    if (scope) {\r\n      executionListener = bo.get('executionListener');\r\n    } else {\r\n      executionListener = findExtension(bo, 'activiti:ExecutionListener');\r\n    }\r\n\r\n    return executionListener.script.value;\r\n  }\r\n\r\n  var fieldInjection;\r\n  if (ACTIVITI_FIELD === bindingType) {\r\n    var fieldInjections = findExtensions(bo, [ 'activiti:Field' ]);\r\n    fieldInjections.forEach(function(item) {\r\n      if (item.name === binding.name) {\r\n        fieldInjection = item;\r\n      }\r\n    });\r\n    if (fieldInjection) {\r\n      return fieldInjection.string || fieldInjection.expression;\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n\r\n  throw unknownPropertyBinding(property);\r\n}\r\n\r\nmodule.exports.getPropertyValue = getPropertyValue;\r\n\r\n\r\n/**\r\n * Return an update operation that changes the diagram\r\n * element's custom property to the given value.\r\n *\r\n * The response of this method will be processed via\r\n * {@link PropertiesPanel#applyChanges}.\r\n *\r\n * @param {djs.model.Base} element\r\n * @param {PropertyDescriptor} property\r\n * @param {String} value\r\n * @param {BpmnFactory} bpmnFactory\r\n *\r\n * @return {Object|Array<Object>} results to be processed\r\n */\r\nfunction setPropertyValue(element, property, value, bpmnFactory) {\r\n  var bo = getBusinessObject(element);\r\n\r\n  var binding = property.binding,\r\n      scope = property.scope;\r\n\r\n  var bindingType = binding.type,\r\n      bindingName = binding.name;\r\n\r\n  var propertyValue;\r\n\r\n  var updates = [];\r\n\r\n  var extensionElements;\r\n\r\n  if (EXTENSION_BINDING_TYPES.indexOf(bindingType) !== -1) {\r\n    extensionElements = bo.get('extensionElements');\r\n\r\n    // create extension elements, if they do not exist (yet)\r\n    if (!extensionElements) {\r\n      extensionElements = elementHelper.createElement('bpmn:ExtensionElements', null, element, bpmnFactory);\r\n\r\n      updates.push(cmdHelper.updateBusinessObject(\r\n        element, bo, objectWithKey('extensionElements', extensionElements)\r\n      ));\r\n    }\r\n  }\r\n\r\n  if (scope) {\r\n    bo = findExtension(bo, scope.name);\r\n    if (!bo) {\r\n      bo = elementHelper.createElement(scope.name, null, element, bpmnFactory);\r\n\r\n      updates.push(cmdHelper.addElementsTolist(\r\n        bo, extensionElements, 'values', [ bo ]\r\n      ));\r\n    }\r\n  }\r\n\r\n  // property\r\n  if (bindingType === 'property') {\r\n\r\n    if (bindingName === 'conditionExpression') {\r\n\r\n      propertyValue = elementHelper.createElement('bpmn:FormalExpression', {\r\n        body: value,\r\n        language: binding.scriptFormat\r\n      }, bo, bpmnFactory);\r\n    } else {\r\n\r\n      var moddlePropertyDescriptor = bo.$descriptor.propertiesByName[bindingName];\r\n\r\n      var moddleType = moddlePropertyDescriptor.type;\r\n\r\n      // make sure we only update String, Integer, Real and\r\n      // Boolean properties (do not accidentally override complex objects...)\r\n      if (BASIC_MODDLE_TYPES.indexOf(moddleType) === -1) {\r\n        throw new Error('cannot set moddle type <' + moddleType + '>');\r\n      }\r\n\r\n      if (moddleType === 'Boolean') {\r\n        propertyValue = !!value;\r\n      } else\r\n      if (moddleType === 'Integer') {\r\n        propertyValue = parseInt(value, 10);\r\n\r\n        if (isNaN(propertyValue)) {\r\n          // do not write NaN value\r\n          propertyValue = undefined;\r\n        }\r\n      } else {\r\n        propertyValue = value;\r\n      }\r\n    }\r\n\r\n    if (propertyValue !== undefined) {\r\n      updates.push(cmdHelper.updateBusinessObject(\r\n        element, bo, objectWithKey(bindingName, propertyValue)\r\n      ));\r\n    }\r\n  }\r\n\r\n  // activiti:property\r\n  var camundaProperties,\r\n      existingCamundaProperty,\r\n      newCamundaProperty;\r\n\r\n  if (bindingType === ACTIVITI_PROPERTY_TYPE) {\r\n\r\n    if (scope) {\r\n      camundaProperties = bo.get('properties');\r\n    } else {\r\n      camundaProperties = findExtension(extensionElements, 'activiti:Properties');\r\n    }\r\n\r\n    if (!camundaProperties) {\r\n      camundaProperties = elementHelper.createElement('activiti:Properties', null, bo, bpmnFactory);\r\n\r\n      if (scope) {\r\n        updates.push(cmdHelper.updateBusinessObject(\r\n          element, bo, { properties: camundaProperties }\r\n        ));\r\n      }\r\n      else {\r\n        updates.push(cmdHelper.addElementsTolist(\r\n          element, extensionElements, 'values', [ camundaProperties ]\r\n        ));\r\n      }\r\n    }\r\n\r\n    existingCamundaProperty = findCamundaProperty(camundaProperties, binding);\r\n\r\n    newCamundaProperty = createCamundaProperty(binding, value, bpmnFactory);\r\n\r\n    updates.push(cmdHelper.addAndRemoveElementsFromList(\r\n      element,\r\n      camundaProperties,\r\n      'values',\r\n      null,\r\n      [ newCamundaProperty ],\r\n      existingCamundaProperty ? [ existingCamundaProperty ] : []\r\n    ));\r\n  }\r\n\r\n  // activiti:inputParameter\r\n  // activiti:outputParameter\r\n  var inputOutput,\r\n      existingIoParameter,\r\n      newIoParameter;\r\n\r\n  if (IO_BINDING_TYPES.indexOf(bindingType) !== -1) {\r\n\r\n    if (scope) {\r\n      inputOutput = bo.get('inputOutput');\r\n    } else {\r\n      inputOutput = findExtension(extensionElements, 'activiti:InputOutput');\r\n    }\r\n\r\n    // create inputOutput element, if it do not exist (yet)\r\n    if (!inputOutput) {\r\n      inputOutput = elementHelper.createElement('activiti:InputOutput', null, bo, bpmnFactory);\r\n\r\n      if (scope) {\r\n        updates.push(cmdHelper.updateBusinessObject(\r\n          element, bo, { inputOutput: inputOutput }\r\n        ));\r\n      }\r\n      else {\r\n        updates.push(cmdHelper.addElementsTolist(\r\n          element, extensionElements, 'values', inputOutput\r\n        ));\r\n      }\r\n    }\r\n  }\r\n\r\n  if (bindingType === ACTIVITI_INPUT_PARAMETER_TYPE) {\r\n\r\n    existingIoParameter = findInputParameter(inputOutput, binding);\r\n\r\n    newIoParameter = createInputParameter(binding, value, bpmnFactory);\r\n\r\n    updates.push(cmdHelper.addAndRemoveElementsFromList(\r\n      element,\r\n      inputOutput,\r\n      'inputParameters',\r\n      null,\r\n      [ newIoParameter ],\r\n      existingIoParameter ? [ existingIoParameter ] : []\r\n    ));\r\n  }\r\n\r\n  if (bindingType === ACTIVITI_OUTPUT_PARAMETER_TYPE) {\r\n\r\n    existingIoParameter = findOutputParameter(inputOutput, binding);\r\n\r\n    newIoParameter = createOutputParameter(binding, value, bpmnFactory);\r\n\r\n    updates.push(cmdHelper.addAndRemoveElementsFromList(\r\n      element,\r\n      inputOutput,\r\n      'outputParameters',\r\n      null,\r\n      [ newIoParameter ],\r\n      existingIoParameter ? [ existingIoParameter ] : []\r\n    ));\r\n  }\r\n\r\n\r\n  // activiti:in\r\n  // activiti:out\r\n  // activiti:in:businessKey\r\n  var existingInOut,\r\n      newInOut;\r\n\r\n  if (IN_OUT_BINDING_TYPES.indexOf(bindingType) !== -1) {\r\n\r\n    existingInOut = findCamundaInOut(bo, binding);\r\n\r\n    if (bindingType === ACTIVITI_IN_TYPE) {\r\n      newInOut = createCamundaIn(binding, value, bpmnFactory);\r\n    } else\r\n    if (bindingType === ACTIVITI_OUT_TYPE) {\r\n      newInOut = createCamundaOut(binding, value, bpmnFactory);\r\n    } else {\r\n      newInOut = createCamundaInWithBusinessKey(binding, value, bpmnFactory);\r\n    }\r\n\r\n    updates.push(cmdHelper.addAndRemoveElementsFromList(\r\n      element,\r\n      extensionElements,\r\n      'values',\r\n      null,\r\n      [ newInOut ],\r\n      existingInOut ? [ existingInOut ] : []\r\n    ));\r\n  }\r\n\r\n  if (bindingType === ACTIVITI_FIELD) {\r\n    var existingFieldInjections = findExtensions(bo, [ 'activiti:Field' ]);\r\n    var newFieldInjections = [];\r\n\r\n    if (existingFieldInjections.length > 0) {\r\n      existingFieldInjections.forEach(function(item) {\r\n        if (item.name === binding.name) {\r\n          newFieldInjections.push(createCamundaFieldInjection(binding, value, bpmnFactory));\r\n        } else {\r\n          newFieldInjections.push(item);\r\n        }\r\n      });\r\n    } else {\r\n      newFieldInjections.push(createCamundaFieldInjection(binding, value, bpmnFactory));\r\n    }\r\n\r\n    updates.push(cmdHelper.addAndRemoveElementsFromList(\r\n      element,\r\n      extensionElements,\r\n      'values',\r\n      null,\r\n      newFieldInjections,\r\n      existingFieldInjections ? existingFieldInjections : []\r\n    ));\r\n  }\r\n\r\n  if (updates.length) {\r\n    return updates;\r\n  }\r\n\r\n  // quick warning for better debugging\r\n  console.warn('no update', element, property, value);\r\n}\r\n\r\nmodule.exports.setPropertyValue = setPropertyValue;\r\n\r\n/**\r\n * Validate value of a given property.\r\n *\r\n * @param {String} value\r\n * @param {PropertyDescriptor} property\r\n *\r\n * @return {Object} with validation errors\r\n */\r\nfunction validateValue(value, property) {\r\n\r\n  var constraints = property.constraints || {};\r\n\r\n  if (constraints.notEmpty && isEmpty(value)) {\r\n    return 'Must not be empty';\r\n  }\r\n\r\n  if (constraints.maxLength && value.length > constraints.maxLength) {\r\n    return 'Must have max length ' + constraints.maxLength;\r\n  }\r\n\r\n  if (constraints.minLength && value.length < constraints.minLength) {\r\n    return 'Must have min length ' + constraints.minLength;\r\n  }\r\n\r\n  var pattern = constraints.pattern,\r\n      message;\r\n\r\n  if (pattern) {\r\n\r\n    if (typeof pattern !== 'string') {\r\n      message = pattern.message;\r\n      pattern = pattern.value;\r\n    }\r\n\r\n    if (!matchesPattern(value, pattern)) {\r\n      return message || 'Must match pattern ' + pattern;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n// misc helpers ///////////////////////////////\r\n\r\nfunction propertyWithScope(property, scopeName) {\r\n  if (!scopeName) {\r\n    return property;\r\n  }\r\n\r\n  return assign({}, property, {\r\n    scope: {\r\n      name: scopeName\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * Return an object with a single key -> value association.\r\n *\r\n * @param {String} key\r\n * @param {Any} value\r\n *\r\n * @return {Object}\r\n */\r\nfunction objectWithKey(key, value) {\r\n  var obj = {};\r\n\r\n  obj[key] = value;\r\n\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Does the given string match the specified pattern?\r\n *\r\n * @param {String} str\r\n * @param {String} pattern\r\n *\r\n * @return {Boolean}\r\n */\r\nfunction matchesPattern(str, pattern) {\r\n  var regexp = new RegExp(pattern);\r\n\r\n  return regexp.test(str);\r\n}\r\n\r\nfunction isEmpty(str) {\r\n  return !str || /^\\s*$/.test(str);\r\n}\r\n\r\n/**\r\n * Create a new {@link Error} indicating an unknown\r\n * property binding.\r\n *\r\n * @param {PropertyDescriptor} property\r\n *\r\n * @return {Error}\r\n */\r\nfunction unknownPropertyBinding(property) {\r\n  var binding = property.binding;\r\n\r\n  return new Error('unknown binding: <' + binding.type + '>');\r\n}\r\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\r\n\r\nvar assign = require('lodash/assign');\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory'),\r\n    cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\nmodule.exports = function(element, bpmnFactory, options, translate) {\r\n\r\n  var getBusinessObject = options.getBusinessObject,\r\n      hideResultVariable = options.hideResultVariable,\r\n      id = options.id || 'resultVariable';\r\n\r\n\r\n  var resultVariableEntry = entryFactory.textField({\r\n    id: id,\r\n    label: translate('Result Variable'),\r\n    modelProperty: 'resultVariable',\r\n\r\n    get: function(element, node) {\r\n      var bo = getBusinessObject(element);\r\n      return { resultVariable: bo.get('activiti:resultVariable') };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var bo = getBusinessObject(element);\r\n\r\n      var resultVariable = values.resultVariable || undefined;\r\n\r\n      var props = {\r\n        'activiti:resultVariable': resultVariable\r\n      };\r\n\r\n      if (is(bo, 'activiti:DmnCapable') && !resultVariable) {\r\n        props = assign({ 'activiti:mapDecisionResult': 'resultList' }, props);\r\n      }\r\n\r\n      return cmdHelper.updateBusinessObject(element, bo, props);\r\n    },\r\n\r\n    hidden: function(element, node) {\r\n      if (typeof hideResultVariable === 'function') {\r\n        return hideResultVariable.apply(resultVariableEntry, arguments);\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return [ resultVariableEntry ];\r\n\r\n};\r\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","'use strict';\r\n\r\nvar entryFactory = require('../../../factory/EntryFactory'),\r\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\r\n    utils = require('../../../Utils'),\r\n    cmdHelper = require('../../../helper/CmdHelper');\r\n\r\nmodule.exports = function(group, element, translate, options) {\r\n\r\n  var description = options && options.description;\r\n\r\n  // Id\r\n  group.entries.push(entryFactory.validationAwareTextField({\r\n    id: 'id',\r\n    label: translate('Id'),\r\n    description: description && translate(description),\r\n    modelProperty: 'id',\r\n    getProperty: function(element) {\r\n      return getBusinessObject(element).id;\r\n    },\r\n    setProperty: function(element, properties) {\r\n\r\n      element = element.labelTarget || element;\r\n\r\n      return cmdHelper.updateProperties(element, properties);\r\n    },\r\n    validate: function(element, values) {\r\n      var idValue = values.id;\r\n\r\n      var bo = getBusinessObject(element);\r\n\r\n      var idError = utils.isIdValid(bo, idValue);\r\n\r\n      return idError ? { id: idError } : {};\r\n    }\r\n  }));\r\n\r\n};\r\n","'use strict';\r\n\r\nvar domQuery = require('min-dom').query,\r\n    domClear = require('min-dom').clear,\r\n    is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    forEach = require('lodash/forEach'),\r\n    domify = require('min-dom').domify,\r\n    Ids = require('ids').default;\r\n\r\nvar SPACE_REGEX = /\\s/;\r\n\r\n// for QName validation as per http://www.w3.org/TR/REC-xml/#NT-NameChar\r\nvar QNAME_REGEX = /^([a-z][\\w-.]*:)?[a-z_][\\w-.]*$/i;\r\n\r\n// for ID validation as per BPMN Schema (QName - Namespace)\r\nvar ID_REGEX = /^[a-z_][\\w-.]*$/i;\r\n\r\nvar PLACEHOLDER_REGEX = /\\$\\{([^}]*)\\}/g;\r\n\r\nfunction selectedOption(selectBox) {\r\n  if (selectBox.selectedIndex >= 0) {\r\n    return selectBox.options[selectBox.selectedIndex].value;\r\n  }\r\n}\r\n\r\nmodule.exports.selectedOption = selectedOption;\r\n\r\n\r\nfunction selectedType(elementSyntax, inputNode) {\r\n  var typeSelect = domQuery(elementSyntax, inputNode);\r\n  return selectedOption(typeSelect);\r\n}\r\n\r\nmodule.exports.selectedType = selectedType;\r\n\r\n\r\n/**\r\n * Retrieve the root element the document this\r\n * business object is contained in.\r\n *\r\n * @return {ModdleElement}\r\n */\r\nfunction getRoot(businessObject) {\r\n  var parent = businessObject;\r\n  while (parent.$parent) {\r\n    parent = parent.$parent;\r\n  }\r\n  return parent;\r\n}\r\n\r\nmodule.exports.getRoot = getRoot;\r\n\r\n\r\n/**\r\n * filters all elements in the list which have a given type.\r\n * removes a new list\r\n */\r\nfunction filterElementsByType(objectList, type) {\r\n  var list = objectList || [];\r\n  var result = [];\r\n  forEach(list, function(obj) {\r\n    if (is(obj, type)) {\r\n      result.push(obj);\r\n    }\r\n  });\r\n  return result;\r\n}\r\n\r\nmodule.exports.filterElementsByType = filterElementsByType;\r\n\r\n\r\nfunction findRootElementsByType(businessObject, referencedType) {\r\n  var root = getRoot(businessObject);\r\n\r\n  return filterElementsByType(root.rootElements, referencedType);\r\n}\r\n\r\nmodule.exports.findRootElementsByType = findRootElementsByType;\r\n\r\n\r\nfunction removeAllChildren(domElement) {\r\n  while (domElement.firstChild) {\r\n    domElement.removeChild(domElement.firstChild);\r\n  }\r\n}\r\n\r\nmodule.exports.removeAllChildren = removeAllChildren;\r\n\r\n\r\n/**\r\n * adds an empty option to the list\r\n */\r\nfunction addEmptyParameter(list) {\r\n  return list.push({ 'label': '', 'value': '', 'name': '' });\r\n}\r\n\r\nmodule.exports.addEmptyParameter = addEmptyParameter;\r\n\r\n\r\n/**\r\n * returns a list with all root elements for the given parameter 'referencedType'\r\n */\r\nfunction refreshOptionsModel(businessObject, referencedType) {\r\n  var model = [];\r\n  var referableObjects = findRootElementsByType(businessObject, referencedType);\r\n  forEach(referableObjects, function(obj) {\r\n    model.push({\r\n      label: (obj.name || '') + ' (id='+obj.id+')',\r\n      value: obj.id,\r\n      name: obj.name\r\n    });\r\n  });\r\n  return model;\r\n}\r\n\r\nmodule.exports.refreshOptionsModel = refreshOptionsModel;\r\n\r\n\r\n/**\r\n * fills the drop down with options\r\n */\r\nfunction updateOptionsDropDown(domSelector, businessObject, referencedType, entryNode) {\r\n  var options = refreshOptionsModel(businessObject, referencedType);\r\n  addEmptyParameter(options);\r\n  var selectBox = domQuery(domSelector, entryNode);\r\n  domClear(selectBox);\r\n\r\n  forEach(options, function(option) {\r\n    var optionEntry = domify('<option value=\"' + option.value + '\">' + option.label + '</option>');\r\n    selectBox.appendChild(optionEntry);\r\n  });\r\n  return options;\r\n}\r\n\r\nmodule.exports.updateOptionsDropDown = updateOptionsDropDown;\r\n\r\n\r\n/**\r\n * checks whether the id value is valid\r\n *\r\n * @param {ModdleElement} bo\r\n * @param {String} idValue\r\n *\r\n * @return {String} error message\r\n */\r\nfunction isIdValid(bo, idValue) {\r\n  var assigned = bo.$model.ids.assigned(idValue);\r\n\r\n  var idExists = assigned && assigned !== bo;\r\n\r\n  if (!idValue || idExists) {\r\n    return 'Element must have an unique id.';\r\n  }\r\n\r\n  return validateId(idValue);\r\n}\r\n\r\nmodule.exports.isIdValid = isIdValid;\r\n\r\n\r\nfunction validateId(idValue) {\r\n\r\n  idValue = stripPlaceholders(idValue);\r\n\r\n  if (containsSpace(idValue)) {\r\n    return 'Id must not contain spaces.';\r\n  }\r\n\r\n  if (!ID_REGEX.test(idValue)) {\r\n\r\n    if (QNAME_REGEX.test(idValue)) {\r\n      return 'Id must not contain prefix.';\r\n    }\r\n\r\n    return 'Id must be a valid QName.';\r\n  }\r\n}\r\n\r\nmodule.exports.validateId = validateId;\r\n\r\n\r\nfunction containsSpace(value) {\r\n  return SPACE_REGEX.test(value);\r\n}\r\n\r\nmodule.exports.containsSpace = containsSpace;\r\n\r\n\r\nfunction stripPlaceholders(idValue) {\r\n\r\n  // replace expression e.g. ${VERSION_TAG}\r\n  // use only the content between ${}\r\n  // for the REGEX check\r\n  return idValue.replace(PLACEHOLDER_REGEX, '$1');\r\n}\r\n\r\n/**\r\n * generate a semantic id with given prefix\r\n */\r\nfunction nextId(prefix) {\r\n  var ids = new Ids([32,32,1]);\r\n\r\n  return ids.nextPrefixed(prefix);\r\n}\r\n\r\nmodule.exports.nextId = nextId;\r\n\r\n\r\nfunction triggerClickEvent(element) {\r\n  var evt;\r\n  var eventType = 'click';\r\n\r\n  if (document.createEvent) {\r\n    try {\r\n      // Chrome, Safari, Firefox\r\n      evt = new MouseEvent((eventType), { view: window, bubbles: true, cancelable: true });\r\n    } catch (e) {\r\n      // IE 11, PhantomJS (wat!)\r\n      evt = document.createEvent('MouseEvent');\r\n\r\n      evt.initEvent((eventType), true, true);\r\n    }\r\n    return element.dispatchEvent(evt);\r\n  } else {\r\n    // Welcome IE\r\n    evt = document.createEventObject();\r\n\r\n    return element.fireEvent('on' + eventType, evt);\r\n  }\r\n}\r\n\r\nmodule.exports.triggerClickEvent = triggerClickEvent;\r\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This function is like `composeArgs` except that the arguments composition\n * is tailored for `_.partialRight`.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to append to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgsRight(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersIndex = -1,\n      holdersLength = holders.length,\n      rightIndex = -1,\n      rightLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(rangeLength + rightLength),\n      isUncurried = !isCurried;\n\n  while (++argsIndex < rangeLength) {\n    result[argsIndex] = args[argsIndex];\n  }\n  var offset = argsIndex;\n  while (++rightIndex < rightLength) {\n    result[offset + rightIndex] = partials[rightIndex];\n  }\n  while (++holdersIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[offset + holders[holdersIndex]] = args[argsIndex++];\n    }\n  }\n  return result;\n}\n\nmodule.exports = composeArgsRight;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","'use strict';\r\n\r\nvar cmdHelper = require('../../../../helper/CmdHelper'),\r\n    entryFactory = require('../../../../factory/EntryFactory'),\r\n    elementHelper = require('../../../../helper/ElementHelper'),\r\n    extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper');\r\n\r\n\r\nvar resultVariable = require('./ResultVariable');\r\n\r\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\r\n\r\nvar forEach = require('lodash/forEach');\r\n\r\nvar attributeInfo = {\r\n  bpmn: {\r\n    element: 'calledElement',\r\n    binding: 'activiti:calledElementBinding',\r\n    version: 'activiti:calledElementVersion',\r\n    versionTag: 'activiti:calledElementVersionTag',\r\n    tenantId: 'activiti:calledElementTenantId'\r\n  },\r\n\r\n  cmmn: {\r\n    element: 'activiti:caseRef',\r\n    binding: 'activiti:caseBinding',\r\n    version: 'activiti:caseVersion',\r\n    tenantId: 'activiti:caseTenantId'\r\n  },\r\n\r\n  dmn: {\r\n    element: 'activiti:decisionRef',\r\n    binding: 'activiti:decisionRefBinding',\r\n    version: 'activiti:decisionRefVersion',\r\n    versionTag: 'activiti:decisionRefVersionTag',\r\n    tenantId: 'activiti:decisionRefTenantId'\r\n  }\r\n};\r\n\r\nvar bindingOptions = [\r\n  {\r\n    name: 'latest',\r\n    value: 'latest'\r\n  },\r\n  {\r\n    name: 'deployment',\r\n    value: 'deployment'\r\n  },\r\n  {\r\n    name: 'version',\r\n    value: 'version'\r\n  },\r\n  {\r\n    name: 'versionTag',\r\n    value: 'versionTag'\r\n  }\r\n];\r\n\r\nvar mapDecisionResultOptions = [\r\n  {\r\n    name: 'singleEntry (TypedValue)',\r\n    value: 'singleEntry'\r\n  },\r\n  {\r\n    name:'singleResult (Map<String, Object>)',\r\n    value:'singleResult'\r\n  },\r\n  {\r\n    name:'collectEntries (List<Object>)',\r\n    value:'collectEntries'\r\n  },\r\n  {\r\n    name:'resultList (List<Map<String, Object>>)',\r\n    value:'resultList'\r\n  }\r\n];\r\n\r\nvar delegateVariableMappingOptions = [\r\n  {\r\n    name: 'variableMappingClass',\r\n    value: 'variableMappingClass'\r\n  },\r\n  {\r\n    name: 'variableMappingDelegateExpression',\r\n    value: 'variableMappingDelegateExpression'\r\n  }\r\n];\r\n\r\nfunction getCamundaInWithBusinessKey(element) {\r\n  var camundaIn = [],\r\n      bo = getBusinessObject(element);\r\n\r\n  var camundaInParams = extensionElementsHelper.getExtensionElements(bo, 'activiti:In');\r\n  if (camundaInParams) {\r\n    forEach(camundaInParams, function(param) {\r\n      if (param.businessKey !== undefined) {\r\n        camundaIn.push(param);\r\n      }\r\n    });\r\n  }\r\n  return camundaIn;\r\n}\r\n\r\nfunction setBusinessKey(element, text, bpmnFactory) {\r\n  var commands = [];\r\n\r\n  var camundaInWithBusinessKey = getCamundaInWithBusinessKey(element);\r\n\r\n  if (camundaInWithBusinessKey.length) {\r\n    commands.push(cmdHelper.updateBusinessObject(element, camundaInWithBusinessKey[0], {\r\n      businessKey: text\r\n    }));\r\n  } else {\r\n    var bo = getBusinessObject(element),\r\n        extensionElements = bo.extensionElements;\r\n\r\n    if (!extensionElements) {\r\n      extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\r\n      commands.push(cmdHelper.updateProperties(element, { extensionElements: extensionElements }));\r\n    }\r\n\r\n    var camundaIn = elementHelper.createElement(\r\n      'activiti:In',\r\n      { 'businessKey': text },\r\n      extensionElements,\r\n      bpmnFactory\r\n    );\r\n\r\n    commands.push(cmdHelper.addAndRemoveElementsFromList(\r\n      element,\r\n      extensionElements,\r\n      'values',\r\n      'extensionElements',\r\n      [ camundaIn ],[]\r\n    ));\r\n  }\r\n\r\n  return commands;\r\n}\r\n\r\nfunction deleteBusinessKey(element) {\r\n  var camundaInExtensions = getCamundaInWithBusinessKey(element);\r\n  var commands = [];\r\n  forEach(camundaInExtensions, function(elem) {\r\n    commands.push(extensionElementsHelper.removeEntry(getBusinessObject(element), element, elem));\r\n  });\r\n  return commands;\r\n}\r\n\r\nfunction isSupportedCallableType(type) {\r\n  return [ 'bpmn', 'cmmn', 'dmn' ].indexOf(type) !== -1;\r\n}\r\n\r\nmodule.exports = function(element, bpmnFactory, options, translate) {\r\n\r\n  var getCallableType = options.getCallableType;\r\n\r\n  var entries = [];\r\n\r\n  function getAttribute(element, prop) {\r\n    var type = getCallableType(element);\r\n    return (attributeInfo[type] || {})[prop];\r\n  }\r\n\r\n  function getCallActivityBindingValue(element) {\r\n    var type = getCallableType(element);\r\n    var bo = getBusinessObject(element);\r\n    var attr = (attributeInfo[type] || {}).binding;\r\n    return bo.get(attr);\r\n  }\r\n\r\n  function getDelegateVariableMappingType(element) {\r\n    var bo = getBusinessObject(element);\r\n\r\n    var boVariableMappingClass = bo.get('activiti:variableMappingClass'),\r\n        boVariableMappingDelegateExpression = bo.get('activiti:variableMappingDelegateExpression');\r\n\r\n    var delegateVariableMappingType = '';\r\n    if (typeof boVariableMappingClass !== 'undefined') {\r\n      delegateVariableMappingType = 'variableMappingClass';\r\n    } else\r\n\r\n    if (typeof boVariableMappingDelegateExpression !== 'undefined') {\r\n      delegateVariableMappingType = 'variableMappingDelegateExpression';\r\n    }\r\n\r\n    return delegateVariableMappingType;\r\n  }\r\n\r\n\r\n  entries.push(entryFactory.textField({\r\n    id: 'callable-element-ref',\r\n    dataValueLabel: 'callableElementLabel',\r\n    modelProperty: 'callableElementRef',\r\n\r\n    get: function(element, node) {\r\n      var callableElementRef;\r\n\r\n      var attr = getAttribute(element, 'element');\r\n      if (attr) {\r\n        var bo = getBusinessObject(element);\r\n        callableElementRef = bo.get(attr);\r\n      }\r\n\r\n      var label = '';\r\n      var type = getCallableType(element);\r\n      if (type === 'bpmn') {\r\n        label = translate('Called Element');\r\n      }\r\n      else if (type === 'cmmn') {\r\n        label = translate('Case Ref');\r\n      }\r\n      else if (type === 'dmn') {\r\n        label = translate('Decision Ref');\r\n      }\r\n\r\n      return {\r\n        callableElementRef: callableElementRef,\r\n        callableElementLabel: label\r\n      };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var newCallableElementRef = values.callableElementRef;\r\n      var attr = getAttribute(element, 'element');\r\n\r\n      var props = {};\r\n      props[attr] = newCallableElementRef || '';\r\n\r\n      return cmdHelper.updateProperties(element, props);\r\n    },\r\n\r\n    validate: function(element, values, node) {\r\n      var elementRef = values.callableElementRef;\r\n      var type = getCallableType(element);\r\n      return isSupportedCallableType(type) && !elementRef ? { callableElementRef: 'Must provide a value.' } : {};\r\n    },\r\n\r\n    hidden: function(element, node) {\r\n      return !isSupportedCallableType(getCallableType(element));\r\n    }\r\n\r\n  }));\r\n\r\n  entries.push(entryFactory.selectBox({\r\n    id: 'callable-binding',\r\n    label: translate('Binding'),\r\n    selectOptions: function(element) {\r\n      var type = getCallableType(element);\r\n\r\n      if (type === 'cmmn') {\r\n        return bindingOptions.filter(function(bindingOption) {\r\n          return bindingOption.value !== 'versionTag';\r\n        });\r\n      } else {\r\n        return bindingOptions;\r\n      }\r\n    },\r\n    modelProperty: 'callableBinding',\r\n\r\n    get: function(element, node) {\r\n      var callableBinding;\r\n\r\n      var attr = getAttribute(element, 'binding');\r\n      if (attr) {\r\n        var bo = getBusinessObject(element);\r\n        callableBinding = bo.get(attr) || 'latest';\r\n      }\r\n\r\n      return {\r\n        callableBinding: callableBinding\r\n      };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var binding = values.callableBinding;\r\n      var attr = getAttribute(element, 'binding'),\r\n          attrVer = getAttribute(element, 'version'),\r\n          attrVerTag = getAttribute(element, 'versionTag');\r\n\r\n      var props = {};\r\n      props[attr] = binding;\r\n\r\n      // set version and versionTag values always to undefined to delete the existing value\r\n      props[attrVer] = undefined;\r\n      props[attrVerTag] = undefined;\r\n\r\n      return cmdHelper.updateProperties(element, props);\r\n    },\r\n\r\n    hidden: function(element, node) {\r\n      return !isSupportedCallableType(getCallableType(element));\r\n    }\r\n\r\n  }));\r\n\r\n  entries.push(entryFactory.textField({\r\n    id: 'callable-version',\r\n    label: translate('Version'),\r\n    modelProperty: 'callableVersion',\r\n\r\n    get: function(element, node) {\r\n      var callableVersion;\r\n\r\n      var attr = getAttribute(element, 'version');\r\n      if (attr) {\r\n        var bo = getBusinessObject(element);\r\n        callableVersion = bo.get(attr);\r\n      }\r\n\r\n      return {\r\n        callableVersion: callableVersion\r\n      };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var version = values.callableVersion;\r\n      var attr = getAttribute(element, 'version');\r\n\r\n      var props = {};\r\n      props[attr] = version || undefined;\r\n\r\n      return cmdHelper.updateProperties(element, props);\r\n    },\r\n\r\n    validate: function(element, values, node) {\r\n      var version = values.callableVersion;\r\n\r\n      var type = getCallableType(element);\r\n      return (\r\n        isSupportedCallableType(type) &&\r\n        getCallActivityBindingValue(element) === 'version' && (\r\n          !version ? { callableVersion: translate('Must provide a value.') } : {}\r\n        )\r\n      );\r\n    },\r\n\r\n    hidden: function(element, node) {\r\n      var type = getCallableType(element);\r\n      return !isSupportedCallableType(type) || getCallActivityBindingValue(element) !== 'version';\r\n    }\r\n\r\n  }));\r\n\r\n  entries.push(entryFactory.textField({\r\n    id: 'callable-version-tag',\r\n    label: translate('Version Tag'),\r\n    modelProperty: 'versionTag',\r\n\r\n    get: function(element, node) {\r\n      var versionTag;\r\n\r\n      var attr = getAttribute(element, 'versionTag');\r\n\r\n      if (attr) {\r\n        var bo = getBusinessObject(element);\r\n\r\n        versionTag = bo.get(attr);\r\n      }\r\n\r\n      return {\r\n        versionTag: versionTag\r\n      };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var versionTag = values.versionTag;\r\n\r\n      var attr = getAttribute(element, 'versionTag');\r\n\r\n      var props = {};\r\n\r\n      props[attr] = versionTag || undefined;\r\n\r\n      return cmdHelper.updateProperties(element, props);\r\n    },\r\n\r\n    validate: function(element, values, node) {\r\n      var versionTag = values.versionTag;\r\n\r\n      var type = getCallableType(element);\r\n\r\n      return (\r\n        isSupportedCallableType(type) &&\r\n        getCallActivityBindingValue(element) === 'versionTag' && (\r\n          !versionTag ? { versionTag: translate('Must provide a value.') } : {}\r\n        )\r\n      );\r\n    },\r\n\r\n    hidden: function(element, node) {\r\n      var type = getCallableType(element);\r\n\r\n      return !isSupportedCallableType(type) || getCallActivityBindingValue(element) !== 'versionTag';\r\n    }\r\n\r\n  }));\r\n\r\n  entries.push(entryFactory.textField({\r\n    id: 'tenant-id',\r\n    label: translate('Tenant Id'),\r\n    modelProperty: 'tenantId',\r\n\r\n    get: function(element, node) {\r\n      var tenantId;\r\n\r\n      var attr = getAttribute(element, 'tenantId');\r\n      if (attr) {\r\n        var bo = getBusinessObject(element);\r\n        tenantId = bo.get(attr);\r\n      }\r\n\r\n      return {\r\n        tenantId: tenantId\r\n      };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var tenantId = values.tenantId;\r\n      var attr = getAttribute(element, 'tenantId');\r\n\r\n      var props = {};\r\n      props[attr] = tenantId || undefined;\r\n\r\n      return cmdHelper.updateProperties(element, props);\r\n    },\r\n\r\n    hidden: function(element, node) {\r\n      var type = getCallableType(element);\r\n      return !isSupportedCallableType(type);\r\n    }\r\n\r\n  }));\r\n\r\n  if (is(getBusinessObject(element), 'bpmn:CallActivity')) {\r\n    entries.push(entryFactory.checkbox({\r\n      id: 'callable-business-key',\r\n      label: translate('Business Key'),\r\n      modelProperty: 'callableBusinessKey',\r\n\r\n      get: function(element, node) {\r\n        var camundaIn = getCamundaInWithBusinessKey(element);\r\n\r\n        return {\r\n          callableBusinessKey: !!(camundaIn && camundaIn.length > 0)\r\n        };\r\n      },\r\n\r\n      set: function(element, values, node) {\r\n        if (values.callableBusinessKey) {\r\n          return setBusinessKey(element, '#{execution.processBusinessKey}', bpmnFactory);\r\n        } else {\r\n          return deleteBusinessKey(element);\r\n        }\r\n      }\r\n    }));\r\n  }\r\n\r\n  entries.push(entryFactory.textField({\r\n    id: 'business-key-expression',\r\n    label: translate('Business Key Expression'),\r\n    modelProperty: 'businessKey',\r\n\r\n    get: function(element, node) {\r\n      var camundaInWithBusinessKey = getCamundaInWithBusinessKey(element);\r\n\r\n      return {\r\n        businessKey: (\r\n          camundaInWithBusinessKey.length ?\r\n            camundaInWithBusinessKey[0].get('activiti:businessKey') :\r\n            undefined\r\n        )\r\n      };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var businessKey = values.businessKey;\r\n\r\n      return setBusinessKey(element, businessKey, bpmnFactory);\r\n    },\r\n\r\n    validate: function(element, values, node) {\r\n      var businessKey = values.businessKey;\r\n\r\n      return businessKey === '' ? { businessKey: 'Must provide a value.' } : {};\r\n    },\r\n\r\n    hidden: function(element, node) {\r\n      return !getCamundaInWithBusinessKey(element).length;\r\n    }\r\n\r\n  }));\r\n\r\n  entries = entries.concat(resultVariable(element, bpmnFactory, {\r\n    id: 'dmn-resultVariable',\r\n    getBusinessObject: getBusinessObject,\r\n    getImplementationType: getCallableType,\r\n    hideResultVariable: function(element, node) {\r\n      return getCallableType(element) !== 'dmn';\r\n    }\r\n  }, translate));\r\n\r\n  entries.push(entryFactory.selectBox({\r\n    id: 'dmn-map-decision-result',\r\n    label: translate('Map Decision Result'),\r\n    selectOptions: mapDecisionResultOptions,\r\n    modelProperty: 'mapDecisionResult',\r\n\r\n    get: function(element, node) {\r\n      var bo = getBusinessObject(element);\r\n      return {\r\n        mapDecisionResult: bo.get('activiti:mapDecisionResult') || 'resultList'\r\n      };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      return cmdHelper.updateProperties(element, {\r\n        'activiti:mapDecisionResult': values.mapDecisionResult || 'resultList'\r\n      });\r\n    },\r\n\r\n    hidden: function(element, node) {\r\n      var bo = getBusinessObject(element);\r\n      var resultVariable = bo.get('activiti:resultVariable');\r\n      return !(getCallableType(element) === 'dmn' && typeof resultVariable !== 'undefined');\r\n    }\r\n\r\n  }));\r\n\r\n\r\n  entries.push(entryFactory.selectBox({\r\n    id: 'delegateVariableMappingType',\r\n    label: translate('Delegate Variable Mapping'),\r\n    selectOptions: delegateVariableMappingOptions,\r\n    emptyParameter: true,\r\n    modelProperty: 'delegateVariableMappingType',\r\n\r\n    get: function(element, node) {\r\n      return {\r\n        delegateVariableMappingType : getDelegateVariableMappingType(element)\r\n      };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var delegateVariableMappingType = values.delegateVariableMappingType;\r\n\r\n      var props = {\r\n        'activiti:variableMappingClass' : undefined,\r\n        'activiti:variableMappingDelegateExpression' : undefined\r\n      };\r\n\r\n      if (delegateVariableMappingType === 'variableMappingClass') {\r\n        props['activiti:variableMappingClass'] = '';\r\n      }\r\n      else if (delegateVariableMappingType === 'variableMappingDelegateExpression') {\r\n        props['activiti:variableMappingDelegateExpression'] = '';\r\n      }\r\n\r\n      return cmdHelper.updateProperties(element, props);\r\n    },\r\n\r\n    hidden: function(element, node) {\r\n      return (getCallableType(element) !== 'bpmn');\r\n    }\r\n\r\n  }));\r\n\r\n  entries.push(entryFactory.textField({\r\n    id: 'delegateVariableMapping',\r\n    dataValueLabel: 'delegateVariableMappingLabel',\r\n    modelProperty: 'delegateVariableMapping',\r\n\r\n    get: function(element, node) {\r\n      var bo = getBusinessObject(element);\r\n\r\n      var label = '';\r\n      var delegateVariableMapping = undefined;\r\n      var type = getDelegateVariableMappingType(element);\r\n\r\n      if (type === 'variableMappingClass') {\r\n        label = translate('Class');\r\n        delegateVariableMapping = bo.get('activiti:variableMappingClass');\r\n      }\r\n      else if (type === 'variableMappingDelegateExpression') {\r\n        label = translate('Delegate Expression');\r\n        delegateVariableMapping = bo.get('activiti:variableMappingDelegateExpression');\r\n      }\r\n\r\n      return {\r\n        delegateVariableMapping: delegateVariableMapping,\r\n        delegateVariableMappingLabel: label\r\n      };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var delegateVariableMapping = values.delegateVariableMapping;\r\n\r\n      var attr = 'activiti:' + getDelegateVariableMappingType(element);\r\n\r\n      var props = {};\r\n      props[attr] = delegateVariableMapping || undefined;\r\n\r\n      return cmdHelper.updateProperties(element, props);\r\n    },\r\n\r\n    validate: function(element, values, node) {\r\n      var delegateVariableMapping = values.delegateVariableMapping;\r\n      return (\r\n        getCallableType(element) === 'bpmn' && (\r\n          !delegateVariableMapping ? { delegateVariableMapping: translate('Must provide a value.') } : {}\r\n        )\r\n      );\r\n    },\r\n\r\n    hidden: function(element, node) {\r\n      return !(getCallableType(element) === 'bpmn' && getDelegateVariableMappingType(element) !== '');\r\n    }\r\n\r\n  }));\r\n\r\n  return entries;\r\n};\r\n","module.exports = {\r\n  __depends__: [\r\n    require('./element-templates'),\r\n    require('diagram-js/lib/i18n/translate').default\r\n  ],\r\n  __init__: [ 'propertiesProvider' ],\r\n  propertiesProvider: [ 'type', require('./ActivitiPropertiesProvider') ]\r\n};\r\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","'use strict';\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory'),\r\n    cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\nmodule.exports = function(element, bpmnFactory, options, translate) {\r\n\r\n  var getImplementationType = options.getImplementationType,\r\n      getBusinessObject = options.getBusinessObject;\r\n\r\n  function isExternal(element) {\r\n    return getImplementationType(element) === 'external';\r\n  }\r\n\r\n  var topicEntry = entryFactory.textField({\r\n    id: 'externalTopic',\r\n    label: translate('Topic'),\r\n    modelProperty: 'externalTopic',\r\n\r\n    get: function(element, node) {\r\n      var bo = getBusinessObject(element);\r\n      return { externalTopic: bo.get('activiti:topic') };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var bo = getBusinessObject(element);\r\n      return cmdHelper.updateBusinessObject(element, bo, {\r\n        'activiti:topic': values.externalTopic\r\n      });\r\n    },\r\n\r\n    validate: function(element, values, node) {\r\n      return isExternal(element) && !values.externalTopic ? { externalTopic: 'Must provide a value' } : {};\r\n    },\r\n\r\n    hidden: function(element, node) {\r\n      return !isExternal(element);\r\n    }\r\n\r\n  });\r\n\r\n  return [ topicEntry ];\r\n\r\n};\r\n","'use strict';\r\n\r\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\r\n    is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    entryFactory = require('../../../factory/EntryFactory'),\r\n    cmdHelper = require('../../../helper/CmdHelper'),\r\n    script = require('./implementation/Script')('scriptFormat', 'script', false);\r\n\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n  var bo;\r\n\r\n  if (is(element, 'bpmn:ScriptTask')) {\r\n    bo = getBusinessObject(element);\r\n  }\r\n\r\n  if (!bo) {\r\n    return;\r\n  }\r\n\r\n  group.entries.push({\r\n    id: 'script-implementation',\r\n    label: translate('Script'),\r\n    html: script.template,\r\n\r\n    get: function(element) {\r\n      return script.get(element, bo);\r\n    },\r\n\r\n    set: function(element, values, containerElement) {\r\n      var properties = script.set(element, values, containerElement);\r\n\r\n      return cmdHelper.updateProperties(element, properties);\r\n    },\r\n\r\n    validate: function(element, values) {\r\n      return script.validate(element, values);\r\n    },\r\n\r\n    script : script,\r\n\r\n    cssClasses: ['bpp-textfield']\r\n\r\n  });\r\n\r\n  group.entries.push(entryFactory.textField({\r\n    id : 'scriptResultVariable',\r\n    label : translate('Result Variable'),\r\n    modelProperty : 'scriptResultVariable',\r\n\r\n    get: function(element, propertyName) {\r\n      var boResultVariable = bo.get('activiti:resultVariable');\r\n\r\n      return { scriptResultVariable : boResultVariable };\r\n    },\r\n\r\n    set: function(element, values, containerElement) {\r\n      return cmdHelper.updateProperties(element, {\r\n        'activiti:resultVariable': values.scriptResultVariable.length\r\n          ? values.scriptResultVariable\r\n          : undefined\r\n      });\r\n    }\r\n\r\n  }));\r\n\r\n};\r\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var LazyWrapper = require('./_LazyWrapper'),\n    getData = require('./_getData'),\n    getFuncName = require('./_getFuncName'),\n    lodash = require('./wrapperLodash');\n\n/**\n * Checks if `func` has a lazy counterpart.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n *  else `false`.\n */\nfunction isLaziable(func) {\n  var funcName = getFuncName(func),\n      other = lodash[funcName];\n\n  if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n    return false;\n  }\n  if (func === other) {\n    return true;\n  }\n  var data = getData(other);\n  return !!data && func === data[0];\n}\n\nmodule.exports = isLaziable;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\n\r\nvar ImplementationTypeHelper = require('../../../helper/ImplementationTypeHelper');\r\n\r\nvar externalTaskPriority = require('./implementation/ExternalTaskPriority');\r\n\r\nfunction getServiceTaskLikeBusinessObject(element) {\r\n  var bo = ImplementationTypeHelper.getServiceTaskLikeBusinessObject(element);\r\n\r\n  // if the element is not a serviceTaskLike element, fetch the normal business object\r\n  // This avoids the loss of the process / participant business object\r\n  if (!bo) {\r\n    bo = getBusinessObject(element);\r\n  }\r\n\r\n  return bo;\r\n}\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n\r\n  var bo = getServiceTaskLikeBusinessObject(element);\r\n\r\n  if (!bo) {\r\n    return;\r\n  }\r\n\r\n  if (is(bo, 'activiti:TaskPriorized') || (is(bo, 'bpmn:Participant')) && bo.get('processRef')) {\r\n    group.entries = group.entries.concat(externalTaskPriority(element, bpmnFactory, {\r\n      getBusinessObject: function(element) {\r\n        if (!is(bo, 'bpmn:Participant')) {\r\n          return bo;\r\n        }\r\n        return bo.get('processRef');\r\n      }\r\n    }, translate));\r\n  }\r\n};","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","'use strict';\r\n\r\nvar assign = require('lodash/assign');\r\n\r\nvar fieldInjection = require('./implementation/FieldInjection');\r\n\r\nmodule.exports = function(group, element, bpmnFactory, options, translate) {\r\n\r\n  options = assign({\r\n    idPrefix: 'listener-',\r\n    insideListener: true\r\n  }, options);\r\n\r\n  var fieldInjectionEntry = fieldInjection(element, bpmnFactory, translate, options);\r\n\r\n  if (fieldInjectionEntry && fieldInjectionEntry.length > 0) {\r\n    group.entries = group.entries.concat(fieldInjectionEntry);\r\n  }\r\n\r\n};\r\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","'use strict';\r\n\r\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\n\r\nvar domQuery = require('min-dom').query,\r\n    domClosest = require('min-dom').closest,\r\n    domify = require('min-dom').domify,\r\n    forEach = require('lodash/forEach');\r\n\r\nvar elementHelper = require('../../../../helper/ElementHelper'),\r\n    cmdHelper = require('../../../../helper/CmdHelper'),\r\n    utils = require('../../../../Utils');\r\n\r\nfunction getSelectBox(node, id) {\r\n  var currentTab = domClosest(node, 'div.bpp-properties-tab');\r\n  var query = 'select[name=selectedExtensionElement]' + (id ? '[id=cam-extensionElements-' + id + ']' : '');\r\n  return domQuery(query, currentTab);\r\n}\r\n\r\nfunction getSelected(node, id) {\r\n  var selectBox = getSelectBox(node, id);\r\n  return {\r\n    value: (selectBox || {}).value,\r\n    idx: (selectBox || {}).selectedIndex\r\n  };\r\n}\r\n\r\nfunction generateElementId(prefix) {\r\n  prefix = prefix + '_';\r\n  return utils.nextId(prefix);\r\n}\r\n\r\nvar CREATE_EXTENSION_ELEMENT_ACTION = 'create-extension-element',\r\n    REMOVE_EXTENSION_ELEMENT_ACTION = 'remove-extension-element';\r\n\r\nmodule.exports = function(element, bpmnFactory, options, translate) {\r\n\r\n  var id = options.id,\r\n      prefix = options.prefix || 'elem',\r\n      label = options.label || id,\r\n      idGeneration = (options.idGeneration === false) ? options.idGeneration : true,\r\n      businessObject = options.businessObject || getBusinessObject(element);\r\n\r\n  var modelProperty = options.modelProperty || 'id';\r\n\r\n  var getElements = options.getExtensionElements;\r\n\r\n  var createElement = options.createExtensionElement,\r\n      canCreate = typeof createElement === 'function';\r\n\r\n  var removeElement = options.removeExtensionElement,\r\n      canRemove = typeof removeElement === 'function';\r\n\r\n  var onSelectionChange = options.onSelectionChange;\r\n\r\n  var hideElements = options.hideExtensionElements,\r\n      canBeHidden = typeof hideElements === 'function';\r\n\r\n  var setOptionLabelValue = options.setOptionLabelValue;\r\n\r\n  var defaultSize = options.size || 5,\r\n      resizable = options.resizable;\r\n\r\n  var reference = options.reference || undefined;\r\n\r\n  var selectionChanged = function(element, node, event, scope) {\r\n    if (typeof onSelectionChange === 'function') {\r\n      return onSelectionChange(element, node, event, scope);\r\n    }\r\n  };\r\n\r\n  var createOption = function(value) {\r\n    return '<option value=\"' + value + '\" data-value data-name=\"extensionElementValue\">' + value + '</option>';\r\n  };\r\n\r\n  var initSelectionSize = function(selectBox, optionsLength) {\r\n    if (resizable) {\r\n      selectBox.size = optionsLength > defaultSize ? optionsLength : defaultSize;\r\n    }\r\n  };\r\n\r\n  return {\r\n    id: id,\r\n    html: '<div class=\"bpp-row bpp-element-list\" ' +\r\n            (canBeHidden ? 'data-show=\"hideElements\"' : '') + '>' +\r\n            '<label for=\"cam-extensionElements-' + id + '\">' + label + '</label>' +\r\n            '<div class=\"bpp-field-wrapper\">' +\r\n              '<select id=\"cam-extensionElements-' + id + '\"' +\r\n                      'name=\"selectedExtensionElement\" ' +\r\n                      'size=\"' + defaultSize + '\" ' +\r\n                      'data-list-entry-container ' +\r\n                      'data-on-change=\"selectElement\">' +\r\n              '</select>' +\r\n              (canCreate ? '<button class=\"add\" ' +\r\n                                   'id=\"cam-extensionElements-create-' + id + '\" ' +\r\n                                   'data-action=\"createElement\">' +\r\n                             '<span>+</span>' +\r\n                           '</button>' : '') +\r\n              (canRemove ? '<button class=\"clear\" ' +\r\n                                   'id=\"cam-extensionElements-remove-' + id + '\" ' +\r\n                                   'data-action=\"removeElement\" ' +\r\n                                   'data-disable=\"disableRemove\">' +\r\n                             '<span>-</span>' +\r\n                           '</button>' : '') +\r\n            '</div>' +\r\n          '</div>',\r\n\r\n    get: function(element, node) {\r\n      var elements = getElements(element, node);\r\n\r\n      var result = [];\r\n      forEach(elements, function(elem) {\r\n        result.push({\r\n          extensionElementValue: elem.get(modelProperty)\r\n        });\r\n      });\r\n\r\n      var selectBox = getSelectBox(node.parentNode, id);\r\n      initSelectionSize(selectBox, result.length);\r\n\r\n      return result;\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var action = this.__action;\r\n      delete this.__action;\r\n\r\n      businessObject = businessObject || getBusinessObject(element);\r\n\r\n      var bo =\r\n        (reference && businessObject.get(reference))\r\n          ? businessObject.get(reference)\r\n          : businessObject;\r\n\r\n      var extensionElements = bo.get('extensionElements');\r\n\r\n      if (action.id === CREATE_EXTENSION_ELEMENT_ACTION) {\r\n        var commands = [];\r\n        if (!extensionElements) {\r\n          extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\r\n          commands.push(cmdHelper.updateBusinessObject(element, bo, { extensionElements: extensionElements }));\r\n        }\r\n        commands.push(createElement(element, extensionElements, action.value, node));\r\n        return commands;\r\n\r\n      }\r\n      else if (action.id === REMOVE_EXTENSION_ELEMENT_ACTION) {\r\n        return removeElement(element, extensionElements, action.value, action.idx, node);\r\n      }\r\n\r\n    },\r\n\r\n    createListEntryTemplate: function(value, index, selectBox) {\r\n      initSelectionSize(selectBox, selectBox.options.length + 1);\r\n      return createOption(value.extensionElementValue);\r\n    },\r\n\r\n    deselect: function(element, node) {\r\n      var selectBox = getSelectBox(node, id);\r\n      selectBox.selectedIndex = -1;\r\n    },\r\n\r\n    getSelected: function(element, node) {\r\n      return getSelected(node, id);\r\n    },\r\n\r\n    setControlValue: function(element, node, option, property, value, idx) {\r\n      node.value = value;\r\n\r\n      if (!setOptionLabelValue) {\r\n        node.text = value;\r\n      } else {\r\n        setOptionLabelValue(element, node, option, property, value, idx);\r\n      }\r\n    },\r\n\r\n    createElement: function(element, node) {\r\n      // create option template\r\n      var generatedId;\r\n      if (idGeneration) {\r\n        generatedId = generateElementId(prefix);\r\n      }\r\n\r\n      var selectBox = getSelectBox(node, id);\r\n      var template = domify(createOption(generatedId));\r\n\r\n      // add new empty option as last child element\r\n      selectBox.appendChild(template);\r\n\r\n      // select last child element\r\n      selectBox.lastChild.selected = 'selected';\r\n      selectionChanged(element, node);\r\n\r\n      // update select box size\r\n      initSelectionSize(selectBox, selectBox.options.length);\r\n\r\n      this.__action = {\r\n        id: CREATE_EXTENSION_ELEMENT_ACTION,\r\n        value: generatedId\r\n      };\r\n\r\n      return true;\r\n    },\r\n\r\n    removeElement: function(element, node) {\r\n      var selection = getSelected(node, id);\r\n\r\n      var selectBox = getSelectBox(node, id);\r\n      selectBox.removeChild(selectBox.options[selection.idx]);\r\n\r\n      // update select box size\r\n      initSelectionSize(selectBox, selectBox.options.length);\r\n\r\n      this.__action = {\r\n        id: REMOVE_EXTENSION_ELEMENT_ACTION,\r\n        value: selection.value,\r\n        idx: selection.idx\r\n      };\r\n\r\n      return true;\r\n    },\r\n\r\n    hideElements: function(element, entryNode, node, scopeNode) {\r\n      return !hideElements(element, entryNode, node, scopeNode);\r\n    },\r\n\r\n    disableRemove: function(element, entryNode, node, scopeNode) {\r\n      return (getSelected(entryNode, id) || {}).idx < 0;\r\n    },\r\n\r\n    selectElement: selectionChanged\r\n  };\r\n\r\n};\r\n","'use strict';\r\n\r\nvar entryFactory = require('../../../factory/EntryFactory'),\r\n    is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\n\r\n\r\nmodule.exports = function(group, element, translate) {\r\n\r\n  var bo = getBusinessObject(element);\r\n\r\n  if (!bo) {\r\n    return;\r\n  }\r\n\r\n  if (is(element, 'activiti:Initiator') && !is(element.parent, 'bpmn:SubProcess')) {\r\n    group.entries.push(entryFactory.textField({\r\n      id: 'initiator',\r\n      label: translate('Initiator'),\r\n      modelProperty: 'initiator'\r\n    }));\r\n  }\r\n};\r\n","var baseValues = require('./_baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nmodule.exports = values;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","'use strict';\r\n\r\nvar inherits = require('inherits');\r\n\r\nvar PropertiesActivator = require('../../PropertiesActivator');\r\n\r\nvar asyncCapableHelper = require('../../helper/AsyncCapableHelper'),\r\n    ImplementationTypeHelper = require('../../helper/ImplementationTypeHelper');\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\r\n\r\n// bpmn properties\r\nvar processProps = require('../bpmn/parts/ProcessProps'),\r\n    eventProps = require('../bpmn/parts/EventProps'),\r\n    linkProps = require('../bpmn/parts/LinkProps'),\r\n    documentationProps = require('../bpmn/parts/DocumentationProps'),\r\n    idProps = require('../bpmn/parts/IdProps'),\r\n    nameProps = require('../bpmn/parts/NameProps'),\r\n    executableProps = require('../bpmn/parts/ExecutableProps');\r\n\r\n// activiti properties\r\nvar serviceTaskDelegateProps = require('./parts/ServiceTaskDelegateProps'),\r\n    userTaskProps = require('./parts/UserTaskProps'),\r\n    asynchronousContinuationProps = require('./parts/AsynchronousContinuationProps'),\r\n    callActivityProps = require('./parts/CallActivityProps'),\r\n    multiInstanceProps = require('./parts/MultiInstanceLoopProps'),\r\n    conditionalProps = require('./parts/ConditionalProps'),\r\n    scriptProps = require('./parts/ScriptTaskProps'),\r\n    formProps = require('./parts/FormProps'),\r\n    startEventInitiator = require('./parts/StartEventInitiator'),\r\n    variableMapping = require('./parts/VariableMappingProps'),\r\n    signalEventDefinitionProps = require('./parts/SignalEventDefinitionScopeProps'),\r\n    messageEventDefinitionProps = require('./parts/MessageEventDefinitionProps'),\r\n    versionTag = require('./parts/VersionTagProps');\r\n\r\nvar listenerProps = require('./parts/ListenerProps'),\r\n    listenerDetails = require('./parts/ListenerDetailProps'),\r\n    listenerFields = require('./parts/ListenerFieldInjectionProps');\r\n\r\nvar elementTemplateChooserProps = require('./element-templates/parts/ChooserProps'),\r\n    elementTemplateCustomProps = require('./element-templates/parts/CustomProps');\r\n\r\n// Input/Output\r\nvar inputOutput = require('./parts/InputOutputProps'),\r\n    inputOutputParameter = require('./parts/InputOutputParameterProps');\r\n\r\n// Connector\r\nvar connectorDetails = require('./parts/ConnectorDetailProps'),\r\n    connectorInputOutput = require('./parts/ConnectorInputOutputProps'),\r\n    connectorInputOutputParameter = require('./parts/ConnectorInputOutputParameterProps');\r\n\r\n// properties\r\nvar properties = require('./parts/PropertiesProps');\r\n\r\n// job configuration\r\nvar jobConfiguration = require('./parts/JobConfigurationProps');\r\n\r\n// history time to live\r\nvar historyTimeToLive = require('./parts/HistoryTimeToLiveProps');\r\n\r\n// candidate starter groups/users\r\nvar candidateStarter = require('./parts/CandidateStarterProps');\r\n\r\n// tasklist\r\nvar tasklist = require('./parts/TasklistProps');\r\n\r\n// external task configuration\r\nvar externalTaskConfiguration = require('./parts/ExternalTaskConfigurationProps');\r\n\r\n// field injection\r\nvar fieldInjections = require('./parts/FieldInjectionProps');\r\n\r\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\r\n    eventDefinitionHelper = require('../../helper/EventDefinitionHelper'),\r\n    implementationTypeHelper = require('../../helper/ImplementationTypeHelper');\r\n\r\n// helpers ////////////////////////////////////////\r\n\r\nvar isExternalTaskPriorityEnabled = function(element) {\r\n  var businessObject = getBusinessObject(element);\r\n\r\n  // show only if element is a process, a participant ...\r\n  if (is(element, 'bpmn:Process') || is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\r\n    return true;\r\n  }\r\n\r\n  var externalBo = ImplementationTypeHelper.getServiceTaskLikeBusinessObject(element),\r\n      isExternalTask = ImplementationTypeHelper.getImplementationType(externalBo) === 'external';\r\n\r\n  // ... or an external task with selected external implementation type\r\n  return !!ImplementationTypeHelper.isExternalCapable(externalBo) && isExternalTask;\r\n};\r\n\r\nvar isJobConfigEnabled = function(element) {\r\n  var businessObject = getBusinessObject(element);\r\n\r\n  if (is(element, 'bpmn:Process') || is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\r\n    return true;\r\n  }\r\n\r\n  // async behavior\r\n  var bo = getBusinessObject(element);\r\n  if (asyncCapableHelper.isActivitiAsync(bo)) {\r\n    return true;\r\n  }\r\n\r\n  // timer definition\r\n  if (is(element, 'bpmn:Event')) {\r\n    return !!eventDefinitionHelper.getTimerEventDefinition(element);\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\nvar getInputOutputParameterLabel = function(param, translate) {\r\n\r\n  if (is(param, 'activiti:InputParameter')) {\r\n    return translate('Input Parameter');\r\n  }\r\n\r\n  if (is(param, 'activiti:OutputParameter')) {\r\n    return translate('Output Parameter');\r\n  }\r\n\r\n  return '';\r\n};\r\n\r\nvar getListenerLabel = function(param, translate) {\r\n\r\n  if (is(param, 'activiti:ExecutionListener')) {\r\n    return translate('Execution Listener');\r\n  }\r\n\r\n  if (is(param, 'activiti:TaskListener')) {\r\n    return translate('Task Listener');\r\n  }\r\n\r\n  return '';\r\n};\r\n\r\nvar PROCESS_KEY_HINT = 'This maps to the process definition key.';\r\nvar TASK_KEY_HINT = 'This maps to the task definition key.';\r\n\r\nfunction createGeneralTabGroups(element, bpmnFactory, elementRegistry, elementTemplates, translate) {\r\n\r\n  // refer to target element for external labels\r\n  element = element.labelTarget || element;\r\n\r\n  var generalGroup = {\r\n    id: 'general',\r\n    label: translate('General'),\r\n    entries: []\r\n  };\r\n\r\n  var idOptions;\r\n  var processOptions;\r\n\r\n  if (is(element, 'bpmn:Process')) {\r\n    idOptions = { description: PROCESS_KEY_HINT };\r\n  }\r\n\r\n  if (is(element, 'bpmn:UserTask')) {\r\n    idOptions = { description: TASK_KEY_HINT };\r\n  }\r\n\r\n  if (is(element, 'bpmn:Participant')) {\r\n    processOptions = { processIdDescription: PROCESS_KEY_HINT };\r\n  }\r\n\r\n  idProps(generalGroup, element, translate, idOptions);\r\n  nameProps(generalGroup, element, translate);\r\n  processProps(generalGroup, element, translate, processOptions);\r\n  versionTag(generalGroup, element, translate);\r\n  executableProps(generalGroup, element, translate);\r\n  elementTemplateChooserProps(generalGroup, element, elementTemplates, translate);\r\n\r\n  var customFieldsGroups = elementTemplateCustomProps(element, elementTemplates, bpmnFactory, translate);\r\n\r\n  var detailsGroup = {\r\n    id: 'details',\r\n    label: translate('Details'),\r\n    entries: []\r\n  };\r\n  serviceTaskDelegateProps(detailsGroup, element, bpmnFactory, translate);\r\n  userTaskProps(detailsGroup, element, translate);\r\n  scriptProps(detailsGroup, element, bpmnFactory, translate);\r\n  linkProps(detailsGroup, element, translate);\r\n  callActivityProps(detailsGroup, element, bpmnFactory, translate);\r\n  eventProps(detailsGroup, element, bpmnFactory, elementRegistry, translate);\r\n  signalEventDefinitionProps(detailsGroup, element, bpmnFactory, elementRegistry, translate);\r\n  messageEventDefinitionProps(detailsGroup, element, bpmnFactory, elementRegistry, translate);\r\n  conditionalProps(detailsGroup, element, bpmnFactory, translate);\r\n  startEventInitiator(detailsGroup, element, translate); // this must be the last element of the details group!\r\n\r\n  var multiInstanceGroup = {\r\n    id: 'multiInstance',\r\n    label: translate('Multi Instance'),\r\n    entries: []\r\n  };\r\n  multiInstanceProps(multiInstanceGroup, element, bpmnFactory, translate);\r\n\r\n  var asyncGroup = {\r\n    id : 'async',\r\n    label: translate('Asynchronous Continuations'),\r\n    entries : []\r\n  };\r\n  asynchronousContinuationProps(asyncGroup, element, bpmnFactory, translate);\r\n\r\n  var jobConfigurationGroup = {\r\n    id : 'jobConfiguration',\r\n    label : translate('Job Configuration'),\r\n    entries : [],\r\n    enabled: isJobConfigEnabled\r\n  };\r\n  jobConfiguration(jobConfigurationGroup, element, bpmnFactory, translate);\r\n\r\n  var externalTaskGroup = {\r\n    id : 'externalTaskConfiguration',\r\n    label : translate('External Task Configuration'),\r\n    entries : [],\r\n    enabled: isExternalTaskPriorityEnabled\r\n  };\r\n  externalTaskConfiguration(externalTaskGroup, element, bpmnFactory, translate);\r\n\r\n\r\n  var candidateStarterGroup = {\r\n    id: 'candidateStarterConfiguration',\r\n    label: translate('Candidate Starter Configuration'),\r\n    entries: []\r\n  };\r\n  candidateStarter(candidateStarterGroup, element, bpmnFactory, translate);\r\n\r\n  var historyTimeToLiveGroup = {\r\n    id: 'historyConfiguration',\r\n    label: translate('History Configuration'),\r\n    entries: []\r\n  };\r\n  historyTimeToLive(historyTimeToLiveGroup, element, bpmnFactory, translate);\r\n\r\n  var tasklistGroup = {\r\n    id: 'tasklist',\r\n    label: translate('Tasklist Configuration'),\r\n    entries: []\r\n  };\r\n  tasklist(tasklistGroup, element, bpmnFactory, translate);\r\n\r\n  var documentationGroup = {\r\n    id: 'documentation',\r\n    label: translate('Documentation'),\r\n    entries: []\r\n  };\r\n  documentationProps(documentationGroup, element, bpmnFactory, translate);\r\n\r\n  var groups = [];\r\n  groups.push(generalGroup);\r\n  customFieldsGroups.forEach(function(group) {\r\n    groups.push(group);\r\n  });\r\n  groups.push(detailsGroup);\r\n  groups.push(externalTaskGroup);\r\n  groups.push(multiInstanceGroup);\r\n  groups.push(asyncGroup);\r\n  groups.push(jobConfigurationGroup);\r\n  groups.push(candidateStarterGroup);\r\n  groups.push(historyTimeToLiveGroup);\r\n  groups.push(tasklistGroup);\r\n  groups.push(documentationGroup);\r\n\r\n  return groups;\r\n}\r\n\r\nfunction createVariablesTabGroups(element, bpmnFactory, elementRegistry, translate) {\r\n  var variablesGroup = {\r\n    id : 'variables',\r\n    label : translate('Variables'),\r\n    entries: []\r\n  };\r\n  variableMapping(variablesGroup, element, bpmnFactory, translate);\r\n\r\n  return [\r\n    variablesGroup\r\n  ];\r\n}\r\n\r\nfunction createFormsTabGroups(element, bpmnFactory, elementRegistry, translate) {\r\n  var formGroup = {\r\n    id : 'forms',\r\n    label : translate('Forms'),\r\n    entries: []\r\n  };\r\n  formProps(formGroup, element, bpmnFactory, translate);\r\n\r\n  return [\r\n    formGroup\r\n  ];\r\n}\r\n\r\nfunction createListenersTabGroups(element, bpmnFactory, elementRegistry, translate) {\r\n\r\n  var listenersGroup = {\r\n    id : 'listeners',\r\n    label: translate('Listeners'),\r\n    entries: []\r\n  };\r\n\r\n  var options = listenerProps(listenersGroup, element, bpmnFactory, translate);\r\n\r\n  var listenerDetailsGroup = {\r\n    id: 'listener-details',\r\n    entries: [],\r\n    enabled: function(element, node) {\r\n      return options.getSelectedListener(element, node);\r\n    },\r\n    label: function(element, node) {\r\n      var param = options.getSelectedListener(element, node);\r\n      return getListenerLabel(param, translate);\r\n    }\r\n  };\r\n\r\n  listenerDetails(listenerDetailsGroup, element, bpmnFactory, options, translate);\r\n\r\n  var listenerFieldsGroup = {\r\n    id: 'listener-fields',\r\n    label: translate('Field Injection'),\r\n    entries: [],\r\n    enabled: function(element, node) {\r\n      return options.getSelectedListener(element, node);\r\n    }\r\n  };\r\n\r\n  listenerFields(listenerFieldsGroup, element, bpmnFactory, options, translate);\r\n\r\n  return [\r\n    listenersGroup,\r\n    listenerDetailsGroup,\r\n    listenerFieldsGroup\r\n  ];\r\n}\r\n\r\nfunction createInputOutputTabGroups(element, bpmnFactory, elementRegistry, translate) {\r\n\r\n  var inputOutputGroup = {\r\n    id: 'input-output',\r\n    label: translate('Parameters'),\r\n    entries: []\r\n  };\r\n\r\n  var options = inputOutput(inputOutputGroup, element, bpmnFactory, translate);\r\n\r\n  var inputOutputParameterGroup = {\r\n    id: 'input-output-parameter',\r\n    entries: [],\r\n    enabled: function(element, node) {\r\n      return options.getSelectedParameter(element, node);\r\n    },\r\n    label: function(element, node) {\r\n      var param = options.getSelectedParameter(element, node);\r\n      return getInputOutputParameterLabel(param, translate);\r\n    }\r\n  };\r\n\r\n  inputOutputParameter(inputOutputParameterGroup, element, bpmnFactory, options, translate);\r\n\r\n  return [\r\n    inputOutputGroup,\r\n    inputOutputParameterGroup\r\n  ];\r\n}\r\n\r\nfunction createConnectorTabGroups(element, bpmnFactory, elementRegistry, translate) {\r\n  var connectorDetailsGroup = {\r\n    id: 'connector-details',\r\n    label: translate('Details'),\r\n    entries: []\r\n  };\r\n\r\n  connectorDetails(connectorDetailsGroup, element, bpmnFactory, translate);\r\n\r\n  var connectorInputOutputGroup = {\r\n    id: 'connector-input-output',\r\n    label: translate('Input/Output'),\r\n    entries: []\r\n  };\r\n\r\n  var options = connectorInputOutput(connectorInputOutputGroup, element, bpmnFactory, translate);\r\n\r\n  var connectorInputOutputParameterGroup = {\r\n    id: 'connector-input-output-parameter',\r\n    entries: [],\r\n    enabled: function(element, node) {\r\n      return options.getSelectedParameter(element, node);\r\n    },\r\n    label: function(element, node) {\r\n      var param = options.getSelectedParameter(element, node);\r\n      return getInputOutputParameterLabel(param, translate);\r\n    }\r\n  };\r\n\r\n  connectorInputOutputParameter(connectorInputOutputParameterGroup, element, bpmnFactory, options, translate);\r\n\r\n  return [\r\n    connectorDetailsGroup,\r\n    connectorInputOutputGroup,\r\n    connectorInputOutputParameterGroup\r\n  ];\r\n}\r\n\r\nfunction createFieldInjectionsTabGroups(element, bpmnFactory, elementRegistry, translate) {\r\n\r\n  var fieldGroup = {\r\n    id: 'field-injections-properties',\r\n    label: translate('Field Injections'),\r\n    entries: []\r\n  };\r\n\r\n  fieldInjections(fieldGroup, element, bpmnFactory, translate);\r\n\r\n  return [\r\n    fieldGroup\r\n  ];\r\n}\r\n\r\nfunction createExtensionElementsGroups(element, bpmnFactory, elementRegistry, translate) {\r\n\r\n  var propertiesGroup = {\r\n    id : 'extensionElements-properties',\r\n    label: translate('Properties'),\r\n    entries: []\r\n  };\r\n  properties(propertiesGroup, element, bpmnFactory, translate);\r\n\r\n  return [\r\n    propertiesGroup\r\n  ];\r\n}\r\n\r\n// Camunda Properties Provider /////////////////////////////////////\r\n\r\n\r\n/**\r\n * A properties provider for Camunda related properties.\r\n *\r\n * @param {EventBus} eventBus\r\n * @param {BpmnFactory} bpmnFactory\r\n * @param {ElementRegistry} elementRegistry\r\n * @param {ElementTemplates} elementTemplates\r\n */\r\nfunction CamundaPropertiesProvider(eventBus, bpmnFactory, elementRegistry, elementTemplates, translate) {\r\n\r\n  PropertiesActivator.call(this, eventBus);\r\n\r\n  this.getTabs = function(element) {\r\n\r\n    var generalTab = {\r\n      id: 'general',\r\n      label: translate('General'),\r\n      groups: createGeneralTabGroups(\r\n        element, bpmnFactory,\r\n        elementRegistry, elementTemplates, translate)\r\n    };\r\n\r\n    var variablesTab = {\r\n      id: 'variables',\r\n      label: translate('Variables'),\r\n      groups: createVariablesTabGroups(element, bpmnFactory, elementRegistry, translate)\r\n    };\r\n\r\n    var formsTab = {\r\n      id: 'forms',\r\n      label: translate('Forms'),\r\n      groups: createFormsTabGroups(element, bpmnFactory, elementRegistry, translate)\r\n    };\r\n\r\n    var listenersTab = {\r\n      id: 'listeners',\r\n      label: translate('Listeners'),\r\n      groups: createListenersTabGroups(element, bpmnFactory, elementRegistry, translate),\r\n      enabled: function(element) {\r\n        return !eventDefinitionHelper.getLinkEventDefinition(element)\r\n          || (!is(element, 'bpmn:IntermediateThrowEvent')\r\n          && eventDefinitionHelper.getLinkEventDefinition(element));\r\n      }\r\n    };\r\n\r\n    var inputOutputTab = {\r\n      id: 'input-output',\r\n      label: translate('Input/Output'),\r\n      groups: createInputOutputTabGroups(element, bpmnFactory, elementRegistry, translate)\r\n    };\r\n\r\n    var connectorTab = {\r\n      id: 'connector',\r\n      label: translate('Connector'),\r\n      groups: createConnectorTabGroups(element, bpmnFactory, elementRegistry, translate),\r\n      enabled: function(element) {\r\n        var bo = implementationTypeHelper.getServiceTaskLikeBusinessObject(element);\r\n        return bo && implementationTypeHelper.getImplementationType(bo) === 'connector';\r\n      }\r\n    };\r\n\r\n    var fieldInjectionsTab = {\r\n      id: 'field-injections',\r\n      label: translate('Field Injections'),\r\n      groups: createFieldInjectionsTabGroups(element, bpmnFactory, elementRegistry, translate)\r\n    };\r\n\r\n    var extensionsTab = {\r\n      id: 'extensionElements',\r\n      label: translate('Extensions'),\r\n      groups: createExtensionElementsGroups(element, bpmnFactory, elementRegistry, translate)\r\n    };\r\n\r\n    return [\r\n      generalTab,\r\n      variablesTab,\r\n      connectorTab,\r\n      formsTab,\r\n      listenersTab,\r\n      inputOutputTab,\r\n      fieldInjectionsTab,\r\n      extensionsTab\r\n    ];\r\n  };\r\n\r\n}\r\n\r\nCamundaPropertiesProvider.$inject = [\r\n  'eventBus',\r\n  'bpmnFactory',\r\n  'elementRegistry',\r\n  'elementTemplates',\r\n  'translate'\r\n];\r\n\r\ninherits(CamundaPropertiesProvider, PropertiesActivator);\r\n\r\nmodule.exports = CamundaPropertiesProvider;\r\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nmodule.exports = keyBy;\n","var arrayFilter = require('./_arrayFilter'),\n    baseRest = require('./_baseRest'),\n    baseXor = require('./_baseXor'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of unique values that is the\n * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n * of the given arrays. The order of result values is determined by the order\n * they occur in the arrays.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.difference, _.without\n * @example\n *\n * _.xor([2, 1], [2, 3]);\n * // => [1, 3]\n */\nvar xor = baseRest(function(arrays) {\n  return baseXor(arrayFilter(arrays, isArrayLikeObject));\n});\n\nmodule.exports = xor;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","'use strict';\r\n\r\nvar values = require('lodash/values');\r\n\r\n/**\r\n * The guy knowing all configured element templates.\r\n *\r\n * This registry won't validate. Use the {@link Validator}\r\n * to verify a template is valid prior to adding it to\r\n * this registry.\r\n */\r\nfunction ElementTemplates() {\r\n\r\n  this._templates = {};\r\n\r\n  /**\r\n   * Sets the known element templates.\r\n   *\r\n   * @param {Array<TemplateDescriptor>} descriptors\r\n   *\r\n   * @return {ElementTemplates}\r\n   */\r\n  this.set = function(descriptors) {\r\n\r\n    var templates = this._templates = {};\r\n\r\n    descriptors.forEach(function(descriptor) {\r\n      templates[descriptor.id] = descriptor;\r\n    });\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Get template descriptor with given id.\r\n   *\r\n   * @param {String} id\r\n   *\r\n   * @return {TemplateDescriptor}\r\n   */\r\n  this.get = function(id) {\r\n    return this._templates[id];\r\n  };\r\n\r\n  /**\r\n   * Return all known template descriptors.\r\n   *\r\n   * @return {Array<TemplateDescriptor>}\r\n   */\r\n  this.getAll = function() {\r\n    return values(this._templates);\r\n  };\r\n\r\n}\r\n\r\nmodule.exports = ElementTemplates;","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\n\r\nvar tasklist = require('./implementation/Tasklist');\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n  var businessObject = getBusinessObject(element);\r\n\r\n  if (is(element, 'activiti:Process') ||\r\n      is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\r\n\r\n    group.entries = group.entries.concat(tasklist(element, bpmnFactory, {\r\n      getBusinessObject: function(element) {\r\n        var bo = getBusinessObject(element);\r\n\r\n        if (!is(bo, 'bpmn:Participant')) {\r\n          return bo;\r\n        }\r\n\r\n        return bo.get('processRef');\r\n      }\r\n    }, translate));\r\n\r\n  }\r\n};\r\n","/**\n * The function whose prototype chain sequence wrappers inherit from.\n *\n * @private\n */\nfunction baseLodash() {\n  // No operation performed.\n}\n\nmodule.exports = baseLodash;\n","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    createHybrid = require('./_createHybrid'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/**\n * Creates a function that wraps `func` to enable currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {number} arity The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCurry(func, bitmask, arity) {\n  var Ctor = createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length,\n        placeholder = getHolder(wrapper);\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n      ? []\n      : replaceHolders(args, placeholder);\n\n    length -= holders.length;\n    if (length < arity) {\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, undefined,\n        args, holders, undefined, undefined, arity - length);\n    }\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return apply(fn, this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createCurry;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\r\n\r\nvar elementHelper = require('../../../../helper/ElementHelper'),\r\n    inputOutputHelper = require('../../../../helper/InputOutputHelper'),\r\n    cmdHelper = require('../../../../helper/CmdHelper'),\r\n    utils = require('../../../../Utils');\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory'),\r\n    script = require('./Script')('scriptFormat', 'value', true);\r\n\r\n\r\nfunction createElement(type, parent, factory, properties) {\r\n  return elementHelper.createElement(type, properties, parent, factory);\r\n}\r\n\r\nfunction isScript(elem) {\r\n  return is(elem, 'activiti:Script');\r\n}\r\n\r\nfunction isList(elem) {\r\n  return is(elem, 'activiti:List');\r\n}\r\n\r\nfunction isMap(elem) {\r\n  return is(elem, 'activiti:Map');\r\n}\r\n\r\nfunction ensureInputOutputSupported(element, insideConnector) {\r\n  return inputOutputHelper.isInputOutputSupported(element, insideConnector);\r\n}\r\n\r\nmodule.exports = function(element, bpmnFactory, options, translate) {\r\n\r\n  var typeInfo = {\r\n    'activiti:Map': {\r\n      value: 'map',\r\n      label: translate('Map')\r\n    },\r\n    'activiti:List': {\r\n      value: 'list',\r\n      label: translate('List')\r\n    },\r\n    'activiti:Script': {\r\n      value: 'script',\r\n      label: translate('Script')\r\n    }\r\n  };\r\n\r\n  options = options || {};\r\n\r\n  var insideConnector = !!options.insideConnector,\r\n      idPrefix = options.idPrefix || '';\r\n\r\n  var getSelected = options.getSelectedParameter;\r\n\r\n  if (!ensureInputOutputSupported(element, insideConnector)) {\r\n    return [];\r\n  }\r\n\r\n  var entries = [];\r\n\r\n  var isSelected = function(element, node) {\r\n    return getSelected(element, node);\r\n  };\r\n\r\n\r\n  // parameter name ////////////////////////////////////////////////////////\r\n\r\n  entries.push(entryFactory.validationAwareTextField({\r\n    id: idPrefix + 'parameterName',\r\n    label: 'Name',\r\n    modelProperty: 'name',\r\n\r\n    getProperty: function(element, node) {\r\n      return (getSelected(element, node) || {}).name;\r\n    },\r\n\r\n    setProperty: function(element, values, node) {\r\n      var param = getSelected(element, node);\r\n      return cmdHelper.updateBusinessObject(element, param, values);\r\n    },\r\n\r\n    validate: function(element, values, node) {\r\n      var bo = getSelected(element, node);\r\n\r\n      var validation = {};\r\n      if (bo) {\r\n        var nameValue = values.name;\r\n\r\n        if (nameValue) {\r\n          if (utils.containsSpace(nameValue)) {\r\n            validation.name = 'Name must not contain spaces';\r\n          }\r\n        } else {\r\n          validation.name = 'Parameter must have a name';\r\n        }\r\n      }\r\n\r\n      return validation;\r\n    },\r\n\r\n    hidden: function(element, node) {\r\n      return !isSelected(element, node);\r\n    }\r\n  }));\r\n\r\n\r\n  // parameter type //////////////////////////////////////////////////////\r\n\r\n  var selectOptions = [\r\n    { value: 'text', name: 'Text' },\r\n    { value: 'script', name: 'Script' },\r\n    { value: 'list', name: 'List' },\r\n    { value: 'map', name: 'Map' }\r\n  ];\r\n\r\n  entries.push(entryFactory.selectBox({\r\n    id : idPrefix + 'parameterType',\r\n    label: 'Type',\r\n    selectOptions: selectOptions,\r\n    modelProperty: 'parameterType',\r\n\r\n    get: function(element, node) {\r\n      var bo = getSelected(element, node);\r\n\r\n      var parameterType = 'text';\r\n\r\n      if (typeof bo !== 'undefined') {\r\n        var definition = bo.get('definition');\r\n        if (typeof definition !== 'undefined') {\r\n          var type = definition.$type;\r\n          parameterType = typeInfo[type].value;\r\n        }\r\n      }\r\n\r\n      return {\r\n        parameterType: parameterType\r\n      };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var bo = getSelected(element, node);\r\n\r\n      var properties = {\r\n        value: undefined,\r\n        definition: undefined\r\n      };\r\n\r\n      var createParameterTypeElem = function(type) {\r\n        return createElement(type, bo, bpmnFactory);\r\n      };\r\n\r\n      var parameterType = values.parameterType;\r\n\r\n      if (parameterType === 'script') {\r\n        properties.definition = createParameterTypeElem('activiti:Script');\r\n      }\r\n      else if (parameterType === 'list') {\r\n        properties.definition = createParameterTypeElem('activiti:List');\r\n      }\r\n      else if (parameterType === 'map') {\r\n        properties.definition = createParameterTypeElem('activiti:Map');\r\n      }\r\n\r\n      return cmdHelper.updateBusinessObject(element, bo, properties);\r\n    },\r\n\r\n    show: function(element, node) {\r\n      return isSelected(element, node);\r\n    }\r\n\r\n  }));\r\n\r\n\r\n  // parameter value (type = text) ///////////////////////////////////////////////////////\r\n\r\n  entries.push(entryFactory.textBox({\r\n    id : idPrefix + 'parameterType-text',\r\n    label : 'Value',\r\n    modelProperty: 'value',\r\n    get: function(element, node) {\r\n      return {\r\n        value: (getSelected(element, node) || {}).value\r\n      };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var param = getSelected(element, node);\r\n      values.value = values.value || undefined;\r\n      return cmdHelper.updateBusinessObject(element, param, values);\r\n    },\r\n\r\n    show: function(element, node) {\r\n      var bo = getSelected(element, node);\r\n      return bo && !bo.definition;\r\n    }\r\n\r\n  }));\r\n\r\n\r\n  // parameter value (type = script) ///////////////////////////////////////////////////////\r\n\r\n  entries.push({\r\n    id: idPrefix + 'parameterType-script',\r\n    html: '<div data-show=\"isScript\">' +\r\n            script.template +\r\n          '</div>',\r\n    get: function(element, node) {\r\n      var bo = getSelected(element, node);\r\n      return bo && isScript(bo.definition) ? script.get(element, bo.definition) : {};\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var bo = getSelected(element, node);\r\n      var update = script.set(element, values);\r\n      return cmdHelper.updateBusinessObject(element, bo.definition, update);\r\n    },\r\n\r\n    validate: function(element, values, node) {\r\n      var bo = getSelected(element, node);\r\n      return bo && isScript(bo.definition) ? script.validate(element, bo.definition) : {};\r\n    },\r\n\r\n    isScript: function(element, node) {\r\n      var bo = getSelected(element, node);\r\n      return bo && isScript(bo.definition);\r\n    },\r\n\r\n    script: script\r\n\r\n  });\r\n\r\n\r\n  // parameter value (type = list) ///////////////////////////////////////////////////////\r\n\r\n  entries.push(entryFactory.table({\r\n    id: idPrefix + 'parameterType-list',\r\n    modelProperties: [ 'value' ],\r\n    labels: [ 'Value' ],\r\n\r\n    getElements: function(element, node) {\r\n      var bo = getSelected(element, node);\r\n\r\n      if (bo && isList(bo.definition)) {\r\n        return bo.definition.items;\r\n      }\r\n\r\n      return [];\r\n    },\r\n\r\n    updateElement: function(element, values, node, idx) {\r\n      var bo = getSelected(element, node);\r\n      var item = bo.definition.items[idx];\r\n      return cmdHelper.updateBusinessObject(element, item, values);\r\n    },\r\n\r\n    addElement: function(element, node) {\r\n      var bo = getSelected(element, node);\r\n      var newValue = createElement('activiti:Value', bo.definition, bpmnFactory, { value: undefined });\r\n      return cmdHelper.addElementsTolist(element, bo.definition, 'items', [ newValue ]);\r\n    },\r\n\r\n    removeElement: function(element, node, idx) {\r\n      var bo = getSelected(element, node);\r\n      return cmdHelper.removeElementsFromList(element, bo.definition, 'items', null, [ bo.definition.items[idx] ]);\r\n    },\r\n\r\n    editable: function(element, node, prop, idx) {\r\n      var bo = getSelected(element, node);\r\n      var item = bo.definition.items[idx];\r\n      return !isMap(item) && !isList(item) && !isScript(item);\r\n    },\r\n\r\n    setControlValue: function(element, node, input, prop, value, idx) {\r\n      var bo = getSelected(element, node);\r\n      var item = bo.definition.items[idx];\r\n\r\n      if (!isMap(item) && !isList(item) && !isScript(item)) {\r\n        input.value = value;\r\n      } else {\r\n        input.value = typeInfo[item.$type].label;\r\n      }\r\n    },\r\n\r\n    show: function(element, node) {\r\n      var bo = getSelected(element, node);\r\n      return bo && bo.definition && isList(bo.definition);\r\n    }\r\n\r\n  }));\r\n\r\n\r\n  // parameter value (type = map) ///////////////////////////////////////////////////////\r\n\r\n  entries.push(entryFactory.table({\r\n    id: idPrefix + 'parameterType-map',\r\n    modelProperties: [ 'key', 'value' ],\r\n    labels: [ 'Key', 'Value' ],\r\n    addLabel: 'Add Entry',\r\n\r\n    getElements: function(element, node) {\r\n      var bo = getSelected(element, node);\r\n\r\n      if (bo && isMap(bo.definition)) {\r\n        return bo.definition.entries;\r\n      }\r\n\r\n      return [];\r\n    },\r\n\r\n    updateElement: function(element, values, node, idx) {\r\n      var bo = getSelected(element, node);\r\n      var entry = bo.definition.entries[idx];\r\n\r\n      if (isMap(entry.definition) || isList(entry.definition) || isScript(entry.definition)) {\r\n        values = {\r\n          key: values.key\r\n        };\r\n      }\r\n\r\n      return cmdHelper.updateBusinessObject(element, entry, values);\r\n    },\r\n\r\n    addElement: function(element, node) {\r\n      var bo = getSelected(element, node);\r\n      var newEntry = createElement('activiti:Entry', bo.definition, bpmnFactory, { key: undefined, value: undefined });\r\n      return cmdHelper.addElementsTolist(element, bo.definition, 'entries', [ newEntry ]);\r\n    },\r\n\r\n    removeElement: function(element, node, idx) {\r\n      var bo = getSelected(element, node);\r\n      return cmdHelper.removeElementsFromList(element, bo.definition, 'entries', null, [ bo.definition.entries[idx] ]);\r\n    },\r\n\r\n    editable: function(element, node, prop, idx) {\r\n      var bo = getSelected(element, node);\r\n      var entry = bo.definition.entries[idx];\r\n      return prop === 'key' || (!isMap(entry.definition) && !isList(entry.definition) && !isScript(entry.definition));\r\n    },\r\n\r\n    setControlValue: function(element, node, input, prop, value, idx) {\r\n      var bo = getSelected(element, node);\r\n      var entry = bo.definition.entries[idx];\r\n\r\n      if (prop === 'key' || (!isMap(entry.definition) && !isList(entry.definition) && !isScript(entry.definition))) {\r\n        input.value = value;\r\n      } else {\r\n        input.value = typeInfo[entry.definition.$type].label;\r\n      }\r\n    },\r\n\r\n    show: function(element, node) {\r\n      var bo = getSelected(element, node);\r\n      return bo && bo.definition && isMap(bo.definition);\r\n    }\r\n\r\n  }));\r\n\r\n  return entries;\r\n\r\n};\r\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","'use strict';\r\n\r\nvar entryFieldDescription = require('./EntryFieldDescription');\r\n\r\n\r\nvar textBox = function(options, defaultParameters) {\r\n\r\n  var resource = defaultParameters,\r\n      label = options.label || resource.id,\r\n      canBeShown = !!options.show && typeof options.show === 'function',\r\n      description = options.description;\r\n\r\n  resource.html =\r\n    '<label for=\"camunda-' + resource.id + '\" ' +\r\n    (canBeShown ? 'data-show=\"isShown\"' : '') +\r\n    '>' + label + '</label>' +\r\n    '<div class=\"bpp-field-wrapper\" ' +\r\n    (canBeShown ? 'data-show=\"isShown\"' : '') +\r\n    '>' +\r\n      '<div contenteditable=\"true\" id=\"camunda-' + resource.id + '\" ' +\r\n            'name=\"' + options.modelProperty + '\" />' +\r\n    '</div>';\r\n\r\n  // add description below text box entry field\r\n  if (description) {\r\n    resource.html += entryFieldDescription(description);\r\n  }\r\n\r\n  if (canBeShown) {\r\n    resource.isShown = function() {\r\n      return options.show.apply(resource, arguments);\r\n    };\r\n  }\r\n\r\n  resource.cssClasses = ['bpp-textbox'];\r\n\r\n  return resource;\r\n};\r\n\r\nmodule.exports = textBox;\r\n","'use strict';\r\n\r\nvar assign = require('lodash/assign');\r\n\r\n/**\r\n * Create an input parameter representing the given\r\n * binding and value.\r\n *\r\n * @param {PropertyBinding} binding\r\n * @param {String} value\r\n * @param {BpmnFactory} bpmnFactory\r\n *\r\n * @return {ModdleElement}\r\n */\r\nfunction createInputParameter(binding, value, bpmnFactory) {\r\n  var scriptFormat = binding.scriptFormat,\r\n      parameterValue,\r\n      parameterDefinition;\r\n\r\n  if (scriptFormat) {\r\n    parameterDefinition = bpmnFactory.create('activiti:Script', {\r\n      scriptFormat: scriptFormat,\r\n      value: value\r\n    });\r\n  } else {\r\n    parameterValue = value;\r\n  }\r\n\r\n  return bpmnFactory.create('activiti:InputParameter', {\r\n    name: binding.name,\r\n    value: parameterValue,\r\n    definition: parameterDefinition\r\n  });\r\n}\r\n\r\nmodule.exports.createInputParameter = createInputParameter;\r\n\r\n\r\n/**\r\n * Create an output parameter representing the given\r\n * binding and value.\r\n *\r\n * @param {PropertyBinding} binding\r\n * @param {String} value\r\n * @param {BpmnFactory} bpmnFactory\r\n *\r\n * @return {ModdleElement}\r\n */\r\nfunction createOutputParameter(binding, value, bpmnFactory) {\r\n  var scriptFormat = binding.scriptFormat,\r\n      parameterValue,\r\n      parameterDefinition;\r\n\r\n  if (scriptFormat) {\r\n    parameterDefinition = bpmnFactory.create('activiti:Script', {\r\n      scriptFormat: scriptFormat,\r\n      value: binding.source\r\n    });\r\n  } else {\r\n    parameterValue = binding.source;\r\n  }\r\n\r\n  return bpmnFactory.create('activiti:OutputParameter', {\r\n    name: value,\r\n    value: parameterValue,\r\n    definition: parameterDefinition\r\n  });\r\n}\r\n\r\nmodule.exports.createOutputParameter = createOutputParameter;\r\n\r\n\r\n/**\r\n * Create camunda property from the given binding.\r\n *\r\n * @param {PropertyBinding} binding\r\n * @param {String} value\r\n * @param {BpmnFactory} bpmnFactory\r\n *\r\n * @return {ModdleElement}\r\n */\r\nfunction createCamundaProperty(binding, value, bpmnFactory) {\r\n  return bpmnFactory.create('activiti:Property', {\r\n    name: binding.name,\r\n    value: value || ''\r\n  });\r\n}\r\n\r\nmodule.exports.createCamundaProperty = createCamundaProperty;\r\n\r\n\r\n/**\r\n * Create activiti:in element from given binding.\r\n *\r\n * @param {PropertyBinding} binding\r\n * @param {String} value\r\n * @param {BpmnFactory} bpmnFactory\r\n *\r\n * @return {ModdleElement}\r\n */\r\nfunction createCamundaIn(binding, value, bpmnFactory) {\r\n\r\n  var properties = createCamundaInOutAttrs(binding, value);\r\n\r\n  return bpmnFactory.create('activiti:In', properties);\r\n}\r\n\r\nmodule.exports.createCamundaIn = createCamundaIn;\r\n\r\n\r\n/**\r\n * Create activiti:in with businessKey element from given binding.\r\n *\r\n * @param {PropertyBinding} binding\r\n * @param {String} value\r\n * @param {BpmnFactory} bpmnFactory\r\n *\r\n * @return {ModdleElement}\r\n */\r\nfunction createCamundaInWithBusinessKey(binding, value, bpmnFactory) {\r\n  return bpmnFactory.create('activiti:In', {\r\n    businessKey: value\r\n  });\r\n}\r\n\r\nmodule.exports.createCamundaInWithBusinessKey = createCamundaInWithBusinessKey;\r\n\r\n\r\n/**\r\n * Create activiti:out element from given binding.\r\n *\r\n * @param {PropertyBinding} binding\r\n * @param {String} value\r\n * @param {BpmnFactory} bpmnFactory\r\n *\r\n * @return {ModdleElement}\r\n */\r\nfunction createCamundaOut(binding, value, bpmnFactory) {\r\n  var properties = createCamundaInOutAttrs(binding, value);\r\n\r\n  return bpmnFactory.create('activiti:Out', properties);\r\n}\r\n\r\nmodule.exports.createCamundaOut = createCamundaOut;\r\n\r\n\r\n/**\r\n * Create activiti:executionListener element containing an inline script from given binding.\r\n *\r\n * @param {PropertyBinding} binding\r\n * @param {String} value\r\n * @param {BpmnFactory} bpmnFactory\r\n *\r\n * @return {ModdleElement}\r\n */\r\nfunction createCamundaExecutionListenerScript(binding, value, bpmnFactory) {\r\n  var scriptFormat = binding.scriptFormat,\r\n      parameterValue,\r\n      parameterDefinition;\r\n\r\n  if (scriptFormat) {\r\n    parameterDefinition = bpmnFactory.create('activiti:Script', {\r\n      scriptFormat: scriptFormat,\r\n      value: value\r\n    });\r\n  } else {\r\n    parameterValue = value;\r\n  }\r\n\r\n  return bpmnFactory.create('activiti:ExecutionListener', {\r\n    event: binding.event,\r\n    value: parameterValue,\r\n    script: parameterDefinition\r\n  });\r\n}\r\n\r\nmodule.exports.createCamundaExecutionListenerScript = createCamundaExecutionListenerScript;\r\n\r\n/**\r\n * Create activiti:field element containing string or expression from given binding.\r\n *\r\n * @param {PropertyBinding} binding\r\n * @param {String} value\r\n * @param {BpmnFactory} bpmnFactory\r\n *\r\n * @return {ModdleElement}\r\n */\r\nfunction createCamundaFieldInjection(binding, value, bpmnFactory) {\r\n  var DEFAULT_PROPS = {\r\n    'string': undefined,\r\n    'expression': undefined,\r\n    'name': undefined\r\n  };\r\n\r\n  var props = assign({}, DEFAULT_PROPS);\r\n\r\n  if (!binding.expression) {\r\n    props.string = value;\r\n  } else {\r\n    props.expression = value;\r\n  }\r\n  props.name = binding.name;\r\n\r\n  return bpmnFactory.create('activiti:Field', props);\r\n}\r\nmodule.exports.createCamundaFieldInjection = createCamundaFieldInjection;\r\n\r\n\r\n// helpers ////////////////////////////\r\n\r\n/**\r\n * Create properties for activiti:in and activiti:out types.\r\n */\r\nfunction createCamundaInOutAttrs(binding, value) {\r\n\r\n  var properties = {};\r\n\r\n  // activiti:in source(Expression) target\r\n  if (binding.target) {\r\n\r\n    properties.target = binding.target;\r\n\r\n    if (binding.expression) {\r\n      properties.sourceExpression = value;\r\n    } else {\r\n      properties.source = value;\r\n    }\r\n  } else\r\n\r\n  // activiti:(in|out) variables local\r\n  if (binding.variables) {\r\n    properties.variables = 'all';\r\n\r\n    if (binding.variables === 'local') {\r\n      properties.local = true;\r\n    }\r\n  }\r\n\r\n  // activiti:out source(Expression) target\r\n  else {\r\n    properties.target = value;\r\n\r\n    [ 'source', 'sourceExpression' ].forEach(function(k) {\r\n      if (binding[k]) {\r\n        properties[k] = binding[k];\r\n      }\r\n    });\r\n  }\r\n\r\n  return properties;\r\n}\r\n","var getWrapDetails = require('./_getWrapDetails'),\n    insertWrapDetails = require('./_insertWrapDetails'),\n    setToString = require('./_setToString'),\n    updateWrapDetails = require('./_updateWrapDetails');\n\n/**\n * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n * with wrapper details in a comment at the top of the source body.\n *\n * @private\n * @param {Function} wrapper The function to modify.\n * @param {Function} reference The reference function.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @returns {Function} Returns `wrapper`.\n */\nfunction setWrapToString(wrapper, reference, bitmask) {\n  var source = (reference + '');\n  return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n}\n\nmodule.exports = setWrapToString;\n","'use strict';\r\n\r\nvar map = require('lodash/map');\r\n\r\nvar extensionElementsHelper = require('./ExtensionElementsHelper');\r\n\r\n/**\r\n * Returns true if the attribute 'activiti:async' is set\r\n * to true.\r\n *\r\n * @param  {ModdleElement} bo\r\n *\r\n * @return {boolean} a boolean value\r\n */\r\nfunction isActivitiAsync(bo) {\r\n  return !!(bo.get('activiti:async'));\r\n}\r\n\r\nmodule.exports.isActivitiAsync = isActivitiAsync;\r\n\r\n/**\r\n * Returns true if the attribute 'activiti:exclusive' is set\r\n * to true.\r\n *\r\n * @param  {ModdleElement} bo\r\n *\r\n * @return {boolean} a boolean value\r\n */\r\nfunction isExclusive(bo) {\r\n  return !!bo.get('activiti:exclusive');\r\n}\r\n\r\nmodule.exports.isExclusive = isExclusive;\r\n\r\n/**\r\n * Get first 'activiti:FailedJobRetryTimeCycle' from the business object.\r\n *\r\n * @param  {ModdleElement} bo\r\n *\r\n * @return {Array<ModdleElement>} a list of 'activiti:FailedJobRetryTimeCycle'\r\n */\r\nfunction getFailedJobRetryTimeCycle(bo) {\r\n  return (extensionElementsHelper.getExtensionElements(bo, 'activiti:FailedJobRetryTimeCycle') || [])[0];\r\n}\r\n\r\nmodule.exports.getFailedJobRetryTimeCycle = getFailedJobRetryTimeCycle;\r\n\r\n/**\r\n * Removes all existing 'activiti:FailedJobRetryTimeCycle' from the business object\r\n *\r\n * @param  {ModdleElement} bo\r\n *\r\n * @return {Array<ModdleElement>} a list of 'activiti:FailedJobRetryTimeCycle'\r\n */\r\nfunction removeFailedJobRetryTimeCycle(bo, element) {\r\n  var retryTimeCycles = extensionElementsHelper.getExtensionElements(bo, 'activiti:FailedJobRetryTimeCycle');\r\n  return map(retryTimeCycles, function(cycle) {\r\n    return extensionElementsHelper.removeEntry(bo, element, cycle);\r\n  });\r\n}\r\n\r\nmodule.exports.removeFailedJobRetryTimeCycle = removeFailedJobRetryTimeCycle;","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","var arrayEach = require('./_arrayEach'),\n    baseCreate = require('./_baseCreate'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee'),\n    getPrototype = require('./_getPrototype'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isTypedArray = require('./isTypedArray');\n\n/**\n * An alternative to `_.reduce`; this method transforms `object` to a new\n * `accumulator` object which is the result of running each of its own\n * enumerable string keyed properties thru `iteratee`, with each invocation\n * potentially mutating the `accumulator` object. If `accumulator` is not\n * provided, a new object with the same `[[Prototype]]` will be used. The\n * iteratee is invoked with four arguments: (accumulator, value, key, object).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 1.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The custom accumulator value.\n * @returns {*} Returns the accumulated value.\n * @example\n *\n * _.transform([2, 3, 4], function(result, n) {\n *   result.push(n *= n);\n *   return n % 2 == 0;\n * }, []);\n * // => [4, 9]\n *\n * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] }\n */\nfunction transform(object, iteratee, accumulator) {\n  var isArr = isArray(object),\n      isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n  iteratee = baseIteratee(iteratee, 4);\n  if (accumulator == null) {\n    var Ctor = object && object.constructor;\n    if (isArrLike) {\n      accumulator = isArr ? new Ctor : [];\n    }\n    else if (isObject(object)) {\n      accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n    }\n    else {\n      accumulator = {};\n    }\n  }\n  (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n    return iteratee(accumulator, value, index, object);\n  });\n  return accumulator;\n}\n\nmodule.exports = transform;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;\n","'use strict';\r\n\r\nvar eventDefinitionReference = require('./EventDefinitionReference'),\r\n    elementReferenceProperty = require('./ElementReferenceProperty');\r\n\r\n\r\nmodule.exports = function(group, element, bpmnFactory, signalEventDefinition) {\r\n\r\n  group.entries = group.entries.concat(eventDefinitionReference(element, signalEventDefinition, bpmnFactory, {\r\n    label: 'Signal',\r\n    elementName: 'signal',\r\n    elementType: 'bpmn:Signal',\r\n    referenceProperty: 'signalRef',\r\n    newElementIdPrefix: 'Signal_'\r\n  }));\r\n\r\n\r\n  group.entries = group.entries.concat(elementReferenceProperty(element, signalEventDefinition, bpmnFactory, {\r\n    id: 'signal-element-name',\r\n    label: 'Signal Name',\r\n    referenceProperty: 'signalRef',\r\n    modelProperty: 'name',\r\n    shouldValidate: true\r\n  }));\r\n\r\n};\r\n","'use strict';\r\n\r\nvar assign = require('lodash/assign');\r\n\r\nvar inputOutputParameter = require('./implementation/InputOutputParameter');\r\n\r\nmodule.exports = function(group, element, bpmnFactory, options, translate) {\r\n\r\n  options = assign({\r\n    idPrefix: 'connector-',\r\n    insideConnector: true\r\n  }, options);\r\n\r\n  group.entries = group.entries.concat(inputOutputParameter(element, bpmnFactory, options, translate));\r\n\r\n};\r\n","'use strict';\r\n\r\nvar forEach = require('lodash/forEach');\r\n\r\n/**\r\n * A handler that implements a BPMN 2.0 property update\r\n * for business object lists which are not represented in the\r\n * diagram.\r\n *\r\n * This is useful in the context of the properties panel in\r\n * order to update child elements of elements visible in\r\n * the diagram.\r\n *\r\n * Example: perform an update of a specific event definition\r\n * of an intermediate event.\r\n *\r\n * @class\r\n * @constructor\r\n */\r\nfunction UpdateBusinessObjectListHandler(elementRegistry, bpmnFactory) {\r\n  this._elementRegistry = elementRegistry;\r\n  this._bpmnFactory = bpmnFactory;\r\n}\r\n\r\nUpdateBusinessObjectListHandler.$inject = [ 'elementRegistry', 'bpmnFactory' ];\r\n\r\nmodule.exports = UpdateBusinessObjectListHandler;\r\n\r\nfunction ensureNotNull(prop, name) {\r\n  if (!prop) {\r\n    throw new Error(name + 'required');\r\n  }\r\n  return prop;\r\n}\r\n\r\n// api /////////////////////////////////////////////\r\n\r\n/**\r\n * Updates a element under a provided parent.\r\n */\r\nUpdateBusinessObjectListHandler.prototype.execute = function(context) {\r\n\r\n  var currentObject = ensureNotNull(context.currentObject, 'currentObject'),\r\n      propertyName = ensureNotNull(context.propertyName, 'propertyName'),\r\n      updatedObjectList = context.updatedObjectList,\r\n      objectsToRemove = context.objectsToRemove || [],\r\n      objectsToAdd = context.objectsToAdd || [],\r\n      changed = [ context.element], // this will not change any diagram-js elements\r\n      referencePropertyName;\r\n\r\n  if (context.referencePropertyName) {\r\n    referencePropertyName = context.referencePropertyName;\r\n  }\r\n\r\n  var objectList = currentObject[propertyName];\r\n  // adjust array reference in the parent business object\r\n  context.previousList = currentObject[propertyName];\r\n\r\n  if (updatedObjectList) {\r\n    currentObject[propertyName] = updatedObjectList;\r\n  } else {\r\n    var listCopy = [];\r\n    // remove all objects which should be removed\r\n    forEach(objectList, function(object) {\r\n      if (objectsToRemove.indexOf(object) == -1) {\r\n        listCopy.push(object);\r\n      }\r\n    });\r\n    // add all objects which should be added\r\n    listCopy = listCopy.concat(objectsToAdd);\r\n\r\n    // set property to new list\r\n    if (listCopy.length > 0 || !referencePropertyName) {\r\n\r\n      // as long as there are elements in the list update the list\r\n      currentObject[propertyName] = listCopy;\r\n    } else if (referencePropertyName) {\r\n\r\n      // remove the list when it is empty\r\n      var parentObject = currentObject.$parent;\r\n      parentObject.set(referencePropertyName, undefined);\r\n    }\r\n  }\r\n\r\n  context.changed = changed;\r\n\r\n  // indicate changed on objects affected by the update\r\n  return changed;\r\n};\r\n\r\n/**\r\n * Reverts the update\r\n *\r\n * @method  CreateBusinessObjectListHandler#revert\r\n *\r\n * @param {Object} context\r\n *\r\n * @return {djs.mode.Base} the updated element\r\n */\r\nUpdateBusinessObjectListHandler.prototype.revert = function(context) {\r\n\r\n  var currentObject = context.currentObject,\r\n      propertyName = context.propertyName,\r\n      previousList = context.previousList,\r\n      parentObject = currentObject.$parent;\r\n\r\n  if (context.referencePropertyName) {\r\n    parentObject.set(context.referencePropertyName, currentObject);\r\n  }\r\n\r\n  // remove new element\r\n  currentObject.set(propertyName, previousList);\r\n\r\n  return context.changed;\r\n};\r\n","'use strict';\r\n\r\nvar ModelUtil = require('bpmn-js/lib/util/ModelUtil'),\r\n    is = ModelUtil.is,\r\n    getBusinessObject = ModelUtil.getBusinessObject;\r\n\r\nvar extensionElementsHelper = require('./ExtensionElementsHelper'),\r\n    implementationTypeHelper = require('./ImplementationTypeHelper');\r\n\r\nvar InputOutputHelper = {};\r\n\r\nmodule.exports = InputOutputHelper;\r\n\r\nfunction getElements(bo, type, prop) {\r\n  var elems = extensionElementsHelper.getExtensionElements(bo, type) || [];\r\n  return !prop ? elems : (elems[0] || {})[prop] || [];\r\n}\r\n\r\nfunction getParameters(element, prop, insideConnector) {\r\n  var inputOutput = InputOutputHelper.getInputOutput(element, insideConnector);\r\n  return (inputOutput && inputOutput.get(prop)) || [];\r\n}\r\n\r\n/**\r\n * Get a inputOutput from the business object\r\n *\r\n * @param {djs.model.Base} element\r\n * @param  {boolean} insideConnector\r\n *\r\n * @return {ModdleElement} the inputOutput object\r\n */\r\nInputOutputHelper.getInputOutput = function(element, insideConnector) {\r\n  if (!insideConnector) {\r\n    var bo = getBusinessObject(element);\r\n    return (getElements(bo, 'activiti:InputOutput') || [])[0];\r\n  }\r\n  var connector = this.getConnector(element);\r\n  return connector && connector.get('inputOutput');\r\n};\r\n\r\n/**\r\n * Get a connector from the business object\r\n *\r\n * @param {djs.model.Base} element\r\n *\r\n * @return {ModdleElement} the connector object\r\n */\r\nInputOutputHelper.getConnector = function(element) {\r\n  var bo = implementationTypeHelper.getServiceTaskLikeBusinessObject(element);\r\n  return bo && (getElements(bo, 'activiti:Connector') || [])[0];\r\n};\r\n\r\n/**\r\n * Return all input parameters existing in the business object, and\r\n * an empty array if none exist.\r\n *\r\n * @param  {djs.model.Base} element\r\n * @param  {boolean} insideConnector\r\n *\r\n * @return {Array} a list of input parameter objects\r\n */\r\nInputOutputHelper.getInputParameters = function(element, insideConnector) {\r\n  return getParameters.apply(this, [ element, 'inputParameters', insideConnector ]);\r\n};\r\n\r\n/**\r\n * Return all output parameters existing in the business object, and\r\n * an empty array if none exist.\r\n *\r\n * @param  {djs.model.Base} element\r\n * @param  {boolean} insideConnector\r\n *\r\n * @return {Array} a list of output parameter objects\r\n */\r\nInputOutputHelper.getOutputParameters = function(element, insideConnector) {\r\n  return getParameters.apply(this, [ element, 'outputParameters', insideConnector ]);\r\n};\r\n\r\n/**\r\n * Get a input parameter from the business object at given index\r\n *\r\n * @param {djs.model.Base} element\r\n * @param  {boolean} insideConnector\r\n * @param {number} idx\r\n *\r\n * @return {ModdleElement} input parameter\r\n */\r\nInputOutputHelper.getInputParameter = function(element, insideConnector, idx) {\r\n  return this.getInputParameters(element, insideConnector)[idx];\r\n};\r\n\r\n/**\r\n * Get a output parameter from the business object at given index\r\n *\r\n * @param {djs.model.Base} element\r\n * @param  {boolean} insideConnector\r\n * @param {number} idx\r\n *\r\n * @return {ModdleElement} output parameter\r\n */\r\nInputOutputHelper.getOutputParameter = function(element, insideConnector, idx) {\r\n  return this.getOutputParameters(element, insideConnector)[idx];\r\n};\r\n\r\n/**\r\n * Returns 'true' if the given element supports inputOutput\r\n *\r\n * @param {djs.model.Base} element\r\n * @param  {boolean} insideConnector\r\n *\r\n * @return {boolean} a boolean value\r\n */\r\nInputOutputHelper.isInputOutputSupported = function(element, insideConnector) {\r\n  var bo = getBusinessObject(element);\r\n  return insideConnector ||\r\n         (is(bo, 'bpmn:FlowNode') &&\r\n         !is(bo, 'bpmn:StartEvent') &&\r\n         !is(bo, 'bpmn:BoundaryEvent') &&\r\n         !(is(bo, 'bpmn:SubProcess') && bo.get('triggeredByEvent')));\r\n};\r\n\r\n/**\r\n * Returns 'true' if the given element supports output parameters\r\n *\r\n * @param {djs.model.Base} element\r\n * @param  {boolean} insideConnector\r\n *\r\n * @return {boolean} a boolean value\r\n */\r\nInputOutputHelper.areOutputParametersSupported = function(element, insideConnector) {\r\n  var bo = getBusinessObject(element);\r\n  return insideConnector || (!is(bo, 'bpmn:EndEvent') && !bo.loopCharacteristics);\r\n};\r\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","'use strict';\r\n\r\nvar cmdHelper = require('../helper/CmdHelper');\r\n\r\nvar domQuery = require('min-dom').query,\r\n    domAttr = require('min-dom').attr,\r\n    domClosest = require('min-dom').closest;\r\n\r\nvar filter = require('lodash/filter'),\r\n    forEach = require('lodash/forEach'),\r\n    keys = require('lodash/keys');\r\n\r\nvar domify = require('min-dom').domify;\r\n\r\nvar entryFieldDescription = require('./EntryFieldDescription');\r\n\r\nvar updateSelection = require('selection-update');\r\n\r\nvar TABLE_ROW_DIV_SNIPPET = '<div class=\"bpp-field-wrapper bpp-table-row\">';\r\nvar DELETE_ROW_BUTTON_SNIPPET = '<button class=\"clear\" data-action=\"deleteElement\">' +\r\n                                  '<span>X</span>' +\r\n                                '</button>';\r\n\r\nfunction createInputRowTemplate(properties, canRemove) {\r\n  var template = TABLE_ROW_DIV_SNIPPET;\r\n  template += createInputTemplate(properties, canRemove);\r\n  template += canRemove ? DELETE_ROW_BUTTON_SNIPPET : '';\r\n  template += '</div>';\r\n\r\n  return template;\r\n}\r\n\r\nfunction createInputTemplate(properties, canRemove) {\r\n  var columns = properties.length;\r\n  var template = '';\r\n  forEach(properties, function(prop) {\r\n    template += '<input class=\"bpp-table-row-columns-' + columns + ' ' +\r\n                               (canRemove ? 'bpp-table-row-removable' : '') + '\" ' +\r\n                       'id=\"camunda-table-row-cell-input-value\" ' +\r\n                       'type=\"text\" ' +\r\n                       'name=\"' + prop + '\" />';\r\n  });\r\n  return template;\r\n}\r\n\r\nfunction createLabelRowTemplate(labels) {\r\n  var template = TABLE_ROW_DIV_SNIPPET;\r\n  template += createLabelTemplate(labels);\r\n  template += '</div>';\r\n\r\n  return template;\r\n}\r\n\r\nfunction createLabelTemplate(labels) {\r\n  var columns = labels.length;\r\n  var template = '';\r\n  forEach(labels, function(label) {\r\n    template += '<label class=\"bpp-table-row-columns-' + columns + '\">' + label + '</label>';\r\n  });\r\n  return template;\r\n}\r\n\r\nfunction pick(elements, properties) {\r\n  return (elements || []).map(function(elem) {\r\n    var newElement = {};\r\n    forEach(properties, function(prop) {\r\n      newElement[prop] = elem[prop] || '';\r\n    });\r\n    return newElement;\r\n  });\r\n}\r\n\r\nfunction diff(element, node, values, oldValues, editable) {\r\n  return filter(values, function(value, idx) {\r\n    return !valueEqual(element, node, value, oldValues[idx], editable, idx);\r\n  });\r\n}\r\n\r\nfunction valueEqual(element, node, value, oldValue, editable, idx) {\r\n  if (value && !oldValue) {\r\n    return false;\r\n  }\r\n  var allKeys = keys(value).concat(keys(oldValue));\r\n\r\n  return allKeys.every(function(key) {\r\n    var n = value[key] || undefined;\r\n    var o = oldValue[key] || undefined;\r\n    return !editable(element, node, key, idx) || n === o;\r\n  });\r\n}\r\n\r\nfunction getEntryNode(node) {\r\n  return domClosest(node, '[data-entry]', true);\r\n}\r\n\r\nfunction getContainer(node) {\r\n  return domQuery('div[data-list-entry-container]', node);\r\n}\r\n\r\nfunction getSelection(node) {\r\n  return {\r\n    start: node.selectionStart,\r\n    end: node.selectionEnd\r\n  };\r\n}\r\n\r\nfunction setSelection(node, selection) {\r\n  node.selectionStart = selection.start;\r\n  node.selectionEnd = selection.end;\r\n}\r\n\r\n/**\r\n * @param  {Object} options\r\n * @param  {string} options.id\r\n * @param  {string} options.description\r\n * @param  {Array<string>} options.modelProperties\r\n * @param  {Array<string>} options.labels\r\n * @param  {Function} options.getElements - this callback function must return a list of business object items\r\n * @param  {Function} options.removeElement\r\n * @param  {Function} options.addElement\r\n * @param  {Function} options.updateElement\r\n * @param  {Function} options.editable\r\n * @param  {Function} options.setControlValue\r\n * @param  {Function} options.show\r\n *\r\n * @return {Object}\r\n */\r\nmodule.exports = function(options) {\r\n\r\n  var id = options.id,\r\n      modelProperties = options.modelProperties,\r\n      labels = options.labels,\r\n      description = options.description;\r\n\r\n  var labelRow = createLabelRowTemplate(labels);\r\n\r\n  var getElements = options.getElements;\r\n\r\n  var removeElement = options.removeElement,\r\n      canRemove = typeof removeElement === 'function';\r\n\r\n  var addElement = options.addElement,\r\n      canAdd = typeof addElement === 'function',\r\n      addLabel = options.addLabel || 'Add Value';\r\n\r\n  var updateElement = options.updateElement,\r\n      canUpdate = typeof updateElement === 'function';\r\n\r\n  var editable = options.editable || function() { return true; },\r\n      setControlValue = options.setControlValue;\r\n\r\n  var show = options.show,\r\n      canBeShown = typeof show === 'function';\r\n\r\n  var elements = function(element, node) {\r\n    return pick(getElements(element, node), modelProperties);\r\n  };\r\n\r\n  var factory = {\r\n    id: id,\r\n    html: (canAdd ?\r\n      '<div class=\"bpp-table-add-row\" ' + (canBeShown ? 'data-show=\"show\"' : '') + '>' +\r\n            '<label>' + addLabel + '</label>' +\r\n            '<button class=\"add\" data-action=\"addElement\"><span>+</span></button>' +\r\n          '</div>' : '') +\r\n          '<div class=\"bpp-table\" data-show=\"showTable\">' +\r\n            '<div class=\"bpp-field-wrapper bpp-table-row\">' +\r\n               labelRow +\r\n            '</div>' +\r\n            '<div data-list-entry-container>' +\r\n            '</div>' +\r\n          '</div>' +\r\n\r\n          // add description below table entry field\r\n          (description ? entryFieldDescription(description) : ''),\r\n\r\n    get: function(element, node) {\r\n      var boElements = elements(element, node, this.__invalidValues);\r\n\r\n      var invalidValues = this.__invalidValues;\r\n\r\n      delete this.__invalidValues;\r\n\r\n      forEach(invalidValues, function(value, idx) {\r\n        var element = boElements[idx];\r\n\r\n        forEach(modelProperties, function(prop) {\r\n          element[prop] = value[prop];\r\n        });\r\n      });\r\n\r\n      return boElements;\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var action = this.__action || {};\r\n      delete this.__action;\r\n\r\n      if (action.id === 'delete-element') {\r\n        return removeElement(element, node, action.idx);\r\n      }\r\n      else if (action.id === 'add-element') {\r\n        return addElement(element, node);\r\n      }\r\n      else if (canUpdate) {\r\n        var commands = [],\r\n            valuesToValidate = values;\r\n\r\n        if (typeof options.validate !== 'function') {\r\n          valuesToValidate = diff(element, node, values, elements(element, node), editable);\r\n        }\r\n\r\n        var self = this;\r\n\r\n        forEach(valuesToValidate, function(value) {\r\n          var validationError,\r\n              idx = values.indexOf(value);\r\n\r\n          if (typeof options.validate === 'function') {\r\n            validationError = options.validate(element, value, node, idx);\r\n          }\r\n\r\n          if (!validationError) {\r\n            var cmd = updateElement(element, value, node, idx);\r\n\r\n            if (cmd) {\r\n              commands.push(cmd);\r\n            }\r\n          } else {\r\n            // cache invalid value in an object by index as key\r\n            self.__invalidValues = self.__invalidValues || {};\r\n            self.__invalidValues[idx] = value;\r\n\r\n            // execute a command, which does not do anything\r\n            commands.push(cmdHelper.updateProperties(element, {}));\r\n          }\r\n        });\r\n\r\n        return commands;\r\n      }\r\n    },\r\n    createListEntryTemplate: function(value, index, selectBox) {\r\n      return createInputRowTemplate(modelProperties, canRemove);\r\n    },\r\n\r\n    addElement: function(element, node, event, scopeNode) {\r\n      var template = domify(createInputRowTemplate(modelProperties, canRemove));\r\n\r\n      var container = getContainer(node);\r\n      container.appendChild(template);\r\n\r\n      this.__action = {\r\n        id: 'add-element'\r\n      };\r\n\r\n      return true;\r\n    },\r\n\r\n    deleteElement: function(element, node, event, scopeNode) {\r\n      var container = getContainer(node);\r\n      var rowToDelete = event.delegateTarget.parentNode;\r\n      var idx = parseInt(domAttr(rowToDelete, 'data-index'), 10);\r\n\r\n      container.removeChild(rowToDelete);\r\n\r\n      this.__action = {\r\n        id: 'delete-element',\r\n        idx: idx\r\n      };\r\n\r\n      return true;\r\n    },\r\n\r\n    editable: function(element, rowNode, input, prop, value, idx) {\r\n      var entryNode = domClosest(rowNode, '[data-entry]');\r\n      return editable(element, entryNode, prop, idx);\r\n    },\r\n\r\n    show: function(element, entryNode, node, scopeNode) {\r\n      entryNode = getEntryNode(entryNode);\r\n      return show(element, entryNode, node, scopeNode);\r\n    },\r\n\r\n    showTable: function(element, entryNode, node, scopeNode) {\r\n      entryNode = getEntryNode(entryNode);\r\n      var elems = elements(element, entryNode);\r\n      return elems && elems.length && (!canBeShown || show(element, entryNode, node, scopeNode));\r\n    },\r\n\r\n    validateListItem: function(element, value, node, idx) {\r\n      if (typeof options.validate === 'function') {\r\n        return options.validate(element, value, node, idx);\r\n      }\r\n    }\r\n\r\n  };\r\n\r\n  // Update/set the selection on the correct position.\r\n  // It's the same code like for an input value in the PropertiesPanel.js.\r\n  if (setControlValue) {\r\n    factory.setControlValue = function(element, rowNode, input, prop, value, idx) {\r\n      var entryNode = getEntryNode(rowNode);\r\n\r\n      var isReadOnly = domAttr(input, 'readonly');\r\n      var oldValue = input.value;\r\n\r\n      var selection;\r\n\r\n      // prevents input fields from having the value 'undefined'\r\n      if (value === undefined) {\r\n        value = '';\r\n      }\r\n\r\n      // when the attribute 'readonly' exists, ignore the comparison\r\n      // with 'oldValue' and 'value'\r\n      if (!!isReadOnly && oldValue === value) {\r\n        return;\r\n      }\r\n\r\n      // update selection on undo/redo\r\n      if (document.activeElement === input) {\r\n        selection = updateSelection(getSelection(input), oldValue, value);\r\n      }\r\n\r\n      setControlValue(element, entryNode, input, prop, value, idx);\r\n\r\n      if (selection) {\r\n        setSelection(input, selection);\r\n      }\r\n\r\n    };\r\n  }\r\n\r\n  return factory;\r\n\r\n};\r\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * Gets the argument placeholder value for `func`.\n *\n * @private\n * @param {Function} func The function to inspect.\n * @returns {*} Returns the placeholder value.\n */\nfunction getHolder(func) {\n  var object = func;\n  return object.placeholder;\n}\n\nmodule.exports = getHolder;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","'use strict';\r\n\r\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\r\n    getExtensionElements = require('../../../helper/ExtensionElementsHelper').getExtensionElements,\r\n    removeEntry = require('../../../helper/ExtensionElementsHelper').removeEntry,\r\n    extensionElements = require('./implementation/ExtensionElements'),\r\n    properties = require('./implementation/Properties'),\r\n    entryFactory = require('../../../factory/EntryFactory'),\r\n    elementHelper = require('../../../helper/ElementHelper'),\r\n    cmdHelper = require('../../../helper/CmdHelper'),\r\n    formHelper = require('../../../helper/FormHelper'),\r\n    utils = require('../../../Utils'),\r\n    is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    find = require('lodash/find'),\r\n    each = require('lodash/forEach');\r\n\r\nfunction generateValueId() {\r\n  return utils.nextId('Value_');\r\n}\r\n\r\n/**\r\n * Generate a form field specific textField using entryFactory.\r\n *\r\n * @param  {string} options.id\r\n * @param  {string} options.label\r\n * @param  {string} options.modelProperty\r\n * @param  {function} options.validate\r\n *\r\n * @return {Object} an entryFactory.textField object\r\n */\r\nfunction formFieldTextField(options, getSelectedFormField) {\r\n\r\n  var id = options.id,\r\n      label = options.label,\r\n      modelProperty = options.modelProperty,\r\n      validate = options.validate;\r\n\r\n  return entryFactory.textField({\r\n    id: id,\r\n    label: label,\r\n    modelProperty: modelProperty,\r\n    get: function(element, node) {\r\n      var selectedFormField = getSelectedFormField(element, node) || {},\r\n          values = {};\r\n\r\n      values[modelProperty] = selectedFormField[modelProperty];\r\n\r\n      return values;\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var commands = [];\r\n\r\n      if (typeof options.set === 'function') {\r\n        var cmd = options.set(element, values, node);\r\n\r\n        if (cmd) {\r\n          commands.push(cmd);\r\n        }\r\n      }\r\n\r\n      var formField = getSelectedFormField(element, node),\r\n          properties = {};\r\n\r\n      properties[modelProperty] = values[modelProperty] || undefined;\r\n\r\n      commands.push(cmdHelper.updateBusinessObject(element, formField, properties));\r\n\r\n      return commands;\r\n    },\r\n    hidden: function(element, node) {\r\n      return !getSelectedFormField(element, node);\r\n    },\r\n    validate: validate\r\n  });\r\n}\r\n\r\nfunction ensureFormKeyAndDataSupported(element) {\r\n  return (\r\n    is(element, 'bpmn:StartEvent') && !is(element.parent, 'bpmn:SubProcess')\r\n  ) || is(element, 'bpmn:UserTask');\r\n}\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n\r\n  if (!ensureFormKeyAndDataSupported(element)) {\r\n    return;\r\n  }\r\n\r\n\r\n  /**\r\n   * Return the currently selected form field querying the form field select box\r\n   * from the DOM.\r\n   *\r\n   * @param  {djs.model.Base} element\r\n   * @param  {DOMElement} node - DOM element of any form field text input\r\n   *\r\n   * @return {ModdleElement} the currently selected form field\r\n   */\r\n  function getSelectedFormField(element, node) {\r\n    var selected = formFieldsEntry.getSelected(element, node.parentNode);\r\n\r\n    if (selected.idx === -1) {\r\n      return;\r\n    }\r\n\r\n    return formHelper.getFormField(element, selected.idx);\r\n  }\r\n\r\n  // [FormKey] form key text input field\r\n  group.entries.push(entryFactory.textField({\r\n    id : 'form-key',\r\n    label : translate('Form Key'),\r\n    modelProperty: 'formKey',\r\n    get: function(element, node) {\r\n      var bo = getBusinessObject(element);\r\n\r\n      return {\r\n        formKey: bo.get('activiti:formKey')\r\n      };\r\n    },\r\n    set: function(element, values, node) {\r\n      var bo = getBusinessObject(element),\r\n          formKey = values.formKey || undefined;\r\n\r\n      return cmdHelper.updateBusinessObject(element, bo, { 'activiti:formKey': formKey });\r\n    }\r\n  }));\r\n\r\n  // [FormData] form field select box\r\n  var formFieldsEntry = extensionElements(element, bpmnFactory, {\r\n    id: 'form-fields',\r\n    label: translate('Form Fields'),\r\n    modelProperty: 'id',\r\n    prefix: 'FormField',\r\n    createExtensionElement: function(element, extensionElements, value) {\r\n      var bo = getBusinessObject(element), commands = [];\r\n\r\n      if (!extensionElements) {\r\n        extensionElements = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\r\n        commands.push(cmdHelper.updateProperties(element, { extensionElements: extensionElements }));\r\n      }\r\n\r\n      var formData = formHelper.getFormData(element);\r\n\r\n      if (!formData) {\r\n        formData = elementHelper.createElement('activiti:FormData', { fields: [] }, extensionElements, bpmnFactory);\r\n        commands.push(cmdHelper.addAndRemoveElementsFromList(\r\n          element,\r\n          extensionElements,\r\n          'values',\r\n          'extensionElements',\r\n          [formData],\r\n          []\r\n        ));\r\n      }\r\n\r\n      var field = elementHelper.createElement('activiti:FormField', { id: value }, formData, bpmnFactory);\r\n      if (typeof formData.fields !== 'undefined') {\r\n        commands.push(cmdHelper.addElementsTolist(element, formData, 'fields', [ field ]));\r\n      } else {\r\n        commands.push(cmdHelper.updateBusinessObject(element, formData, {\r\n          fields: [ field ]\r\n        }));\r\n      }\r\n      return commands;\r\n    },\r\n    removeExtensionElement: function(element, extensionElements, value, idx) {\r\n      var formData = getExtensionElements(getBusinessObject(element), 'activiti:FormData')[0],\r\n          entry = formData.fields[idx],\r\n          commands = [];\r\n\r\n      if (formData.fields.length < 2) {\r\n        commands.push(removeEntry(getBusinessObject(element), element, formData));\r\n      } else {\r\n        commands.push(cmdHelper.removeElementsFromList(element, formData, 'fields', null, [entry]));\r\n\r\n        if (entry.id === formData.get('businessKey')) {\r\n          commands.push(cmdHelper.updateBusinessObject(element, formData, { 'businessKey': undefined }));\r\n        }\r\n      }\r\n\r\n      return commands;\r\n    },\r\n    getExtensionElements: function(element) {\r\n      return formHelper.getFormFields(element);\r\n    },\r\n    hideExtensionElements: function(element, node) {\r\n      return false;\r\n    }\r\n  });\r\n  group.entries.push(formFieldsEntry);\r\n\r\n  // [FormData] business key form field select box\r\n  var formBusinessKeyFormFieldEntry = entryFactory.selectBox({\r\n    id: 'form-business-key',\r\n    label: translate('Business Key'),\r\n    modelProperty: 'businessKey',\r\n    selectOptions: function(element, inputNode) {\r\n      var selectOptions = [{ name: '', value: '' }];\r\n      var formFields = formHelper.getFormFields(element);\r\n      each(formFields, function(field) {\r\n        if (field.type !== 'boolean') {\r\n          selectOptions.push({ name: field.id, value: field.id });\r\n        }\r\n      });\r\n      return selectOptions;\r\n    },\r\n    get: function(element, node) {\r\n      var result = { businessKey: '' };\r\n      var bo = getBusinessObject(element);\r\n      var formDataExtension = getExtensionElements(bo, 'activiti:FormData');\r\n      if (formDataExtension) {\r\n        var formData = formDataExtension[0];\r\n        var storedValue = formData.get('businessKey');\r\n        result = { businessKey: storedValue };\r\n      }\r\n      return result;\r\n    },\r\n    set: function(element, values, node) {\r\n      var formData = getExtensionElements(getBusinessObject(element), 'activiti:FormData')[0];\r\n      return cmdHelper.updateBusinessObject(element, formData, { 'businessKey': values.businessKey || undefined });\r\n    },\r\n    hidden: function(element, node) {\r\n      var isStartEvent = is(element,'bpmn:StartEvent');\r\n      return !(isStartEvent && formHelper.getFormFields(element).length > 0);\r\n    }\r\n  });\r\n  group.entries.push(formBusinessKeyFormFieldEntry);\r\n\r\n  // [FormData] Form Field label\r\n  group.entries.push(entryFactory.label({\r\n    id: 'form-field-header',\r\n    labelText: translate('Form Field'),\r\n    showLabel: function(element, node) {\r\n      return !!getSelectedFormField(element, node);\r\n    }\r\n  }));\r\n\r\n  // [FormData] form field id text input field\r\n  group.entries.push(entryFactory.validationAwareTextField({\r\n    id: 'form-field-id',\r\n    label: translate('ID'),\r\n    modelProperty: 'id',\r\n\r\n    getProperty: function(element, node) {\r\n      var selectedFormField = getSelectedFormField(element, node) || {};\r\n\r\n      return selectedFormField.id;\r\n    },\r\n\r\n    setProperty: function(element, properties, node) {\r\n      var formField = getSelectedFormField(element, node);\r\n\r\n      return cmdHelper.updateBusinessObject(element, formField, properties);\r\n    },\r\n\r\n    hidden: function(element, node) {\r\n      return !getSelectedFormField(element, node);\r\n    },\r\n\r\n    validate: function(element, values, node) {\r\n\r\n      var formField = getSelectedFormField(element, node);\r\n\r\n      if (formField) {\r\n\r\n        var idValue = values.id;\r\n\r\n        if (!idValue || idValue.trim() === '') {\r\n          return { id: 'Form field id must not be empty' };\r\n        }\r\n\r\n        var formFields = formHelper.getFormFields(element);\r\n\r\n        var existingFormField = find(formFields, function(f) {\r\n          return f !== formField && f.id === idValue;\r\n        });\r\n\r\n        if (existingFormField) {\r\n          return { id: 'Form field id already used in form data.' };\r\n        }\r\n      }\r\n    }\r\n  }));\r\n\r\n  // [FormData] form field type combo box\r\n  group.entries.push(entryFactory.comboBox({\r\n    id: 'form-field-type',\r\n    label: translate('Type'),\r\n    selectOptions: [\r\n      { name: 'string', value: 'string' },\r\n      { name: 'long', value: 'long' },\r\n      { name: 'boolean', value: 'boolean' },\r\n      { name: 'date', value: 'date' },\r\n      { name: 'enum', value: 'enum' }\r\n    ],\r\n    modelProperty: 'type',\r\n    emptyParameter: true,\r\n\r\n    get: function(element, node) {\r\n      var selectedFormField = getSelectedFormField(element, node);\r\n\r\n      if (selectedFormField) {\r\n        return { type: selectedFormField.type };\r\n      } else {\r\n        return {};\r\n      }\r\n    },\r\n    set: function(element, values, node) {\r\n      var selectedFormField = getSelectedFormField(element, node),\r\n          formData = getExtensionElements(getBusinessObject(element), 'activiti:FormData')[0],\r\n          commands = [];\r\n\r\n      if (selectedFormField.type === 'enum' && values.type !== 'enum') {\r\n        // delete activiti:value objects from formField.values when switching from type enum\r\n        commands.push(cmdHelper.updateBusinessObject(element, selectedFormField, { values: undefined }));\r\n      }\r\n      if (values.type === 'boolean' && selectedFormField.get('id') === formData.get('businessKey')) {\r\n        commands.push(cmdHelper.updateBusinessObject(element, formData, { 'businessKey': undefined }));\r\n      }\r\n      commands.push(cmdHelper.updateBusinessObject(element, selectedFormField, values));\r\n\r\n      return commands;\r\n    },\r\n    hidden: function(element, node) {\r\n      return !getSelectedFormField(element, node);\r\n    }\r\n  }));\r\n\r\n  // [FormData] form field label text input field\r\n  group.entries.push(formFieldTextField({\r\n    id: 'form-field-label',\r\n    label: translate('Label'),\r\n    modelProperty: 'label'\r\n  }, getSelectedFormField));\r\n\r\n  // [FormData] form field defaultValue text input field\r\n  group.entries.push(formFieldTextField({\r\n    id: 'form-field-defaultValue',\r\n    label: translate('Default Value'),\r\n    modelProperty: 'defaultValue'\r\n  }, getSelectedFormField));\r\n\r\n\r\n  // [FormData] form field enum values label\r\n  group.entries.push(entryFactory.label({\r\n    id: 'form-field-enum-values-header',\r\n    labelText: translate('Values'),\r\n    divider: true,\r\n    showLabel: function(element, node) {\r\n      var selectedFormField = getSelectedFormField(element, node);\r\n\r\n      return selectedFormField && selectedFormField.type === 'enum';\r\n    }\r\n  }));\r\n\r\n  // [FormData] form field enum values table\r\n  group.entries.push(entryFactory.table({\r\n    id: 'form-field-enum-values',\r\n    labels: [ translate('Id'), translate('Name') ],\r\n    modelProperties: [ 'id', 'name' ],\r\n    show: function(element, node) {\r\n      var selectedFormField = getSelectedFormField(element, node);\r\n\r\n      return selectedFormField && selectedFormField.type === 'enum';\r\n    },\r\n    getElements: function(element, node) {\r\n      var selectedFormField = getSelectedFormField(element, node);\r\n\r\n      return formHelper.getEnumValues(selectedFormField);\r\n    },\r\n    addElement: function(element, node) {\r\n      var selectedFormField = getSelectedFormField(element, node),\r\n          id = generateValueId();\r\n\r\n      var enumValue = elementHelper.createElement(\r\n        'activiti:Value',\r\n        { id: id, name: undefined },\r\n        getBusinessObject(element),\r\n        bpmnFactory\r\n      );\r\n\r\n      return cmdHelper.addElementsTolist(element, selectedFormField, 'values', [enumValue]);\r\n    },\r\n    removeElement: function(element, node, idx) {\r\n      var selectedFormField = getSelectedFormField(element, node),\r\n          enumValue = selectedFormField.values[idx];\r\n\r\n      return cmdHelper.removeElementsFromList(element, selectedFormField, 'values', null, [enumValue]);\r\n    },\r\n    updateElement: function(element, value, node, idx) {\r\n      var selectedFormField = getSelectedFormField(element, node),\r\n          enumValue = selectedFormField.values[idx];\r\n\r\n      value.name = value.name || undefined;\r\n      return cmdHelper.updateBusinessObject(element, enumValue, value);\r\n    },\r\n    validate: function(element, value, node, idx) {\r\n\r\n      var selectedFormField = getSelectedFormField(element, node),\r\n          enumValue = selectedFormField.values[idx];\r\n\r\n      if (enumValue) {\r\n        // check if id is valid\r\n        var validationError = utils.isIdValid(enumValue, value.id);\r\n\r\n        if (validationError) {\r\n          return { id: validationError };\r\n        }\r\n      }\r\n    }\r\n  }));\r\n\r\n  // [FormData] Validation label\r\n  group.entries.push(entryFactory.label({\r\n    id: 'form-field-validation-header',\r\n    labelText: translate('Validation'),\r\n    divider: true,\r\n    showLabel: function(element, node) {\r\n      return !!getSelectedFormField(element, node);\r\n    }\r\n  }));\r\n\r\n  // [FormData] form field constraints table\r\n  group.entries.push(entryFactory.table({\r\n    id: 'constraints-list',\r\n    modelProperties: [ 'name', 'config' ],\r\n    labels: [ translate('Name'), translate('Config') ],\r\n    addLabel: translate('Add Constraint'),\r\n    getElements: function(element, node) {\r\n      var formField = getSelectedFormField(element, node);\r\n\r\n      return formHelper.getConstraints(formField);\r\n    },\r\n    addElement: function(element, node) {\r\n\r\n      var commands = [],\r\n          formField = getSelectedFormField(element, node),\r\n          validation = formField.validation;\r\n\r\n      if (!validation) {\r\n        // create validation business object and add it to form data, if it doesn't exist\r\n        validation = elementHelper.createElement('activiti:Validation', {}, getBusinessObject(element), bpmnFactory);\r\n\r\n        commands.push(cmdHelper.updateBusinessObject(element, formField, { 'validation': validation }));\r\n      }\r\n\r\n      var newConstraint = elementHelper.createElement(\r\n        'activiti:Constraint',\r\n        { name: undefined, config: undefined },\r\n        validation,\r\n        bpmnFactory\r\n      );\r\n\r\n      commands.push(cmdHelper.addElementsTolist(element, validation, 'constraints', [ newConstraint ]));\r\n\r\n      return commands;\r\n    },\r\n    updateElement: function(element, value, node, idx) {\r\n      var formField = getSelectedFormField(element, node),\r\n          constraint = formHelper.getConstraints(formField)[idx];\r\n\r\n      value.name = value.name || undefined;\r\n      value.config = value.config || undefined;\r\n\r\n      return cmdHelper.updateBusinessObject(element, constraint, value);\r\n    },\r\n    removeElement: function(element, node, idx) {\r\n      var commands = [],\r\n          formField = getSelectedFormField(element, node),\r\n          constraints = formHelper.getConstraints(formField),\r\n          currentConstraint = constraints[idx];\r\n\r\n      commands.push(cmdHelper.removeElementsFromList(\r\n        element,\r\n        formField.validation,\r\n        'constraints',\r\n        null,\r\n        [ currentConstraint ]\r\n      ));\r\n\r\n      if (constraints.length === 1) {\r\n        // remove activiti:validation if the last existing constraint has been removed\r\n        commands.push(cmdHelper.updateBusinessObject(element, formField, { validation: undefined }));\r\n      }\r\n\r\n      return commands;\r\n    },\r\n    show: function(element, node) {\r\n      return !!getSelectedFormField(element, node);\r\n    }\r\n  }));\r\n\r\n  // [FormData] Properties label\r\n  group.entries.push(entryFactory.label({\r\n    id: 'form-field-properties-header',\r\n    labelText: translate('Properties'),\r\n    divider: true,\r\n    showLabel: function(element, node) {\r\n      return !!getSelectedFormField(element, node);\r\n    }\r\n  }));\r\n\r\n  // [FormData] activiti:properties table\r\n  group.entries.push(properties(element, bpmnFactory, {\r\n    id: 'form-field-properties',\r\n    modelProperties: [ 'id', 'value' ],\r\n    labels: [ translate('Id'), translate('Value') ],\r\n    getParent: function(element, node) {\r\n      return getSelectedFormField(element, node);\r\n    },\r\n    show: function(element, node) {\r\n      return !!getSelectedFormField(element, node);\r\n    }\r\n  }, translate));\r\n};\r\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var baseIteratee = require('./_baseIteratee'),\n    isArrayLike = require('./isArrayLike'),\n    keys = require('./keys');\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nmodule.exports = createFind;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    eventDefinitionHelper = require('../../../helper/EventDefinitionHelper'),\r\n    messageEventDefinitionCorrelationKey = require('./implementation/MessageEventDefinitionCorrelationKey');\r\n\r\nvar forEach = require('lodash/forEach');\r\n\r\nmodule.exports = function(group, element, bpmnFactory, elementRegistry, translate) {\r\n  var events = [\r\n    'bpmn:IntermediateThrowEvent',\r\n    'bpmn:BoundaryEvent',\r\n    'bpmn:IntermediateCatchEvent',\r\n    'bpmn:EndEvent'\r\n  ];\r\n\r\n  // Message Event Definition\r\n  forEach(events, function(event) {\r\n    if (is(element, event)) {\r\n      var messageEventDefinition = eventDefinitionHelper.getMessageEventDefinition(element);\r\n\r\n      if (messageEventDefinition) {\r\n        messageEventDefinitionCorrelationKey(group, element, bpmnFactory, messageEventDefinition, translate);\r\n      }\r\n    }\r\n  });\r\n\r\n};","'use strict';\r\n\r\n/**\r\n * The label factory provides a label entry. For the label text\r\n * it expects either a string provided by the options.labelText\r\n * parameter or it could be generated programmatically using a\r\n * function passed as the options.get parameter.\r\n *\r\n * @param  {Object} options\r\n * @param  {string} options.id\r\n * @param  {string} [options.labelText]\r\n * @param  {Function} [options.get]\r\n * @param  {Function} [options.showLabel]\r\n * @param  {Boolean} [options.divider] adds a divider at the top of the label if true; default: false\r\n */\r\nvar label = function(options) {\r\n  return {\r\n    id: options.id,\r\n    html: '<label data-value=\"label\" ' +\r\n            'data-show=\"showLabel\" ' +\r\n            'class=\"entry-label' + (options.divider ? ' divider' : '') + '\">' +\r\n          '</label>',\r\n    get: function(element, node) {\r\n      if (typeof options.get === 'function') {\r\n        return options.get(element, node);\r\n      }\r\n      return { label: options.labelText };\r\n    },\r\n    showLabel: function(element, node) {\r\n      if (typeof options.showLabel === 'function') {\r\n        return options.showLabel(element, node);\r\n      }\r\n      return true;\r\n    }\r\n  };\r\n};\r\n\r\nmodule.exports = label;\r\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var baseCreate = require('./_baseCreate'),\n    baseLodash = require('./_baseLodash');\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/**\n * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n *\n * @private\n * @constructor\n * @param {*} value The value to wrap.\n */\nfunction LazyWrapper(value) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__dir__ = 1;\n  this.__filtered__ = false;\n  this.__iteratees__ = [];\n  this.__takeCount__ = MAX_ARRAY_LENGTH;\n  this.__views__ = [];\n}\n\n// Ensure `LazyWrapper` is an instance of `baseLodash`.\nLazyWrapper.prototype = baseCreate(baseLodash.prototype);\nLazyWrapper.prototype.constructor = LazyWrapper;\n\nmodule.exports = LazyWrapper;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","'use strict';\r\n\r\nvar findExtension = require('../Helper').findExtension,\r\n    findExtensions = require('../Helper').findExtensions;\r\n\r\nvar createCamundaProperty = require('../CreateHelper').createCamundaProperty,\r\n    createInputParameter = require('../CreateHelper').createInputParameter,\r\n    createOutputParameter = require('../CreateHelper').createOutputParameter,\r\n    createCamundaIn = require('../CreateHelper').createCamundaIn,\r\n    createCamundaOut = require('../CreateHelper').createCamundaOut,\r\n    createCamundaInWithBusinessKey = require('../CreateHelper').createCamundaInWithBusinessKey,\r\n    createCamundaExecutionListenerScript = require('../CreateHelper').createCamundaExecutionListenerScript,\r\n    createCamundaFieldInjection = require('../CreateHelper').createCamundaFieldInjection;\r\n\r\nvar forEach = require('lodash/forEach');\r\n\r\nvar ACTIVITI_SERVICE_TASK_LIKE = [\r\n  'activiti:class',\r\n  'activiti:delegateExpression',\r\n  'activiti:expression',\r\n  'implementation'\r\n];\r\n\r\n/**\r\n * A handler that changes the modeling template of a BPMN element.\r\n */\r\nfunction ChangeElementTemplateHandler(modeling, commandStack, bpmnFactory) {\r\n\r\n  function getOrCreateExtensionElements(element) {\r\n\r\n    var bo = element.businessObject;\r\n\r\n    var extensionElements = bo.extensionElements;\r\n\r\n    // add extension elements\r\n    if (!extensionElements) {\r\n      extensionElements = bpmnFactory.create('bpmn:ExtensionElements', {\r\n        values: []\r\n      });\r\n\r\n      modeling.updateProperties(element, {\r\n        extensionElements: extensionElements\r\n      });\r\n    }\r\n\r\n    return extensionElements;\r\n  }\r\n\r\n  function updateModelerTemplate(element, newTemplate) {\r\n    modeling.updateProperties(element, {\r\n      'activiti:modelerTemplate': newTemplate && newTemplate.id\r\n    });\r\n  }\r\n\r\n  function updateIoMappings(element, newTemplate, context) {\r\n\r\n    var newMappings = createInputOutputMappings(newTemplate, bpmnFactory),\r\n        oldMappings;\r\n\r\n    if (!newMappings) {\r\n      return;\r\n    }\r\n\r\n    if (context) {\r\n      commandStack.execute('properties-panel.update-businessobject', {\r\n        element: element,\r\n        businessObject: context,\r\n        properties: { inputOutput: newMappings }\r\n      });\r\n    } else {\r\n      context = getOrCreateExtensionElements(element);\r\n      oldMappings = findExtension(element, 'activiti:InputOutput');\r\n      commandStack.execute('properties-panel.update-businessobject-list', {\r\n        element: element,\r\n        currentObject: context,\r\n        propertyName: 'values',\r\n        objectsToAdd: [ newMappings ],\r\n        objectsToRemove: oldMappings ? [ oldMappings ] : []\r\n      });\r\n    }\r\n  }\r\n\r\n  function updateCamundaField(element, newTemplate, context) {\r\n\r\n    var newMappings = createCamundaFieldInjections(newTemplate, bpmnFactory),\r\n        oldMappings;\r\n\r\n    if (!newMappings) {\r\n      return;\r\n    }\r\n    if (context) {\r\n      commandStack.execute('properties-panel.update-businessobject', {\r\n        element: element,\r\n        businessObject: context,\r\n        properties: { field: newMappings }\r\n      });\r\n    } else {\r\n      context = getOrCreateExtensionElements(element);\r\n      oldMappings = findExtensions(element, ['activiti:Field']);\r\n\r\n      commandStack.execute('properties-panel.update-businessobject-list', {\r\n        element: element,\r\n        currentObject: context,\r\n        propertyName: 'values',\r\n        objectsToAdd: newMappings,\r\n        objectsToRemove: oldMappings ? oldMappings : []\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  function updateCamundaProperties(element, newTemplate, context) {\r\n\r\n    var newProperties = createCamundaProperties(newTemplate, bpmnFactory),\r\n        oldProperties;\r\n\r\n    if (!newProperties) {\r\n      return;\r\n    }\r\n\r\n    if (context) {\r\n      commandStack.execute('properties-panel.update-businessobject', {\r\n        element: element,\r\n        businessObject: context,\r\n        properties: { properties: newProperties }\r\n      });\r\n    } else {\r\n      context = getOrCreateExtensionElements(element);\r\n      oldProperties = findExtension(element, 'activiti:Properties');\r\n\r\n      commandStack.execute('properties-panel.update-businessobject-list', {\r\n        element: element,\r\n        currentObject: context,\r\n        propertyName: 'values',\r\n        objectsToAdd: [ newProperties ],\r\n        objectsToRemove: oldProperties ? [ oldProperties ] : []\r\n      });\r\n    }\r\n  }\r\n\r\n  function updateProperties(element, newTemplate, context) {\r\n\r\n    var newProperties = createBpmnPropertyUpdates(newTemplate, bpmnFactory);\r\n\r\n    var newPropertiesCount = Object.keys(newProperties).length;\r\n\r\n    if (!newPropertiesCount) {\r\n      return;\r\n    }\r\n\r\n    if (context) {\r\n      commandStack.execute('properties-panel.update-businessobject', {\r\n        element: element,\r\n        businessObject: context,\r\n        properties: newProperties\r\n      });\r\n    } else {\r\n      modeling.updateProperties(element, newProperties);\r\n    }\r\n  }\r\n\r\n  function updateInOut(element, newTemplate, context) {\r\n\r\n    var newInOut = createCamundaInOut(newTemplate, bpmnFactory),\r\n        oldInOut;\r\n\r\n    if (!newInOut) {\r\n      return;\r\n    }\r\n\r\n    if (context) {\r\n      commandStack.execute('properties-panel.update-businessobject', {\r\n        element: element,\r\n        businessObject: context,\r\n        properties: { inout: newInOut }\r\n      });\r\n    } else {\r\n      context = getOrCreateExtensionElements(element);\r\n      oldInOut = findExtensions(context, [ 'activiti:In', 'activiti:Out' ]);\r\n\r\n      commandStack.execute('properties-panel.update-businessobject-list', {\r\n        element: element,\r\n        currentObject: context,\r\n        propertyName: 'values',\r\n        objectsToAdd: newInOut,\r\n        objectsToRemove: oldInOut\r\n      });\r\n    }\r\n  }\r\n\r\n  function updateExecutionListener(element, newTemplate, context) {\r\n\r\n    var newExecutionListeners = createCamundaExecutionListeners(newTemplate, bpmnFactory),\r\n        oldExecutionsListeners;\r\n\r\n    if (!newExecutionListeners.length) {\r\n      return;\r\n    }\r\n\r\n    if (context) {\r\n      commandStack.execute('properties-panel.update-businessobject', {\r\n        element: element,\r\n        businessObject: context,\r\n        properties: { executionListener: newExecutionListeners }\r\n      });\r\n    } else {\r\n      context = getOrCreateExtensionElements(element);\r\n      oldExecutionsListeners = findExtensions(context, [ 'activiti:ExecutionListener' ]);\r\n\r\n      commandStack.execute('properties-panel.update-businessobject-list', {\r\n        element: element,\r\n        currentObject: context,\r\n        propertyName: 'values',\r\n        objectsToAdd: newExecutionListeners,\r\n        objectsToRemove: oldExecutionsListeners\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update / recreate a scoped element.\r\n   *\r\n   * @param {djs.model.Base} element the diagram parent element\r\n   * @param {String} scopeName name of the scope, i.e. activiti:Connector\r\n   * @param {Object} scopeDefinition\r\n   */\r\n  function updateScopeElements(element, scopeName, scopeDefinition) {\r\n\r\n    var scopeElement = bpmnFactory.create(scopeName);\r\n\r\n    // update activiti:inputOutput\r\n    updateIoMappings(element, scopeDefinition, scopeElement);\r\n\r\n    // update activiti:field\r\n    updateCamundaField(element, scopeDefinition, scopeElement);\r\n\r\n    // update activiti:properties\r\n    updateCamundaProperties(element, scopeDefinition, scopeElement);\r\n\r\n    // update other properties (bpmn:condition, activiti:async, ...)\r\n    updateProperties(element, scopeDefinition, scopeElement);\r\n\r\n    // update activiti:in and activiti:out\r\n    updateInOut(element, scopeDefinition, scopeElement);\r\n\r\n    // update activiti:executionListener\r\n    updateExecutionListener(element, scopeDefinition, scopeElement);\r\n\r\n    var extensionElements = getOrCreateExtensionElements(element);\r\n    var oldScope = findExtension(extensionElements, scopeName);\r\n\r\n    commandStack.execute('properties-panel.update-businessobject-list', {\r\n      element: element,\r\n      currentObject: extensionElements,\r\n      propertyName: 'values',\r\n      objectsToAdd: [ scopeElement ],\r\n      objectsToRemove: oldScope ? [ oldScope ] : []\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Compose an element template change action, updating all\r\n   * necessary underlying properties.\r\n   *\r\n   * @param {Object} context\r\n   * @param {Object} context.element\r\n   * @param {Object} context.oldTemplate\r\n   * @param {Object} context.newTemplate\r\n   */\r\n  this.preExecute = function(context) {\r\n\r\n    var element = context.element,\r\n        newTemplate = context.newTemplate;\r\n\r\n    // update activiti:modelerTemplate attribute\r\n    updateModelerTemplate(element, newTemplate);\r\n\r\n    if (newTemplate) {\r\n\r\n      // update activiti:inputOutput\r\n      updateIoMappings(element, newTemplate);\r\n\r\n      // update activiti:field\r\n      updateCamundaField(element, newTemplate);\r\n\r\n      // update activiti:properties\r\n      updateCamundaProperties(element, newTemplate);\r\n\r\n      // update other properties (bpmn:condition, activiti:async, ...)\r\n      updateProperties(element, newTemplate);\r\n\r\n      // update activiti:in and activiti:out\r\n      updateInOut(element, newTemplate);\r\n\r\n      // update activiti:executionListener\r\n      updateExecutionListener(element, newTemplate);\r\n\r\n      // loop on scopes properties\r\n      forEach(newTemplate.scopes, function(scopeDefinition, scopeName) {\r\n        updateScopeElements(element, scopeName, scopeDefinition);\r\n      });\r\n\r\n    }\r\n  };\r\n}\r\n\r\nChangeElementTemplateHandler.$inject = [ 'modeling', 'commandStack', 'bpmnFactory' ];\r\n\r\nmodule.exports = ChangeElementTemplateHandler;\r\n\r\n\r\n\r\n// helpers /////////////////////////////\r\n\r\nfunction createBpmnPropertyUpdates(template, bpmnFactory) {\r\n\r\n  var propertyUpdates = {};\r\n\r\n  template.properties.forEach(function(p) {\r\n\r\n    var binding = p.binding,\r\n        bindingTarget = binding.name,\r\n        propertyValue;\r\n\r\n    if (binding.type === 'property') {\r\n\r\n      if (bindingTarget === 'conditionExpression') {\r\n        propertyValue = bpmnFactory.create('bpmn:FormalExpression', {\r\n          body: p.value,\r\n          language: binding.scriptFormat\r\n        });\r\n      } else {\r\n        propertyValue = p.value;\r\n      }\r\n\r\n      // assigning activiti:async to true|false\r\n      // assigning bpmn:conditionExpression to { $type: 'bpmn:FormalExpression', ... }\r\n      propertyUpdates[bindingTarget] = propertyValue;\r\n\r\n      // make sure we unset other \"implementation types\"\r\n      // when applying a activiti:class template onto a preconfigured\r\n      // activiti:delegateExpression element\r\n      if (ACTIVITI_SERVICE_TASK_LIKE.indexOf(bindingTarget) !== -1) {\r\n        ACTIVITI_SERVICE_TASK_LIKE.forEach(function(prop) {\r\n          if (prop !== bindingTarget) {\r\n            propertyUpdates[prop] = undefined;\r\n          }\r\n        });\r\n      }\r\n    }\r\n  });\r\n\r\n  return propertyUpdates;\r\n}\r\n\r\nfunction createCamundaFieldInjections(template, bpmnFactory) {\r\n  var injections = [];\r\n\r\n  template.properties.forEach(function(p) {\r\n    var binding = p.binding,\r\n        bindingType = binding.type;\r\n    if (bindingType === 'activiti:field') {\r\n      injections.push(createCamundaFieldInjection(\r\n        binding, p.value, bpmnFactory\r\n      ));\r\n    }\r\n  });\r\n\r\n  if (injections.length) {\r\n    return injections;\r\n  }\r\n}\r\n\r\nfunction createCamundaProperties(template, bpmnFactory) {\r\n\r\n  var properties = [];\r\n\r\n  template.properties.forEach(function(p) {\r\n    var binding = p.binding,\r\n        bindingType = binding.type;\r\n\r\n    if (bindingType === 'activiti:property') {\r\n      properties.push(createCamundaProperty(\r\n        binding, p.value, bpmnFactory\r\n      ));\r\n    }\r\n  });\r\n\r\n  if (properties.length) {\r\n    return bpmnFactory.create('activiti:Properties', {\r\n      values: properties\r\n    });\r\n  }\r\n}\r\n\r\nfunction createInputOutputMappings(template, bpmnFactory) {\r\n\r\n  var inputParameters = [],\r\n      outputParameters = [];\r\n\r\n  template.properties.forEach(function(p) {\r\n    var binding = p.binding,\r\n        bindingType = binding.type;\r\n\r\n    if (bindingType === 'activiti:inputParameter') {\r\n      inputParameters.push(createInputParameter(\r\n        binding, p.value, bpmnFactory\r\n      ));\r\n    }\r\n\r\n    if (bindingType === 'activiti:outputParameter') {\r\n      outputParameters.push(createOutputParameter(\r\n        binding, p.value, bpmnFactory\r\n      ));\r\n    }\r\n  });\r\n\r\n  // do we need to create new ioMappings (?)\r\n  if (outputParameters.length || inputParameters.length) {\r\n    return bpmnFactory.create('activiti:InputOutput', {\r\n      inputParameters: inputParameters,\r\n      outputParameters: outputParameters\r\n    });\r\n  }\r\n}\r\n\r\nfunction createCamundaInOut(template, bpmnFactory) {\r\n\r\n  var inOuts = [];\r\n\r\n  template.properties.forEach(function(p) {\r\n    var binding = p.binding,\r\n        bindingType = binding.type;\r\n\r\n    if (bindingType === 'activiti:in') {\r\n      inOuts.push(createCamundaIn(\r\n        binding, p.value, bpmnFactory\r\n      ));\r\n    } else\r\n    if (bindingType === 'activiti:out') {\r\n      inOuts.push(createCamundaOut(\r\n        binding, p.value, bpmnFactory\r\n      ));\r\n    } else\r\n    if (bindingType === 'activiti:in:businessKey') {\r\n      inOuts.push(createCamundaInWithBusinessKey(\r\n        binding, p.value, bpmnFactory\r\n      ));\r\n    }\r\n  });\r\n\r\n  return inOuts;\r\n}\r\n\r\n\r\nfunction createCamundaExecutionListeners(template, bpmnFactory) {\r\n\r\n  var executionListener = [];\r\n\r\n  template.properties.forEach(function(p) {\r\n    var binding = p.binding,\r\n        bindingType = binding.type;\r\n\r\n    if (bindingType === 'activiti:executionListener') {\r\n      executionListener.push(createCamundaExecutionListenerScript(\r\n        binding, p.value, bpmnFactory\r\n      ));\r\n    }\r\n  });\r\n\r\n  return executionListener;\r\n}\r\n","var composeArgs = require('./_composeArgs'),\n    composeArgsRight = require('./_composeArgsRight'),\n    countHolders = require('./_countHolders'),\n    createCtor = require('./_createCtor'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    reorder = require('./_reorder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_ARY_FLAG = 128,\n    WRAP_FLIP_FLAG = 512;\n\n/**\n * Creates a function that wraps `func` to invoke it with optional `this`\n * binding of `thisArg`, partial application, and currying.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [partialsRight] The arguments to append to those provided\n *  to the new function.\n * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n  var isAry = bitmask & WRAP_ARY_FLAG,\n      isBind = bitmask & WRAP_BIND_FLAG,\n      isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n      isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n      isFlip = bitmask & WRAP_FLIP_FLAG,\n      Ctor = isBindKey ? undefined : createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length;\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    if (isCurried) {\n      var placeholder = getHolder(wrapper),\n          holdersCount = countHolders(args, placeholder);\n    }\n    if (partials) {\n      args = composeArgs(args, partials, holders, isCurried);\n    }\n    if (partialsRight) {\n      args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n    }\n    length -= holdersCount;\n    if (isCurried && length < arity) {\n      var newHolders = replaceHolders(args, placeholder);\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n        args, newHolders, argPos, ary, arity - length\n      );\n    }\n    var thisBinding = isBind ? thisArg : this,\n        fn = isBindKey ? thisBinding[func] : func;\n\n    length = args.length;\n    if (argPos) {\n      args = reorder(args, argPos);\n    } else if (isFlip && length > 1) {\n      args.reverse();\n    }\n    if (isAry && ary < length) {\n      args.length = ary;\n    }\n    if (this && this !== root && this instanceof wrapper) {\n      fn = Ctor || createCtor(fn);\n    }\n    return fn.apply(thisBinding, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createHybrid;\n","var WeakMap = require('./_WeakMap');\n\n/** Used to store function metadata. */\nvar metaMap = WeakMap && new WeakMap;\n\nmodule.exports = metaMap;\n","var arrayEach = require('./_arrayEach'),\n    baseEach = require('./_baseEach'),\n    castFunction = require('./_castFunction'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _.forEach([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, castFunction(iteratee));\n}\n\nmodule.exports = forEach;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\r\n    entryFactory = require('../../../factory/EntryFactory'),\r\n    cmdHelper = require('../../../helper/CmdHelper');\r\n\r\nvar forEach = require('lodash/forEach');\r\n\r\nfunction getLinkEventDefinition(element) {\r\n\r\n  var bo = getBusinessObject(element);\r\n\r\n  var linkEventDefinition = null;\r\n  if (bo.eventDefinitions) {\r\n    forEach(bo.eventDefinitions, function(eventDefinition) {\r\n      if (is(eventDefinition, 'bpmn:LinkEventDefinition')) {\r\n        linkEventDefinition = eventDefinition;\r\n      }\r\n    });\r\n  }\r\n\r\n  return linkEventDefinition;\r\n}\r\n\r\nmodule.exports = function(group, element, translate) {\r\n  var linkEvents = [ 'bpmn:IntermediateThrowEvent', 'bpmn:IntermediateCatchEvent' ];\r\n\r\n  forEach(linkEvents, function(event) {\r\n    if (is(element, event)) {\r\n\r\n      var linkEventDefinition = getLinkEventDefinition(element);\r\n\r\n      if (linkEventDefinition) {\r\n        var entry = entryFactory.textField({\r\n          id: 'link-event',\r\n          label: translate('Link Name'),\r\n          modelProperty: 'link-name'\r\n        });\r\n\r\n        entry.get = function() {\r\n          return { 'link-name': linkEventDefinition.get('name') };\r\n        };\r\n\r\n        entry.set = function(element, values) {\r\n          var newProperties = {\r\n            name: values['link-name']\r\n          };\r\n          return cmdHelper.updateBusinessObject(element, linkEventDefinition, newProperties);\r\n        };\r\n\r\n        group.entries.push(entry);\r\n      }\r\n    }\r\n  });\r\n};\r\n\r\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","'use strict';\r\n\r\nvar assign = require('lodash/assign'),\r\n    find = require('lodash/find');\r\n\r\nvar domQuery = require('min-dom').query;\r\n\r\nvar selectEntryFactory = require('./SelectEntryFactory'),\r\n    entryFieldDescription = require('./EntryFieldDescription');\r\n\r\n\r\n/**\r\n * The combo box is a special implementation of the select entry and adds the option 'custom' to the\r\n * select box. If 'custom' is selected, an additional text input field is shown which allows to define\r\n * a custom value.\r\n *\r\n * @param  {Object} options\r\n * @param  {string} options.id\r\n * @param  {string} options.label\r\n * @param  {Array<Object>} options.selectOptions list of name/value pairs\r\n * @param  {string} options.modelProperty\r\n * @param  {function} options.get\r\n * @param  {function} options.set\r\n * @param  {string} [options.customValue] custom select option value (default: 'custom')\r\n * @param  {string} [options.customName] custom select option name visible in the select box (default: 'custom')\r\n *\r\n * @return {Object}\r\n */\r\nvar comboBox = function(options) {\r\n\r\n  var selectOptions = options.selectOptions,\r\n      modelProperty = options.modelProperty,\r\n      customValue = options.customValue || 'custom',\r\n      customName = options.customName || 'custom ' + modelProperty,\r\n      description = options.description;\r\n\r\n  // check if a value is not a built in value\r\n  var isCustomValue = function(value) {\r\n    if (typeof value[modelProperty] === 'undefined') {\r\n      return false;\r\n    }\r\n\r\n    var isCustom = !find(selectOptions, function(option) {\r\n      return value[modelProperty] === option.value;\r\n    });\r\n\r\n    return isCustom;\r\n  };\r\n\r\n  var comboOptions = assign({}, options);\r\n\r\n  // true if the selected value in the select box is customValue\r\n  comboOptions.showCustomInput = function(element, node) {\r\n    var selectBox = domQuery('[data-entry=\"'+ options.id +'\"] select', node.parentNode);\r\n\r\n    if (selectBox) {\r\n      return selectBox.value === customValue;\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  comboOptions.get = function(element, node) {\r\n    var value = options.get(element, node);\r\n\r\n    var modifiedValues = {};\r\n\r\n    if (!isCustomValue(value)) {\r\n      modifiedValues[modelProperty] = value[modelProperty] || '';\r\n\r\n      return modifiedValues;\r\n    }\r\n\r\n    modifiedValues[modelProperty] = customValue;\r\n    modifiedValues['custom-'+modelProperty] = value[modelProperty];\r\n\r\n    return modifiedValues;\r\n  };\r\n\r\n  comboOptions.set = function(element, values, node) {\r\n    var modifiedValues = {};\r\n\r\n    // if the custom select option has been selected\r\n    // take the value from the text input field\r\n    if (values[modelProperty] === customValue) {\r\n      modifiedValues[modelProperty] = values['custom-' + modelProperty] || '';\r\n    }\r\n    else if (options.emptyParameter && values[modelProperty] === '') {\r\n      modifiedValues[modelProperty] = undefined;\r\n    } else {\r\n      modifiedValues[modelProperty] = values[modelProperty];\r\n    }\r\n    return options.set(element, modifiedValues, node);\r\n  };\r\n\r\n  comboOptions.selectOptions.push({ name: customName, value: customValue });\r\n\r\n  var comboBoxEntry = assign({}, selectEntryFactory(comboOptions, comboOptions));\r\n\r\n  comboBoxEntry.html += '<div class=\"bpp-field-wrapper bpp-combo-input\" ' +\r\n    'data-show=\"showCustomInput\"' +\r\n    '>' +\r\n    '<input id=\"camunda-' + options.id + '-input\" type=\"text\" name=\"custom-' + modelProperty+'\" ' +\r\n      ' />' +\r\n  '</div>';\r\n\r\n  // add description below combo box entry field\r\n  if (description) {\r\n    comboBoxEntry.html += entryFieldDescription(description);\r\n  }\r\n\r\n  return comboBoxEntry;\r\n};\r\n\r\nmodule.exports = comboBox;\r\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","'use strict';\r\n\r\nvar inherits = require('inherits');\r\n\r\nvar getTemplate = require('./Helper').getTemplate;\r\n\r\nvar PropertiesActivator = require('../../../PropertiesActivator');\r\n\r\nvar HIGHER_PRIORITY = 1100;\r\n\r\n/**\r\n * Applies template visibility settings.\r\n *\r\n * Controlled using `entriesVisible` on template config object:\r\n *\r\n * ```json\r\n *     \"entriesVisible\": {\r\n *       \"_all\": true|false,\r\n *       \"entryName\": true|false,\r\n *       ...\r\n *     }\r\n * ```\r\n *\r\n * @param {EventBus} eventBus\r\n * @param {ElementTemplates} elementTemplates\r\n */\r\nfunction CustomElementsPropertiesActivator(eventBus, elementTemplates) {\r\n  PropertiesActivator.call(this, eventBus, HIGHER_PRIORITY);\r\n\r\n  this.isEntryVisible = function(entry, element) {\r\n\r\n    var template = getTemplate(element, elementTemplates);\r\n\r\n    if (template && !isEntryVisible(entry, template)) {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  this.isPropertyEditable = function(entry, propertyName, element) {\r\n\r\n    var template = getTemplate(element, elementTemplates);\r\n\r\n    if (template && !isEntryEditable(entry, template)) {\r\n      return false;\r\n    }\r\n  };\r\n}\r\n\r\nCustomElementsPropertiesActivator.$inject = [ 'eventBus', 'elementTemplates' ];\r\n\r\ninherits(CustomElementsPropertiesActivator, PropertiesActivator);\r\n\r\nmodule.exports = CustomElementsPropertiesActivator;\r\n\r\n\r\n\r\n// helpers ////////////////////////////////////\r\n\r\n\r\nvar CUSTOM_PROPERTIES_PATTERN = /^custom-/;\r\n\r\nvar DEFAULT_ENTRIES_VISIBLE = {\r\n  _all: false,\r\n  id: true,\r\n  name: true\r\n};\r\n\r\nfunction isCustomEntry(entry) {\r\n  return CUSTOM_PROPERTIES_PATTERN.test(entry.id);\r\n}\r\n\r\nfunction isEntryVisible(entry, template) {\r\n\r\n  var entryId = entry.id;\r\n\r\n  if (entryId === 'elementTemplate-chooser' || isCustomEntry(entry)) {\r\n    return true;\r\n  }\r\n\r\n  var entriesVisible = template.entriesVisible || DEFAULT_ENTRIES_VISIBLE;\r\n\r\n  if (typeof entriesVisible === 'boolean') {\r\n    return entriesVisible;\r\n  }\r\n\r\n  var defaultVisible = entriesVisible._all || false,\r\n      entryVisible = entriesVisible[entryId];\r\n\r\n  // d = true, e = false => false\r\n  // d = false, e = true => true\r\n  // d = false, e = false\r\n  return (\r\n    (defaultVisible === true && entryVisible !== false) ||\r\n    (defaultVisible === false && entryVisible === true)\r\n  );\r\n}\r\n\r\nfunction isEntryEditable(entry, template) {\r\n\r\n  var property;\r\n\r\n  if (isCustomEntry(entry)) {\r\n    property = getProperty(template, entry);\r\n\r\n    return property && property.editable !== false;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nfunction getProperty(template, entry) {\r\n\r\n  var index;\r\n  var idx = entry.id.replace('custom-' + template.id + '-', '');\r\n  if (idx.indexOf('-') !== -1) {\r\n    var indexes = idx.split('-');\r\n    if (indexes.length == 2) {\r\n      var scopeName = indexes[0].replace(/_/g, ':');\r\n      index = parseInt(indexes[1], 10);\r\n      if (scopeName && !isNaN(index)) {\r\n        return template.scopes[scopeName].properties[index];\r\n      }\r\n    }\r\n  } else {\r\n    index = parseInt(idx, 10);\r\n    if (!isNaN(index)) {\r\n      return template.properties[index];\r\n    }\r\n  }\r\n\r\n  throw new Error('cannot extract property index for entry <' + entry.id + '>');\r\n}\r\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","'use strict';\n\n/**\n * Calculate the selection update for the given\n * current and new input values.\n *\n * @param {Object} currentSelection as {start, end}\n * @param {String} currentValue\n * @param {String} newValue\n *\n * @return {Object} newSelection as {start, end}\n */\nfunction calculateUpdate(currentSelection, currentValue, newValue) {\n\n  var currentCursor = currentSelection.start,\n      newCursor = currentCursor,\n      diff = newValue.length - currentValue.length,\n      idx;\n\n  var lengthDelta = newValue.length - currentValue.length;\n\n  var currentTail = currentValue.substring(currentCursor);\n\n  // check if we can remove common ending from the equation\n  // to be able to properly detect a selection change for\n  // the following scenarios:\n  //\n  //  * (AAATTT|TF) => (AAAT|TF)\n  //  * (AAAT|TF) =>  (AAATTT|TF)\n  //\n  if (newValue.lastIndexOf(currentTail) === newValue.length - currentTail.length) {\n    currentValue = currentValue.substring(0, currentValue.length - currentTail.length);\n    newValue = newValue.substring(0, newValue.length - currentTail.length);\n  }\n\n  // diff\n  var diff = createDiff(currentValue, newValue);\n\n  if (diff) {\n    if (diff.type === 'remove') {\n      newCursor = diff.newStart;\n    } else {\n      newCursor = diff.newEnd;\n    }\n  }\n\n  return range(newCursor);\n}\n\nmodule.exports = calculateUpdate;\n\n\nfunction createDiff(currentValue, newValue) {\n\n  var insert;\n\n  var l_str, l_char, l_idx = 0,\n      s_str, s_char, s_idx = 0;\n\n  if (newValue.length > currentValue.length) {\n    l_str = newValue;\n    s_str = currentValue;\n  } else {\n    l_str = currentValue;\n    s_str = newValue;\n  }\n\n  // assume there will be only one insert / remove and\n  // detect that _first_ edit operation only\n  while (l_idx < l_str.length) {\n\n    l_char = l_str.charAt(l_idx);\n    s_char = s_str.charAt(s_idx);\n\n    // chars no not equal\n    if (l_char !== s_char) {\n\n      if (!insert) {\n        insert = {\n          l_start: l_idx,\n          s_start: s_idx\n        };\n      }\n\n      l_idx++;\n    }\n\n    // chars equal (again?)\n    else {\n\n      if (insert && !insert.complete) {\n        insert.l_end = l_idx;\n        insert.s_end = s_idx;\n        insert.complete = true;\n      }\n\n      s_idx++;\n      l_idx++;\n    }\n  }\n\n  if (insert && !insert.complete) {\n    insert.complete = true;\n    insert.s_end = s_str.length;\n    insert.l_end = l_str.length;\n  }\n\n  // no diff\n  if (!insert) {\n    return;\n  }\n\n  if (newValue.length > currentValue.length) {\n    return {\n      newStart: insert.l_start,\n      newEnd: insert.l_end,\n      type: 'add'\n    };\n  } else {\n    return {\n      newStart: insert.s_start,\n      newEnd: insert.s_end,\n      type: newValue.length < currentValue.length ? 'remove' : 'replace'\n    };\n  }\n}\n\n/**\n * Utility method for creating a new selection range {start, end} object.\n *\n * @param {Number} start\n * @param {Number} [end]\n *\n * @return {Object} selection range as {start, end}\n */\nfunction range(start, end) {\n  return {\n    start: start,\n    end: end === undefined ? start : end\n  };\n}\n\nmodule.exports.range = range;\n\n\nfunction splitStr(str, position) {\n  return {\n    before: str.substring(0, position),\n    after: str.substring(position)\n  };\n}","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is;\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory');\r\n\r\nvar asyncCapableHelper = require('../../../../helper/AsyncCapableHelper');\r\n\r\nvar elementHelper = require('../../../../helper/ElementHelper'),\r\n    eventDefinitionHelper = require('../../../../helper/EventDefinitionHelper'),\r\n    cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\nfunction isActivitiAsync(bo) {\r\n  return asyncCapableHelper.isActivitiAsync(bo);\r\n}\r\n\r\nfunction getFailedJobRetryTimeCycle(bo) {\r\n  return asyncCapableHelper.getFailedJobRetryTimeCycle(bo);\r\n}\r\n\r\nfunction removeFailedJobRetryTimeCycle(bo, element) {\r\n  return asyncCapableHelper.removeFailedJobRetryTimeCycle(bo, element);\r\n}\r\n\r\nfunction createExtensionElements(parent, bpmnFactory) {\r\n  return elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, parent, bpmnFactory);\r\n}\r\n\r\nfunction createFailedJobRetryTimeCycle(parent, bpmnFactory, cycle) {\r\n  return elementHelper.createElement('activiti:FailedJobRetryTimeCycle', { body: cycle }, parent, bpmnFactory);\r\n}\r\n\r\nmodule.exports = function(element, bpmnFactory, options, translate) {\r\n\r\n  var getBusinessObject = options.getBusinessObject;\r\n\r\n  var idPrefix = options.idPrefix || '',\r\n      labelPrefix = options.labelPrefix || '';\r\n\r\n  var retryTimeCycleEntry = entryFactory.textField({\r\n    id: idPrefix + 'retryTimeCycle',\r\n    label: labelPrefix + translate('Retry Time Cycle'),\r\n    modelProperty: 'cycle',\r\n\r\n    get: function(element, node) {\r\n      var retryTimeCycle = getFailedJobRetryTimeCycle(getBusinessObject(element));\r\n      var value = retryTimeCycle && retryTimeCycle.get('body');\r\n      return {\r\n        cycle: value\r\n      };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var newCycle = values.cycle;\r\n      var bo = getBusinessObject(element);\r\n\r\n      if (newCycle === '' || typeof newCycle === 'undefined') {\r\n        // remove retry time cycle element(s)\r\n        return removeFailedJobRetryTimeCycle(bo, element);\r\n      }\r\n\r\n      var retryTimeCycle = getFailedJobRetryTimeCycle(bo);\r\n\r\n      if (!retryTimeCycle) {\r\n        // add new retry time cycle element\r\n        var commands = [];\r\n\r\n        var extensionElements = bo.get('extensionElements');\r\n        if (!extensionElements) {\r\n          extensionElements = createExtensionElements(bo, bpmnFactory);\r\n          commands.push(cmdHelper.updateBusinessObject(element, bo, { extensionElements: extensionElements }));\r\n        }\r\n\r\n        retryTimeCycle = createFailedJobRetryTimeCycle(extensionElements, bpmnFactory, newCycle);\r\n        commands.push(cmdHelper.addAndRemoveElementsFromList(\r\n          element,\r\n          extensionElements,\r\n          'values',\r\n          'extensionElements',\r\n          [ retryTimeCycle ],\r\n          []\r\n        ));\r\n\r\n        return commands;\r\n      }\r\n\r\n      // update existing retry time cycle element\r\n      return cmdHelper.updateBusinessObject(element, retryTimeCycle, { body: newCycle });\r\n    },\r\n\r\n    hidden: function(element) {\r\n      var bo = getBusinessObject(element);\r\n\r\n      if (bo && isActivitiAsync(bo)) {\r\n        return false;\r\n      }\r\n\r\n      if (is(element, 'bpmn:Event')) {\r\n        return !eventDefinitionHelper.getTimerEventDefinition(element);\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\n  });\r\n\r\n  return [ retryTimeCycleEntry ];\r\n\r\n};\r\n","'use strict';\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory');\r\nvar cmdHelper = require('../../../../helper/CmdHelper');\r\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\n\r\nmodule.exports = function(group, element, bpmnFactory, messageEventDefinition, translate) {\r\n  var bo = getBusinessObject(messageEventDefinition);\r\n\r\n  var correlatioKeyEntry = entryFactory.textField({\r\n    id: 'message-element-correlation-key',\r\n    label: translate('Correlation Key'),\r\n    modelProperty: 'correlationKey',\r\n\r\n    get: function(element, node) {\r\n      return {\r\n        correlationKey: bo.get('activiti:correlationKey')\r\n      };\r\n    },\r\n\r\n    set: function(element, values) {\r\n      return cmdHelper.updateBusinessObject(messageEventDefinition, bo, {\r\n        'activiti:correlationKey': values.correlationKey || undefined\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  group.entries = group.entries.concat(correlatioKeyEntry);\r\n\r\n};\r\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","module.exports = {\r\n  __depends__: [\r\n    require('./cmd'),\r\n    require('diagram-js/lib/i18n/translate').default\r\n  ],\r\n  __init__: [ 'propertiesPanel' ],\r\n  propertiesPanel: [ 'type', require('./PropertiesPanel') ]\r\n};\r\n","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    isAny = require('bpmn-js/lib/features/modeling/util/ModelingUtil').isAny,\r\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\n\r\nvar filter = require('lodash/filter');\r\n\r\nvar extensionElementsHelper = require('../../../helper/ExtensionElementsHelper'),\r\n    cmdHelper = require('../../../helper/CmdHelper'),\r\n    elementHelper = require('../../../helper/ElementHelper'),\r\n    eventDefinitionHelper = require('../../../helper/EventDefinitionHelper');\r\n\r\nvar extensionElementsEntry = require('./implementation/ExtensionElements');\r\n\r\nvar entryFactory = require('../../../factory/EntryFactory');\r\n\r\n\r\nvar inOutTypeOptions = [\r\n  {\r\n    name: 'Source',\r\n    value: 'source'\r\n  },\r\n  {\r\n    name: 'Source Expression',\r\n    value: 'sourceExpression'\r\n  },\r\n  {\r\n    name: 'All',\r\n    value: 'variables'\r\n  }\r\n];\r\n\r\n/**\r\n  * return depend on parameter 'type' activiti:in or activiti:out extension elements\r\n  */\r\nfunction getCamundaInOutMappings(element, type) {\r\n  var bo = getBusinessObject(element);\r\n\r\n  var signalEventDefinition = eventDefinitionHelper.getSignalEventDefinition(bo);\r\n\r\n  return extensionElementsHelper.getExtensionElements(signalEventDefinition || bo, type) || [];\r\n}\r\n\r\n/**\r\n  * return depend on parameter 'type' activiti:in or activiti:out extension elements\r\n  * with source or sourceExpression attribute\r\n  */\r\nfunction getVariableMappings(element, type) {\r\n  var camundaMappings = getCamundaInOutMappings(element, type);\r\n\r\n  return filter(camundaMappings, function(mapping) {\r\n    return !mapping.businessKey;\r\n  });\r\n}\r\n\r\nfunction getInOutType(mapping) {\r\n  var inOutType = 'source';\r\n\r\n  if (mapping.variables === 'all') {\r\n    inOutType = 'variables';\r\n  }\r\n  else if (typeof mapping.source !== 'undefined') {\r\n    inOutType = 'source';\r\n  }\r\n  else if (typeof mapping.sourceExpression !== 'undefined') {\r\n    inOutType = 'sourceExpression';\r\n  }\r\n\r\n  return inOutType;\r\n}\r\n\r\nvar ACTIVITI_IN_EXTENSION_ELEMENT = 'activiti:In',\r\n    ACTIVITI_OUT_EXTENSION_ELEMENT = 'activiti:Out';\r\n\r\nvar WHITESPACE_REGEX = /\\s/;\r\n\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n  var signalEventDefinition = eventDefinitionHelper.getSignalEventDefinition(element);\r\n\r\n  if (!is(element, 'activiti:CallActivity') && !signalEventDefinition) {\r\n    return;\r\n  }\r\n\r\n  if (signalEventDefinition && !(isAny(element, [\r\n    'bpmn:IntermediateThrowEvent',\r\n    'bpmn:EndEvent'\r\n  ]))) {\r\n    return;\r\n  }\r\n\r\n  var isSelected = function(element, node) {\r\n    return !!getSelected(element, node);\r\n  };\r\n\r\n  var getSelected = function(element, node) {\r\n    var parentNode = node.parentNode;\r\n    var selection = inEntry.getSelected(element, parentNode);\r\n\r\n    var parameter = getVariableMappings(element, ACTIVITI_IN_EXTENSION_ELEMENT)[selection.idx];\r\n\r\n    if (!parameter && outEntry) {\r\n      selection = outEntry.getSelected(element, parentNode);\r\n      parameter = getVariableMappings(element, ACTIVITI_OUT_EXTENSION_ELEMENT)[selection.idx];\r\n    }\r\n\r\n    return parameter;\r\n  };\r\n\r\n  var setOptionLabelValue = function(type) {\r\n    return function(element, node, option, property, value, idx) {\r\n      var variableMappings = getVariableMappings(element, type);\r\n      var mappingValue = variableMappings[idx];\r\n      var label = (mappingValue.target || '<undefined>') + ' := ';\r\n      var mappingType = getInOutType(mappingValue);\r\n\r\n      if (mappingType === 'variables') {\r\n        label = 'all';\r\n      }\r\n      else if (mappingType === 'source') {\r\n        label = label + (mappingValue.source || '<empty>');\r\n      }\r\n      else if (mappingType === 'sourceExpression') {\r\n        label = label + (mappingValue.sourceExpression || '<empty>');\r\n      } else {\r\n        label = label + '<empty>';\r\n      }\r\n\r\n      option.text = label;\r\n    };\r\n  };\r\n\r\n  var newElement = function(type) {\r\n    return function(element, extensionElements, value) {\r\n      var newElem = elementHelper.createElement(type, { source: '' }, extensionElements, bpmnFactory);\r\n\r\n      return cmdHelper.addElementsTolist(element, extensionElements, 'values', [ newElem ]);\r\n    };\r\n  };\r\n\r\n  var removeElement = function(type) {\r\n    return function(element, extensionElements, value, idx) {\r\n      var variablesMappings= getVariableMappings(element, type);\r\n      var mapping = variablesMappings[idx];\r\n\r\n      if (mapping) {\r\n        return extensionElementsHelper\r\n          .removeEntry(signalEventDefinition || getBusinessObject(element), element, mapping);\r\n      }\r\n    };\r\n  };\r\n\r\n  // in mapping for source and sourceExpression ///////////////////////////////////////////////////////////////\r\n\r\n  var inEntry = extensionElementsEntry(element, bpmnFactory, {\r\n    id: 'variableMapping-in',\r\n    label: translate('In Mapping'),\r\n    modelProperty: 'source',\r\n    prefix: 'In',\r\n    idGeneration: false,\r\n    resizable: true,\r\n    businessObject: signalEventDefinition || getBusinessObject(element),\r\n\r\n    createExtensionElement: newElement(ACTIVITI_IN_EXTENSION_ELEMENT),\r\n    removeExtensionElement: removeElement(ACTIVITI_IN_EXTENSION_ELEMENT),\r\n\r\n    getExtensionElements: function(element) {\r\n      return getVariableMappings(element, ACTIVITI_IN_EXTENSION_ELEMENT);\r\n    },\r\n\r\n    onSelectionChange: function(element, node, event, scope) {\r\n      outEntry && outEntry.deselect(element, node.parentNode);\r\n    },\r\n\r\n    setOptionLabelValue: setOptionLabelValue(ACTIVITI_IN_EXTENSION_ELEMENT)\r\n  });\r\n  group.entries.push(inEntry);\r\n\r\n  // out mapping for source and sourceExpression ///////////////////////////////////////////////////////\r\n\r\n  if (!signalEventDefinition) {\r\n    var outEntry = extensionElementsEntry(element, bpmnFactory, {\r\n      id: 'variableMapping-out',\r\n      label: translate('Out Mapping'),\r\n      modelProperty: 'source',\r\n      prefix: 'Out',\r\n      idGeneration: false,\r\n      resizable: true,\r\n\r\n      createExtensionElement: newElement(ACTIVITI_OUT_EXTENSION_ELEMENT),\r\n      removeExtensionElement: removeElement(ACTIVITI_OUT_EXTENSION_ELEMENT),\r\n\r\n      getExtensionElements: function(element) {\r\n        return getVariableMappings(element, ACTIVITI_OUT_EXTENSION_ELEMENT);\r\n      },\r\n\r\n      onSelectionChange: function(element, node, event, scope) {\r\n        inEntry.deselect(element, node.parentNode);\r\n      },\r\n\r\n      setOptionLabelValue: setOptionLabelValue(ACTIVITI_OUT_EXTENSION_ELEMENT)\r\n    });\r\n    group.entries.push(outEntry);\r\n  }\r\n\r\n  // label for selected mapping ///////////////////////////////////////////////////////\r\n\r\n  group.entries.push(entryFactory.label({\r\n    id: 'variableMapping-typeLabel',\r\n    get: function(element, node) {\r\n      var mapping = getSelected(element, node);\r\n\r\n      var value = '';\r\n      if (is(mapping, ACTIVITI_IN_EXTENSION_ELEMENT)) {\r\n        value = translate('In Mapping');\r\n      }\r\n      else if (is(mapping, ACTIVITI_OUT_EXTENSION_ELEMENT)) {\r\n        value = translate('Out Mapping');\r\n      }\r\n\r\n      return {\r\n        label: value\r\n      };\r\n    },\r\n\r\n    showLabel: function(element, node) {\r\n      return isSelected(element, node);\r\n    }\r\n  }));\r\n\r\n\r\n  group.entries.push(entryFactory.selectBox({\r\n    id: 'variableMapping-inOutType',\r\n    label: translate('Type'),\r\n    selectOptions: inOutTypeOptions,\r\n    modelProperty: 'inOutType',\r\n    get: function(element, node) {\r\n      var mapping = getSelected(element, node) || {};\r\n      return {\r\n        inOutType: getInOutType(mapping)\r\n      };\r\n    },\r\n    set: function(element, values, node) {\r\n      var inOutType = values.inOutType;\r\n\r\n      var props = {\r\n        'source' : undefined,\r\n        'sourceExpression' : undefined,\r\n        'variables' : undefined\r\n      };\r\n\r\n      if (inOutType === 'source') {\r\n        props.source = '';\r\n      }\r\n      else if (inOutType === 'sourceExpression') {\r\n        props.sourceExpression = '';\r\n      }\r\n      else if (inOutType === 'variables') {\r\n        props.variables = 'all';\r\n        props.target = undefined;\r\n      }\r\n\r\n      var mapping = getSelected(element, node);\r\n      return cmdHelper.updateBusinessObject(element, mapping, props);\r\n    },\r\n    hidden: function(element, node) {\r\n      return !isSelected(element, node);\r\n    }\r\n\r\n  }));\r\n\r\n\r\n  group.entries.push(entryFactory.textField({\r\n    id: 'variableMapping-source',\r\n    dataValueLabel: 'sourceLabel',\r\n    modelProperty: 'source',\r\n    get: function(element, node) {\r\n      var mapping = getSelected(element, node) || {};\r\n\r\n      var label = '';\r\n      var inOutType = getInOutType(mapping);\r\n      if (inOutType === 'source') {\r\n        label = 'Source';\r\n      }\r\n      else if (inOutType === 'sourceExpression') {\r\n        label = 'Source Expression';\r\n      }\r\n\r\n      return {\r\n        source: mapping[inOutType],\r\n        sourceLabel: label\r\n      };\r\n    },\r\n    set: function(element, values, node) {\r\n      values.source = values.source || undefined;\r\n\r\n      var mapping = getSelected(element, node);\r\n      var inOutType = getInOutType(mapping);\r\n\r\n      var props = {};\r\n      props[inOutType] = values.source || '';\r\n\r\n      return cmdHelper.updateBusinessObject(element, mapping, props);\r\n    },\r\n    // one of both (source or sourceExpression) must have a value to make\r\n    // the configuration easier and more understandable\r\n    // it is not engine conform\r\n    validate: function(element, values, node) {\r\n      var mapping = getSelected(element, node);\r\n\r\n      var validation = {};\r\n      if (mapping) {\r\n        if (!values.source) {\r\n          validation.source =\r\n            'Mapping must have a ' + (values.sourceLabel.toLowerCase() || 'value');\r\n        }\r\n\r\n        var inOutType = getInOutType(mapping);\r\n\r\n        if (WHITESPACE_REGEX.test(values.source) && inOutType !== 'sourceExpression') {\r\n          validation.source = values.sourceLabel + ' must not contain whitespace';\r\n        }\r\n      }\r\n\r\n      return validation;\r\n    },\r\n    hidden: function(element, node) {\r\n      var selectedMapping = getSelected(element, node);\r\n      return !selectedMapping || (selectedMapping && selectedMapping.variables);\r\n    }\r\n  }));\r\n\r\n\r\n  group.entries.push(entryFactory.textField({\r\n    id: 'variableMapping-target',\r\n    label: translate('Target'),\r\n    modelProperty: 'target',\r\n    get: function(element, node) {\r\n      return {\r\n        target: (getSelected(element, node) || {}).target\r\n      };\r\n    },\r\n    set: function(element, values, node) {\r\n      values.target = values.target || undefined;\r\n      var mapping = getSelected(element, node);\r\n      return cmdHelper.updateBusinessObject(element, mapping, values);\r\n    },\r\n    validate: function(element, values, node) {\r\n      var mapping = getSelected(element, node);\r\n\r\n      var validation = {};\r\n      if (mapping) {\r\n        var mappingType = getInOutType(mapping);\r\n\r\n        if (!values.target && mappingType !== 'variables') {\r\n          validation.target = 'Mapping must have a target';\r\n        }\r\n\r\n        if (values.target\r\n          && WHITESPACE_REGEX.test(values.target)\r\n          && mappingType !== 'variables') {\r\n          validation.target = 'Target must not contain whitespace';\r\n        }\r\n      }\r\n\r\n      return validation;\r\n    },\r\n    hidden: function(element, node) {\r\n      var selectedMapping = getSelected(element, node);\r\n      return !selectedMapping || (selectedMapping && selectedMapping.variables);\r\n    }\r\n  }));\r\n\r\n\r\n  group.entries.push(entryFactory.checkbox({\r\n    id: 'variableMapping-local',\r\n    label: translate('Local'),\r\n    modelProperty: 'local',\r\n    get: function(element, node) {\r\n      return {\r\n        local: (getSelected(element, node) || {}).local\r\n      };\r\n    },\r\n    set: function(element, values, node) {\r\n      values.local = values.local || false;\r\n      var mapping = getSelected(element, node);\r\n      return cmdHelper.updateBusinessObject(element, mapping, values);\r\n    },\r\n    hidden: function(element, node) {\r\n      return !isSelected(element, node);\r\n    }\r\n  }));\r\n\r\n};\r\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","'use strict';\r\n\r\nvar forEach = require('lodash/forEach');\r\n\r\nvar HANDLERS = {\r\n  'properties-panel.update-businessobject': require('./UpdateBusinessObjectHandler'),\r\n  'properties-panel.create-and-reference': require('./CreateAndReferenceHandler'),\r\n  'properties-panel.create-businessobject-list': require('./CreateBusinessObjectListHandler'),\r\n  'properties-panel.update-businessobject-list': require('./UpdateBusinessObjectListHandler'),\r\n  'properties-panel.multi-command-executor': require('./MultiCommandHandler')\r\n};\r\n\r\n\r\nfunction CommandInitializer(eventBus, commandStack) {\r\n\r\n  eventBus.on('diagram.init', function() {\r\n    forEach(HANDLERS, function(handler, id) {\r\n      commandStack.registerHandler(id, handler);\r\n    });\r\n  });\r\n}\r\n\r\nCommandInitializer.$inject = [ 'eventBus', 'commandStack' ];\r\n\r\nmodule.exports = {\r\n  __init__: [ CommandInitializer ]\r\n};","'use strict';\r\n\r\nvar inputOutput = require('./implementation/InputOutput');\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n\r\n  var inputOutputEntry = inputOutput(element, bpmnFactory, {}, translate);\r\n\r\n  group.entries = group.entries.concat(inputOutputEntry.entries);\r\n\r\n  return {\r\n    getSelectedParameter: inputOutputEntry.getSelectedParameter\r\n  };\r\n\r\n};\r\n","'use strict';\r\n\r\nvar MARKDOWN_LINK_REGEX = /\\[([^)]+)\\]\\(([^\\]]+)\\)/g;\r\n\r\n/**\r\n * Replace MarkDown Link Syntax with HTML Link Syntax\r\n * [myLink](http://www.myLink.de) -> <a href=http://www.myLink.de>myLink</a>\r\n *\r\n * @param {String} value\r\n *\r\n * @return {String}\r\n */\r\nfunction linkify(text) {\r\n  return text.replace(MARKDOWN_LINK_REGEX, '<a href=\"$2\" target=\"_blank\">$1</a>');\r\n}\r\n\r\nmodule.exports = function entryFieldDescription(description) {\r\n  description = linkify(description);\r\n\r\n  return '<div class=\"bpp-field-description\">' + description + '</div>';\r\n};\r\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\n\r\nvar extensionElementsEntry = require('./ExtensionElements'),\r\n    extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper'),\r\n    cmdHelper = require('../../../../helper/CmdHelper'),\r\n    elementHelper = require('../../../../helper/ElementHelper'),\r\n    ImplementationTypeHelper = require('../../../../helper/ImplementationTypeHelper');\r\n\r\n\r\nfunction getListeners(bo, type) {\r\n  return bo && extensionElementsHelper.getExtensionElements(bo, type) || [];\r\n}\r\n\r\nvar ACTIVITI_EXECUTION_LISTENER_ELEMENT = 'activiti:ExecutionListener';\r\nvar ACTIVITI_TASK_LISTENER_ELEMENT = 'activiti:TaskListener';\r\n\r\nmodule.exports = function(element, bpmnFactory, options, translate) {\r\n\r\n  var LISTENER_TYPE_LABEL = {\r\n    class: translate('Java Class'),\r\n    expression: translate('Expression'),\r\n    delegateExpression: translate('Delegate Expression'),\r\n    script: translate('Script')\r\n  };\r\n\r\n  var bo;\r\n\r\n  var result = {\r\n    getSelectedListener: getSelectedListener\r\n  };\r\n\r\n  var entries = result.entries = [];\r\n\r\n  var isSequenceFlow = ImplementationTypeHelper.isSequenceFlow(element);\r\n\r\n  function getSelectedListener(element, node) {\r\n    var selection = (executionListenerEntry && executionListenerEntry.getSelected(element, node)) || { idx: -1 };\r\n\r\n    var listener = getListeners(bo, ACTIVITI_EXECUTION_LISTENER_ELEMENT)[selection.idx];\r\n    if (!listener && taskListenerEntry) {\r\n      selection = taskListenerEntry.getSelected(element, node);\r\n      listener = getListeners(bo, ACTIVITI_TASK_LISTENER_ELEMENT)[selection.idx];\r\n    }\r\n    return listener;\r\n  }\r\n\r\n  var setOptionLabelValue = function(type) {\r\n    return function(element, node, option, property, value, idx) {\r\n      var listeners = getListeners(bo, type);\r\n      var listener = listeners[idx];\r\n      var listenerType = ImplementationTypeHelper.getImplementationType(listener);\r\n\r\n      var event = (listener.get('event')) ? listener.get('event') : '<empty>';\r\n\r\n      var label = (event || '*') + ' : ' + (LISTENER_TYPE_LABEL[listenerType] || '');\r\n\r\n      option.text = label;\r\n    };\r\n  };\r\n\r\n  var newElement = function(element, type, initialEvent) {\r\n    return function(element, extensionElements, value) {\r\n      var props = {\r\n        event: initialEvent,\r\n        class: ''\r\n      };\r\n\r\n      var newElem = elementHelper.createElement(type, props, extensionElements, bpmnFactory);\r\n\r\n      return cmdHelper.addElementsTolist(element, extensionElements, 'values', [ newElem ]);\r\n    };\r\n  };\r\n\r\n  var removeElement = function(element, type) {\r\n    return function(element, extensionElements, value, idx) {\r\n      var listeners = getListeners(bo, type);\r\n      var listener = listeners[idx];\r\n      if (listener) {\r\n        return extensionElementsHelper.removeEntry(bo, element, listener);\r\n      }\r\n    };\r\n  };\r\n\r\n\r\n  // Execution Listener\r\n\r\n  if (is(element, 'bpmn:FlowElement') || is(element, 'bpmn:Process') || is(element, 'bpmn:Participant')) {\r\n    bo = getBusinessObject(element);\r\n    if (is(element, 'bpmn:Participant')) {\r\n      element = element.processRef;\r\n      bo = bo.get('processRef');\r\n    }\r\n\r\n    if (bo) {\r\n\r\n      var executionListenerEntry = extensionElementsEntry(element, bpmnFactory, {\r\n        id : 'executionListeners',\r\n        label : translate('Execution Listener'),\r\n        modelProperty: 'name',\r\n        idGeneration: 'false',\r\n        reference: 'processRef',\r\n\r\n        createExtensionElement: newElement(element, ACTIVITI_EXECUTION_LISTENER_ELEMENT, (isSequenceFlow) ? 'take' : 'start'),\r\n        removeExtensionElement: removeElement(element, ACTIVITI_EXECUTION_LISTENER_ELEMENT),\r\n\r\n        getExtensionElements: function(element) {\r\n          return getListeners(bo, ACTIVITI_EXECUTION_LISTENER_ELEMENT);\r\n        },\r\n\r\n        onSelectionChange: function(element, node, event, scope) {\r\n          taskListenerEntry && taskListenerEntry.deselect(element, node);\r\n        },\r\n\r\n        setOptionLabelValue: setOptionLabelValue(ACTIVITI_EXECUTION_LISTENER_ELEMENT)\r\n\r\n      });\r\n      entries.push(executionListenerEntry);\r\n\r\n    }\r\n  }\r\n\r\n\r\n  // Task Listener\r\n\r\n  if (is(element, 'bpmn:UserTask')) {\r\n    bo = getBusinessObject(element);\r\n\r\n    var taskListenerEntry = extensionElementsEntry(element, bpmnFactory, {\r\n      id : 'taskListeners',\r\n      label : translate('Task Listener'),\r\n      modelProperty: 'name',\r\n      idGeneration: 'false',\r\n\r\n      createExtensionElement: newElement(element, ACTIVITI_TASK_LISTENER_ELEMENT, 'create'),\r\n      removeExtensionElement: removeElement(element, ACTIVITI_TASK_LISTENER_ELEMENT),\r\n\r\n      getExtensionElements: function(element) {\r\n        return getListeners(bo, ACTIVITI_TASK_LISTENER_ELEMENT);\r\n      },\r\n\r\n      onSelectionChange: function(element, node, event, scope) {\r\n        executionListenerEntry.deselect(element, node);\r\n      },\r\n\r\n      setOptionLabelValue: setOptionLabelValue(ACTIVITI_TASK_LISTENER_ELEMENT)\r\n\r\n    });\r\n    entries.push(taskListenerEntry);\r\n  }\r\n\r\n  return result;\r\n\r\n};\r\n","'use strict';\r\n\r\nvar listener = require('./implementation/Listener');\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n\r\n  var listenerEntry = listener(element, bpmnFactory, {}, translate);\r\n\r\n  group.entries = group.entries.concat(listenerEntry.entries);\r\n\r\n  return {\r\n    getSelectedListener: listenerEntry.getSelectedListener\r\n  };\r\n\r\n};\r\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the optional `this`\n * binding of `thisArg`.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createBind(func, bitmask, thisArg) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return fn.apply(isBind ? thisArg : this, arguments);\n  }\n  return wrapper;\n}\n\nmodule.exports = createBind;\n","'use strict';\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory'),\r\n    cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\nvar eventDefinitionReference = require('./EventDefinitionReference'),\r\n    elementReferenceProperty = require('./ElementReferenceProperty');\r\n\r\n\r\nmodule.exports = function(group, element, bpmnFactory, errorEventDefinition, showErrorCodeVariable,\r\n    showErrorMessageVariable) {\r\n\r\n\r\n  var getValue = function(modelProperty) {\r\n    return function(element) {\r\n      var modelPropertyValue = errorEventDefinition.get('activiti:' + modelProperty);\r\n      var value = {};\r\n\r\n      value[modelProperty] = modelPropertyValue;\r\n      return value;\r\n    };\r\n  };\r\n\r\n  var setValue = function(modelProperty) {\r\n    return function(element, values) {\r\n      var props = {};\r\n\r\n      props['activiti:' + modelProperty] = values[modelProperty] || undefined;\r\n\r\n      return cmdHelper.updateBusinessObject(element, errorEventDefinition, props);\r\n    };\r\n  };\r\n\r\n\r\n  group.entries = group.entries.concat(eventDefinitionReference(element, errorEventDefinition, bpmnFactory, {\r\n    label: 'Error',\r\n    elementName: 'error',\r\n    elementType: 'bpmn:Error',\r\n    referenceProperty: 'errorRef',\r\n    newElementIdPrefix: 'Error_'\r\n  }));\r\n\r\n\r\n  group.entries = group.entries.concat(elementReferenceProperty(element, errorEventDefinition, bpmnFactory, {\r\n    id: 'error-element-name',\r\n    label: 'Error Name',\r\n    referenceProperty: 'errorRef',\r\n    modelProperty: 'name',\r\n    shouldValidate: true\r\n  }));\r\n\r\n\r\n  group.entries = group.entries.concat(elementReferenceProperty(element, errorEventDefinition, bpmnFactory, {\r\n    id: 'error-element-code',\r\n    label: 'Error Code',\r\n    referenceProperty: 'errorRef',\r\n    modelProperty: 'errorCode'\r\n  }));\r\n\r\n\r\n  if (showErrorCodeVariable) {\r\n    group.entries.push(entryFactory.textField({\r\n      id : 'errorCodeVariable',\r\n      label : 'Error Code Variable',\r\n      modelProperty : 'errorCodeVariable',\r\n\r\n      get: getValue('errorCodeVariable'),\r\n      set: setValue('errorCodeVariable')\r\n    }));\r\n  }\r\n\r\n  if (showErrorMessageVariable) {\r\n    group.entries.push(entryFactory.textField({\r\n      id : 'errorMessageVariable',\r\n      label : 'Error Message Variable',\r\n      modelProperty : 'errorMessageVariable',\r\n\r\n      get: getValue('errorMessageVariable'),\r\n      set: setValue('errorMessageVariable')\r\n    }));\r\n  }\r\n\r\n};\r\n","'use strict';\r\n\r\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\r\n    cmdHelper = require('../helper/CmdHelper');\r\n\r\nvar entryFieldDescription = require('./EntryFieldDescription');\r\n\r\n\r\nvar checkbox = function(options, defaultParameters) {\r\n  var resource = defaultParameters,\r\n      label = options.label || resource.id,\r\n      canBeDisabled = !!options.disabled && typeof options.disabled === 'function',\r\n      canBeHidden = !!options.hidden && typeof options.hidden === 'function',\r\n      description = options.description;\r\n\r\n  resource.html =\r\n    '<input id=\"camunda-' + resource.id + '\" ' +\r\n         'type=\"checkbox\" ' +\r\n         'name=\"' + options.modelProperty + '\" ' +\r\n         (canBeDisabled ? 'data-disable=\"isDisabled\"' : '') +\r\n         (canBeHidden ? 'data-show=\"isHidden\"' : '') +\r\n         ' />' +\r\n    '<label for=\"camunda-' + resource.id + '\" ' +\r\n         (canBeDisabled ? 'data-disable=\"isDisabled\"' : '') +\r\n         (canBeHidden ? 'data-show=\"isHidden\"' : '') +\r\n         '>' + label + '</label>';\r\n\r\n  // add description below checkbox entry field\r\n  if (description) {\r\n    resource.html += entryFieldDescription(description);\r\n  }\r\n\r\n  resource.get = function(element) {\r\n    var bo = getBusinessObject(element),\r\n        res = {};\r\n\r\n    res[options.modelProperty] = bo.get(options.modelProperty);\r\n\r\n    return res;\r\n  };\r\n\r\n  resource.set = function(element, values) {\r\n    var res = {};\r\n\r\n    res[options.modelProperty] = !!values[options.modelProperty];\r\n\r\n    return cmdHelper.updateProperties(element, res);\r\n  };\r\n\r\n  if (typeof options.set === 'function') {\r\n    resource.set = options.set;\r\n  }\r\n\r\n  if (typeof options.get === 'function') {\r\n    resource.get = options.get;\r\n  }\r\n\r\n  if (canBeDisabled) {\r\n    resource.isDisabled = function() {\r\n      return options.disabled.apply(resource, arguments);\r\n    };\r\n  }\r\n\r\n  if (canBeHidden) {\r\n    resource.isHidden = function() {\r\n      return !options.hidden.apply(resource, arguments);\r\n    };\r\n  }\r\n\r\n  resource.cssClasses = ['bpp-checkbox'];\r\n\r\n  return resource;\r\n};\r\n\r\nmodule.exports = checkbox;\r\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    eventDefinitionHelper = require('../../../helper/EventDefinitionHelper'),\r\n    signalEventDefinitionScope = require('./implementation/SignalEventDefinitionScope');\r\n\r\nvar forEach = require('lodash/forEach');\r\n\r\nmodule.exports = function(group, element, bpmnFactory, elementRegistry, translate) {\r\n  var events = [\r\n    'bpmn:IntermediateThrowEvent',\r\n    'bpmn:BoundaryEvent',\r\n    'bpmn:IntermediateCatchEvent'\r\n  ];\r\n\r\n  // Signal Event Definition\r\n  forEach(events, function(event) {\r\n    if (is(element, event)) {\r\n      var signalEventDefinition = eventDefinitionHelper.getSignalEventDefinition(element);\r\n\r\n      if (signalEventDefinition) {\r\n        signalEventDefinitionScope(group, element, bpmnFactory, signalEventDefinition, translate);\r\n      }\r\n    }\r\n  });\r\n\r\n};","'use strict';\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory');\r\n\r\nvar cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\nmodule.exports = function(element, bpmnFactory, options, translate) {\r\n\r\n  var getBusinessObject = options.getBusinessObject;\r\n\r\n  var isStartableInTasklistEntry = entryFactory.checkbox({\r\n    id: 'isStartableInTasklist',\r\n    label: translate('Startable'),\r\n    modelProperty: 'isStartableInTasklist',\r\n\r\n    get: function(element, node) {\r\n      var bo = getBusinessObject(element);\r\n      var isStartableInTasklist = bo.get('activiti:isStartableInTasklist');\r\n\r\n      return {\r\n        isStartableInTasklist: isStartableInTasklist ? isStartableInTasklist : ''\r\n      };\r\n    },\r\n\r\n    set: function(element, values) {\r\n      var bo = getBusinessObject(element);\r\n      return cmdHelper.updateBusinessObject(element, bo, {\r\n        'activiti:isStartableInTasklist': !!values.isStartableInTasklist\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return [\r\n    isStartableInTasklistEntry\r\n  ];\r\n};\r\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\n\r\nvar candidateStarter = require('./implementation/CandidateStarter');\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n  var businessObject = getBusinessObject(element);\r\n\r\n  if (is(element, 'activiti:Process') ||\r\n      is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\r\n\r\n    group.entries = group.entries.concat(candidateStarter(element, bpmnFactory, {\r\n      getBusinessObject: function(element) {\r\n        var bo = getBusinessObject(element);\r\n\r\n        if (!is(bo, 'bpmn:Participant')) {\r\n          return bo;\r\n        }\r\n\r\n        return bo.get('processRef');\r\n      }\r\n    }, translate));\r\n\r\n  }\r\n};\r\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = filter;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    entryFactory = require('../../../factory/EntryFactory'),\r\n    participantHelper = require('../../../helper/ParticipantHelper'),\r\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\r\n    nameEntryFactory = require('./implementation/Name'),\r\n    utils = require('../../../Utils');\r\n\r\nmodule.exports = function(group, element, translate, options) {\r\n  var businessObject = getBusinessObject(element);\r\n\r\n  var processIdDescription = options && options.processIdDescription;\r\n\r\n  if (is(element, 'bpmn:Process') || (is(element, 'bpmn:Participant') && businessObject.get('processRef'))) {\r\n\r\n    /**\r\n     * processId\r\n     */\r\n    if (is(element, 'bpmn:Participant')) {\r\n      var idEntry = entryFactory.validationAwareTextField({\r\n        id: 'process-id',\r\n        label: translate('Process Id'),\r\n        description: processIdDescription && translate(processIdDescription),\r\n        modelProperty: 'processId'\r\n      });\r\n\r\n      // in participants we have to change the default behavior of set and get\r\n      idEntry.get = function(element) {\r\n        var properties = participantHelper.getProcessBusinessObject(element, 'id');\r\n        return { processId: properties.id };\r\n      };\r\n\r\n      idEntry.set = function(element, values) {\r\n        return participantHelper.modifyProcessBusinessObject(element, 'id', { id: values.processId });\r\n      };\r\n\r\n      idEntry.validate = function(element, values) {\r\n        var idValue = values.processId;\r\n\r\n        var bo = getBusinessObject(element);\r\n\r\n        var processIdError = utils.isIdValid(bo.processRef, idValue);\r\n\r\n        return processIdError ? { processId: processIdError } : {};\r\n      };\r\n\r\n      group.entries.push(idEntry);\r\n\r\n\r\n      /**\r\n       * process name\r\n       */\r\n      var processNameEntry = nameEntryFactory(element, {\r\n        id: 'process-name',\r\n        label: translate('Process Name')\r\n      })[0];\r\n\r\n      // in participants we have to change the default behavior of set and get\r\n      processNameEntry.get = function(element) {\r\n        return participantHelper.getProcessBusinessObject(element, 'name');\r\n      };\r\n\r\n      processNameEntry.set = function(element, values) {\r\n        return participantHelper.modifyProcessBusinessObject(element, 'name', values);\r\n      };\r\n\r\n      group.entries.push(processNameEntry);\r\n    }\r\n  }\r\n};\r\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\n\r\nvar jobPriority = require('./implementation/JobPriority'),\r\n    jobRetryTimeCycle = require('./implementation/JobRetryTimeCycle');\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n  var businessObject = getBusinessObject(element);\r\n\r\n  if (is(element, 'activiti:JobPriorized') ||\r\n      is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\r\n\r\n    group.entries = group.entries.concat(jobPriority(element, bpmnFactory, {\r\n      getBusinessObject: function(element) {\r\n        var bo = getBusinessObject(element);\r\n\r\n        if (!is(bo, 'bpmn:Participant')) {\r\n          return bo;\r\n        }\r\n\r\n        return bo.get('processRef');\r\n      }\r\n    }, translate));\r\n  }\r\n\r\n  if (is(element, 'activiti:AsyncCapable')) {\r\n    group.entries = group.entries.concat(jobRetryTimeCycle(element, bpmnFactory, {\r\n      getBusinessObject: getBusinessObject\r\n    }, translate));\r\n  }\r\n\r\n};\r\n","'use strict';\r\n\r\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\r\n    getExtensionElements = require('./ExtensionElementsHelper').getExtensionElements;\r\n\r\nvar FormHelper = {};\r\n\r\nmodule.exports = FormHelper;\r\n\r\n/**\r\n * Return form data from business object or undefined if none exist\r\n *\r\n * @param  {djs.model.Base} element\r\n *\r\n * @return {ModdleElement|undefined} formData\r\n */\r\nFormHelper.getFormData = function(element) {\r\n  var bo = getBusinessObject(element);\r\n\r\n  var formData = getExtensionElements(bo, 'activiti:FormData');\r\n\r\n  if (typeof formData !== 'undefined') {\r\n    return formData[0];\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Return all form fields existing in the business object, and\r\n * an empty array if none exist.\r\n *\r\n * @param  {djs.model.Base} element\r\n *\r\n * @return {Array} a list of form field objects\r\n */\r\nFormHelper.getFormFields = function(element) {\r\n  var formData = this.getFormData(element);\r\n\r\n  if (typeof formData === 'undefined') {\r\n    return [];\r\n  }\r\n\r\n  return formData.fields || [];\r\n};\r\n\r\n\r\n/**\r\n * Get a form field from the business object at given index\r\n *\r\n * @param {djs.model.Base} element\r\n * @param {number} idx\r\n *\r\n * @return {ModdleElement} the form field\r\n */\r\nFormHelper.getFormField = function(element, idx) {\r\n\r\n  var formFields = this.getFormFields(element);\r\n\r\n  return formFields[idx];\r\n};\r\n\r\n\r\n/**\r\n * Get all constraints for a specific form field from the business object\r\n *\r\n * @param  {ModdleElement} formField\r\n *\r\n * @return {Array<ModdleElement>} a list of constraint objects\r\n */\r\nFormHelper.getConstraints = function(formField) {\r\n  if (formField && formField.validation && formField.validation.constraints) {\r\n    return formField.validation.constraints;\r\n  }\r\n  return [];\r\n};\r\n\r\n\r\n/**\r\n * Get all activiti:value objects for a specific form field from the business object\r\n *\r\n * @param  {ModdleElement} formField\r\n *\r\n * @return {Array<ModdleElement>} a list of activiti:value objects\r\n */\r\nFormHelper.getEnumValues = function(formField) {\r\n  if (formField && formField.values) {\r\n    return formField.values;\r\n  }\r\n  return [];\r\n};\r\n\r\n","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n","var baseFlatten = require('./_baseFlatten');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Recursively flattens `array`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flattenDeep([1, [2, [3, [4]], 5]]);\n * // => [1, 2, 3, 4, 5]\n */\nfunction flattenDeep(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, INFINITY) : [];\n}\n\nmodule.exports = flattenDeep;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","'use strict';\r\n\r\nvar entryFactory = require('../../../factory/EntryFactory'),\r\n    cmdHelper = require('../../../helper/CmdHelper'),\r\n    is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\n\r\nmodule.exports = function(group, element, translate) {\r\n\r\n  var bo = getBusinessObject(element);\r\n\r\n  if (!bo) {\r\n    return;\r\n  }\r\n\r\n  if (is(element, 'bpmn:Process') || is(element, 'bpmn:Participant') && bo.get('processRef')) {\r\n    var versionTagEntry = entryFactory.textField({\r\n      id: 'versionTag',\r\n      label: translate('Version Tag'),\r\n      modelProperty: 'versionTag'\r\n    });\r\n\r\n    // in participants we have to change the default behavior of set and get\r\n    if (is(element, 'bpmn:Participant')) {\r\n      versionTagEntry.get = function(element) {\r\n        var processBo = bo.get('processRef');\r\n\r\n        return {\r\n          versionTag: processBo.get('activiti:versionTag')\r\n        };\r\n      };\r\n\r\n      versionTagEntry.set = function(element, values) {\r\n        var processBo = bo.get('processRef');\r\n\r\n        return cmdHelper.updateBusinessObject(element, processBo, {\r\n          'activiti:versionTag': values.versionTag || undefined\r\n        });\r\n      };\r\n    }\r\n\r\n    group.entries.push(versionTagEntry);\r\n\r\n  }\r\n};\r\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","'use strict';\r\n\r\nvar ChangeElementTemplateHandler = require('./ChangeElementTemplateHandler');\r\n\r\nvar getTemplate = require('../Helper').getTemplate,\r\n    getDefaultTemplate = require('../Helper').getDefaultTemplate;\r\n\r\nfunction registerHandlers(commandStack, elementTemplates, eventBus, elementRegistry) {\r\n  commandStack.registerHandler(\r\n    'propertiesPanel.camunda.changeTemplate',\r\n    ChangeElementTemplateHandler\r\n  );\r\n\r\n  // apply default element templates on shape creation\r\n  eventBus.on([ 'commandStack.shape.create.postExecuted' ], function(context) {\r\n    applyDefaultTemplate(context.context.shape, elementTemplates, commandStack);\r\n  });\r\n\r\n  // apply default element templates on connection creation\r\n  eventBus.on([ 'commandStack.connection.create.postExecuted' ], function(context) {\r\n    applyDefaultTemplate(context.context.connection, elementTemplates, commandStack);\r\n  });\r\n}\r\n\r\nregisterHandlers.$inject = [ 'commandStack', 'elementTemplates', 'eventBus', 'elementRegistry' ];\r\n\r\n\r\nmodule.exports = {\r\n  __init__: [ registerHandlers ]\r\n};\r\n\r\n\r\nfunction applyDefaultTemplate(element, elementTemplates, commandStack) {\r\n\r\n  if (!getTemplate(element, elementTemplates)\r\n      && getDefaultTemplate(element, elementTemplates)) {\r\n\r\n    var command = 'propertiesPanel.camunda.changeTemplate';\r\n    var commandContext = {\r\n      element: element,\r\n      newTemplate: getDefaultTemplate(element, elementTemplates)\r\n    };\r\n\r\n    commandStack.execute(command, commandContext);\r\n  }\r\n}\r\n","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./New2.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./New2.vue?vue&type=style&index=0&lang=scss&\"","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","'use strict';\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory');\r\n\r\nvar cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\nmodule.exports = function(element, bpmnFactory, options, translate) {\r\n\r\n  var getBusinessObject = options.getBusinessObject;\r\n\r\n  var candidateStarterGroupsEntry = entryFactory.textField({\r\n    id: 'candidateStarterGroups',\r\n    label: translate('Candidate Starter Groups'),\r\n    modelProperty: 'candidateStarterGroups',\r\n    description: 'Specify more than one group as a comma separated list.',\r\n\r\n    get: function(element, node) {\r\n      var bo = getBusinessObject(element);\r\n      var candidateStarterGroups = bo.get('activiti:candidateStarterGroups');\r\n\r\n      return {\r\n        candidateStarterGroups: candidateStarterGroups ? candidateStarterGroups : ''\r\n      };\r\n    },\r\n\r\n    set: function(element, values) {\r\n      var bo = getBusinessObject(element);\r\n      return cmdHelper.updateBusinessObject(element, bo, {\r\n        'activiti:candidateStarterGroups': values.candidateStarterGroups || undefined\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  var candidateStarterUsersEntry = entryFactory.textField({\r\n    id: 'candidateStarterUsers',\r\n    label: translate('Candidate Starter Users'),\r\n    modelProperty: 'candidateStarterUsers',\r\n    description: 'Specify more than one user as a comma separated list.',\r\n\r\n    get: function(element, node) {\r\n      var bo = getBusinessObject(element);\r\n      var candidateStarterUsers = bo.get('activiti:candidateStarterUsers');\r\n\r\n      return {\r\n        candidateStarterUsers: candidateStarterUsers ? candidateStarterUsers : ''\r\n      };\r\n    },\r\n\r\n    set: function(element, values) {\r\n      var bo = getBusinessObject(element);\r\n      return cmdHelper.updateBusinessObject(element, bo, {\r\n        'activiti:candidateStarterUsers': values.candidateStarterUsers || undefined\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return [\r\n    candidateStarterGroupsEntry,\r\n    candidateStarterUsersEntry\r\n  ];\r\n};\r\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","'use strict';\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory');\r\n\r\nvar cmdHelper = require('../../../../helper/CmdHelper'),\r\n    eventDefinitionHelper = require('../../../../helper/EventDefinitionHelper'),\r\n    utils = require('../../../../Utils');\r\n\r\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\r\n    is = require('bpmn-js/lib/util/ModelUtil').is;\r\n\r\nvar forEach = require('lodash/forEach'),\r\n    find = require('lodash/find'),\r\n    filter = require('lodash/filter');\r\n\r\n\r\nfunction getContainedActivities(element) {\r\n  return getFlowElements(element, 'bpmn:Activity');\r\n}\r\n\r\nfunction getContainedBoundaryEvents(element) {\r\n  return getFlowElements(element, 'bpmn:BoundaryEvent');\r\n}\r\n\r\nfunction getFlowElements(element, type) {\r\n  return utils.filterElementsByType(element.flowElements, type);\r\n}\r\n\r\nfunction isCompensationEventAttachedToActivity(activity, boundaryEvents) {\r\n  var activityId = activity.id;\r\n  var boundaryEvent = find(boundaryEvents, function(boundaryEvent) {\r\n    var compensateEventDefinition = eventDefinitionHelper.getCompensateEventDefinition(boundaryEvent);\r\n    var attachedToRef = boundaryEvent.attachedToRef;\r\n    return compensateEventDefinition && attachedToRef && attachedToRef.id === activityId;\r\n  });\r\n  return !!boundaryEvent;\r\n}\r\n\r\n// subprocess: only when it is not triggeredByEvent\r\n// activity: only when it attach a compensation boundary event\r\n// callActivity: no limitation\r\nfunction canActivityBeCompensated(activity, boundaryEvents) {\r\n  return (is(activity, 'bpmn:SubProcess') && !activity.triggeredByEvent) ||\r\n          is(activity, 'bpmn:CallActivity') ||\r\n          isCompensationEventAttachedToActivity(activity, boundaryEvents);\r\n}\r\n\r\nfunction getActivitiesForCompensation(element) {\r\n  var boundaryEvents = getContainedBoundaryEvents(element);\r\n  return filter(getContainedActivities(element), function(activity) {\r\n    return canActivityBeCompensated(activity, boundaryEvents);\r\n  });\r\n}\r\n\r\nfunction getActivitiesForActivityRef(element) {\r\n  var bo = getBusinessObject(element);\r\n  var parent = bo.$parent;\r\n\r\n  var activitiesForActivityRef = getActivitiesForCompensation(parent);\r\n\r\n  // if throwing compensation event is in an event sub process:\r\n  // get also all activities outside of the event sub process\r\n  if (is(parent, 'bpmn:SubProcess') && parent.triggeredByEvent) {\r\n    parent = parent.$parent;\r\n    if (parent) {\r\n      activitiesForActivityRef = activitiesForActivityRef.concat(getActivitiesForCompensation(parent));\r\n    }\r\n\r\n  }\r\n\r\n  return activitiesForActivityRef;\r\n}\r\n\r\nfunction createActivityRefOptions(element) {\r\n  var options = [ { value: '' } ];\r\n\r\n  var activities = getActivitiesForActivityRef(element);\r\n  forEach(activities, function(activity) {\r\n    var activityId = activity.id;\r\n    var name = (activity.name ? (activity.name + ' ') : '') + '(id=' + activityId + ')';\r\n    options.push({ value: activityId, name: name });\r\n  });\r\n\r\n  return options;\r\n}\r\n\r\n\r\nmodule.exports = function(group, element, bpmnFactory, compensateEventDefinition, elementRegistry) {\r\n\r\n  group.entries.push(entryFactory.checkbox({\r\n    id: 'wait-for-completion',\r\n    label: 'Wait for Completion',\r\n    modelProperty: 'waitForCompletion',\r\n\r\n    get: function(element, node) {\r\n      return {\r\n        waitForCompletion: compensateEventDefinition.waitForCompletion\r\n      };\r\n    },\r\n\r\n    set: function(element, values) {\r\n      values.waitForCompletion = values.waitForCompletion || false;\r\n      return cmdHelper.updateBusinessObject(element, compensateEventDefinition, values);\r\n    }\r\n  }));\r\n\r\n  group.entries.push(entryFactory.selectBox({\r\n    id: 'activity-ref',\r\n    label: 'Activity Ref',\r\n    selectOptions: createActivityRefOptions(element),\r\n    modelProperty: 'activityRef',\r\n\r\n    get: function(element, node) {\r\n      var activityRef = compensateEventDefinition.activityRef;\r\n      activityRef = activityRef && activityRef.id;\r\n      return {\r\n        activityRef: activityRef || ''\r\n      };\r\n    },\r\n\r\n    set: function(element, values) {\r\n      var activityRef = values.activityRef || undefined;\r\n      activityRef = activityRef && getBusinessObject(elementRegistry.get(activityRef));\r\n      return cmdHelper.updateBusinessObject(element, compensateEventDefinition, {\r\n        activityRef: activityRef\r\n      });\r\n    }\r\n  }));\r\n\r\n};\r\n","'use strict';\r\n\r\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\r\n    is = require('bpmn-js/lib/util/ModelUtil').is;\r\n\r\nvar entryFactory = require('../../../factory/EntryFactory');\r\n\r\nvar callable = require('./implementation/Callable');\r\n\r\nvar cmdHelper = require('../../../helper/CmdHelper');\r\n\r\nvar flattenDeep = require('lodash/flattenDeep');\r\nvar assign = require('lodash/assign');\r\n\r\nfunction getCallableType(element) {\r\n  var bo = getBusinessObject(element);\r\n\r\n  var boCalledElement = bo.get('calledElement'),\r\n      boCaseRef = bo.get('activiti:caseRef');\r\n\r\n  var callActivityType = '';\r\n  if (typeof boCalledElement !== 'undefined') {\r\n    callActivityType = 'bpmn';\r\n  } else\r\n\r\n  if (typeof boCaseRef !== 'undefined') {\r\n    callActivityType = 'cmmn';\r\n  }\r\n\r\n  return callActivityType;\r\n}\r\n\r\nvar DEFAULT_PROPS = {\r\n  calledElement: undefined,\r\n  'activiti:calledElementBinding': 'latest',\r\n  'activiti:calledElementVersion': undefined,\r\n  'activiti:calledElementTenantId': undefined,\r\n  'activiti:variableMappingClass' : undefined,\r\n  'activiti:variableMappingDelegateExpression' : undefined,\r\n  'activiti:caseRef': undefined,\r\n  'activiti:caseBinding': 'latest',\r\n  'activiti:caseVersion': undefined,\r\n  'activiti:caseTenantId': undefined\r\n};\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n\r\n  if (!is(element, 'activiti:CallActivity')) {\r\n    return;\r\n  }\r\n\r\n  group.entries.push(entryFactory.selectBox({\r\n    id : 'callActivity',\r\n    label: translate('CallActivity Type'),\r\n    selectOptions: [\r\n      { name: 'BPMN', value: 'bpmn' },\r\n      { name: 'CMMN', value: 'cmmn' }\r\n    ],\r\n    emptyParameter: true,\r\n    modelProperty: 'callActivityType',\r\n\r\n    get: function(element, node) {\r\n      return {\r\n        callActivityType: getCallableType(element)\r\n      };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var type = values.callActivityType;\r\n\r\n      var props = assign({}, DEFAULT_PROPS);\r\n\r\n      if (type === 'bpmn') {\r\n        props.calledElement = '';\r\n      }\r\n      else if (type === 'cmmn') {\r\n        props['activiti:caseRef'] = '';\r\n      }\r\n\r\n      return cmdHelper.updateProperties(element, props);\r\n    }\r\n\r\n  }));\r\n\r\n  group.entries.push(callable(element, bpmnFactory, {\r\n    getCallableType: getCallableType\r\n  }, translate));\r\n\r\n  group.entries = flattenDeep(group.entries);\r\n};\r\n","var copyArray = require('./_copyArray'),\n    isIndex = require('./_isIndex');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Reorder `array` according to the specified indexes where the element at\n * the first index is assigned as the first element, the element at\n * the second index is assigned as the second element, and so on.\n *\n * @private\n * @param {Array} array The array to reorder.\n * @param {Array} indexes The arranged array indexes.\n * @returns {Array} Returns `array`.\n */\nfunction reorder(array, indexes) {\n  var arrLength = array.length,\n      length = nativeMin(indexes.length, arrLength),\n      oldArray = copyArray(array);\n\n  while (length--) {\n    var index = indexes[length];\n    array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n  }\n  return array;\n}\n\nmodule.exports = reorder;\n","'use strict';\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory');\r\n\r\nvar cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\n/**\r\n * Create an entry to modify a property of an element which\r\n * is referenced by a event definition.\r\n *\r\n * @param  {djs.model.Base} element\r\n * @param  {ModdleElement} definition\r\n * @param  {BpmnFactory} bpmnFactory\r\n * @param  {Object} options\r\n * @param  {string} options.id the id of the entry\r\n * @param  {string} options.label the label of the entry\r\n * @param  {string} options.referenceProperty the name of referencing property\r\n * @param  {string} options.modelProperty the name of property to modify\r\n * @param  {string} options.shouldValidate a flag indicate whether to validate or not\r\n *\r\n * @return {Array<Object>} return an array containing the entries\r\n */\r\nmodule.exports = function(element, definition, bpmnFactory, options) {\r\n\r\n  var id = options.id || 'element-property';\r\n  var label = options.label;\r\n  var referenceProperty = options.referenceProperty;\r\n  var modelProperty = options.modelProperty || 'name';\r\n  var shouldValidate = options.shouldValidate || false;\r\n\r\n  var entry = entryFactory.textField({\r\n    id: id,\r\n    label: label,\r\n    modelProperty: modelProperty,\r\n\r\n    get: function(element, node) {\r\n      var reference = definition.get(referenceProperty);\r\n      var props = {};\r\n      props[modelProperty] = reference && reference.get(modelProperty);\r\n      return props;\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var reference = definition.get(referenceProperty);\r\n      var props = {};\r\n      props[modelProperty] = values[modelProperty] || undefined;\r\n      return cmdHelper.updateBusinessObject(element, reference, props);\r\n    },\r\n\r\n    hidden: function(element, node) {\r\n      return !definition.get(referenceProperty);\r\n    }\r\n  });\r\n\r\n  if (shouldValidate) {\r\n    entry.validate = function(element, values, node) {\r\n      var reference = definition.get(referenceProperty);\r\n      if (reference && !values[modelProperty]) {\r\n        var validationErrors = {};\r\n        validationErrors[modelProperty] = 'Must provide a value';\r\n        return validationErrors;\r\n      }\r\n    };\r\n  }\r\n\r\n  return [ entry ];\r\n};\r\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","'use strict';\r\n\r\nvar extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper'),\r\n    elementHelper = require('../../../../helper/ElementHelper'),\r\n    cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\nvar utils = require('../../../../Utils');\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory');\r\n\r\nvar extensionElementsEntry = require('./ExtensionElements');\r\n\r\nvar ModelUtil = require('bpmn-js/lib/util/ModelUtil'),\r\n    getBusinessObject = ModelUtil.getBusinessObject;\r\n\r\nvar assign = require('lodash/assign');\r\n\r\n\r\nvar DEFAULT_PROPS = {\r\n  'stringValue': undefined,\r\n  'string': undefined,\r\n  'expression': undefined\r\n};\r\n\r\nvar ACTIVITI_FIELD_EXTENSION_ELEMENT = 'activiti:Field';\r\n\r\nmodule.exports = function(element, bpmnFactory, translate, options) {\r\n\r\n  options = options || {};\r\n\r\n  var insideListener = !!options.insideListener,\r\n      idPrefix = options.idPrefix || '',\r\n      getSelectedListener = options.getSelectedListener,\r\n      businessObject = options.businessObject || getBusinessObject(element);\r\n\r\n  var entries = [];\r\n\r\n  var isSelected = function(element, node) {\r\n    return getSelectedField(element, node);\r\n  };\r\n\r\n  function getSelectedField(element, node) {\r\n    var selected = fieldEntry.getSelected(element, node.parentNode);\r\n\r\n    if (selected.idx === -1) {\r\n      return;\r\n    }\r\n\r\n    var fields = getCamundaFields(element, node);\r\n\r\n    return fields[selected.idx];\r\n  }\r\n\r\n  function getCamundaFields(element, node) {\r\n    if (!insideListener) {\r\n      return (\r\n        businessObject &&\r\n        extensionElementsHelper.getExtensionElements(businessObject, ACTIVITI_FIELD_EXTENSION_ELEMENT)\r\n      ) || [];\r\n    }\r\n    return getCamundaListenerFields(element, node);\r\n  }\r\n\r\n  function getCamundaListenerFields(element, node) {\r\n    var selectedListener = getSelectedListener(element, node);\r\n    return selectedListener && selectedListener.fields || [];\r\n  }\r\n\r\n  function getFieldType(bo) {\r\n    var fieldType = 'string';\r\n\r\n    var expressionValue = bo && bo.expression;\r\n    var stringValue = bo && (bo.string || bo.stringValue);\r\n\r\n    if (typeof stringValue !== 'undefined') {\r\n      fieldType = 'string';\r\n    } else if (typeof expressionValue !== 'undefined') {\r\n      fieldType = 'expression';\r\n    }\r\n\r\n    return fieldType;\r\n  }\r\n\r\n  var setOptionLabelValue = function() {\r\n    return function(element, node, option, property, value, idx) {\r\n      var camundaFields = getCamundaFields(element, node);\r\n      var field = camundaFields[idx];\r\n\r\n      value = (field.name) ? field.name : '<empty>';\r\n\r\n      var label = idx + ' : ' + value;\r\n\r\n      option.text = label;\r\n    };\r\n  };\r\n\r\n  var newElement = function() {\r\n    return function(element, extensionElements, value, node) {\r\n\r\n      var props = {\r\n        name: '',\r\n        string: ''\r\n      };\r\n\r\n      var newFieldElem;\r\n\r\n      if (!insideListener) {\r\n\r\n        newFieldElem = elementHelper.createElement(ACTIVITI_FIELD_EXTENSION_ELEMENT, props, extensionElements, bpmnFactory);\r\n        return cmdHelper.addElementsTolist(element, extensionElements, 'values', [ newFieldElem ]);\r\n\r\n      } else {\r\n\r\n        var selectedListener = getSelectedListener(element, node);\r\n        newFieldElem = elementHelper.createElement(ACTIVITI_FIELD_EXTENSION_ELEMENT, props, selectedListener, bpmnFactory);\r\n        return cmdHelper.addElementsTolist(element, selectedListener, 'fields', [ newFieldElem ]);\r\n\r\n      }\r\n\r\n    };\r\n  };\r\n\r\n  var removeElement = function() {\r\n    return function(element, extensionElements, value, idx, node) {\r\n      var camundaFields= getCamundaFields(element, node);\r\n      var field = camundaFields[idx];\r\n      if (field) {\r\n        if (!insideListener) {\r\n          return extensionElementsHelper.removeEntry(businessObject, element, field);\r\n        }\r\n        var selectedListener = getSelectedListener(element, node);\r\n        return cmdHelper.removeElementsFromList(element, selectedListener, 'fields', null, [ field ]);\r\n      }\r\n    };\r\n  };\r\n\r\n\r\n  var fieldEntry = extensionElementsEntry(element, bpmnFactory, {\r\n    id : idPrefix + 'fields',\r\n    label : translate('Fields'),\r\n    modelProperty: 'fieldName',\r\n    idGeneration: 'false',\r\n\r\n    businessObject: businessObject,\r\n\r\n    createExtensionElement: newElement(),\r\n    removeExtensionElement: removeElement(),\r\n\r\n    getExtensionElements: function(element, node) {\r\n      return getCamundaFields(element, node);\r\n    },\r\n\r\n    setOptionLabelValue: setOptionLabelValue()\r\n\r\n  });\r\n  entries.push(fieldEntry);\r\n\r\n\r\n  entries.push(entryFactory.validationAwareTextField({\r\n    id: idPrefix + 'field-name',\r\n    label: translate('Name'),\r\n    modelProperty: 'fieldName',\r\n\r\n    getProperty: function(element, node) {\r\n      return (getSelectedField(element, node) || {}).name;\r\n    },\r\n\r\n    setProperty: function(element, values, node) {\r\n      var selectedField = getSelectedField(element, node);\r\n      return cmdHelper.updateBusinessObject(element, selectedField, { name : values.fieldName });\r\n    },\r\n\r\n    validate: function(element, values, node) {\r\n      var bo = getSelectedField(element, node);\r\n\r\n      var validation = {};\r\n      if (bo) {\r\n        var nameValue = values.fieldName;\r\n\r\n        if (nameValue) {\r\n          if (utils.containsSpace(nameValue)) {\r\n            validation.fieldName = translate('Name must not contain spaces');\r\n          }\r\n        } else {\r\n          validation.fieldName = translate('Parameter must have a name');\r\n        }\r\n      }\r\n\r\n      return validation;\r\n    },\r\n\r\n    hidden: function(element, node) {\r\n      return !isSelected(element, node);\r\n    }\r\n\r\n  }));\r\n\r\n  var fieldTypeOptions = [\r\n    {\r\n      name: translate('String'),\r\n      value: 'string'\r\n    },\r\n    {\r\n      name: translate('Expression'),\r\n      value: 'expression'\r\n    }\r\n  ];\r\n\r\n  entries.push(entryFactory.selectBox({\r\n    id: idPrefix + 'field-type',\r\n    label: translate('Type'),\r\n    selectOptions: fieldTypeOptions,\r\n    modelProperty: 'fieldType',\r\n\r\n    get: function(element, node) {\r\n      var bo = getSelectedField(element, node);\r\n\r\n      var fieldType = getFieldType(bo);\r\n\r\n      return {\r\n        fieldType: fieldType\r\n      };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var props = assign({}, DEFAULT_PROPS);\r\n\r\n      var fieldType = values.fieldType;\r\n\r\n      if (fieldType === 'string') {\r\n        props.string = '';\r\n      }\r\n      else if (fieldType === 'expression') {\r\n        props.expression = '';\r\n      }\r\n\r\n      return cmdHelper.updateBusinessObject(element, getSelectedField(element, node), props);\r\n    },\r\n\r\n    hidden: function(element, node) {\r\n      return !isSelected(element, node);\r\n    }\r\n\r\n  }));\r\n\r\n\r\n  entries.push(entryFactory.textBox({\r\n    id: idPrefix + 'field-value',\r\n    label: translate('Value'),\r\n    modelProperty: 'fieldValue',\r\n\r\n    get: function(element, node) {\r\n      var bo = getSelectedField(element, node);\r\n      var fieldType = getFieldType(bo);\r\n\r\n      var fieldValue;\r\n\r\n      if (fieldType === 'string') {\r\n        fieldValue = bo && (bo.string || bo.stringValue);\r\n      }\r\n      else if (fieldType === 'expression') {\r\n        fieldValue = bo && bo.expression;\r\n      }\r\n\r\n      return {\r\n        fieldValue: fieldValue\r\n      };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var bo = getSelectedField(element, node);\r\n      var fieldType = getFieldType(bo);\r\n\r\n      var props = assign({}, DEFAULT_PROPS);\r\n\r\n      var fieldValue = values.fieldValue || undefined;\r\n\r\n      if (fieldType === 'string') {\r\n        props.string = fieldValue;\r\n      }\r\n      else if (fieldType === 'expression') {\r\n        props.expression = fieldValue;\r\n      }\r\n\r\n      return cmdHelper.updateBusinessObject(element, bo, props);\r\n\r\n    },\r\n\r\n    validate: function(element, values, node) {\r\n      var bo = getSelectedField(element, node);\r\n\r\n      var validation = {};\r\n      if (bo) {\r\n        if (!values.fieldValue) {\r\n          validation.fieldValue = translate('Must provide a value');\r\n        }\r\n      }\r\n\r\n      return validation;\r\n    },\r\n\r\n    show: function(element, node) {\r\n      return isSelected(element, node);\r\n    }\r\n\r\n  }));\r\n\r\n  return entries;\r\n\r\n};\r\n","var composeArgs = require('./_composeArgs'),\n    composeArgsRight = require('./_composeArgsRight'),\n    replaceHolders = require('./_replaceHolders');\n\n/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_BOUND_FLAG = 4,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Merges the function metadata of `source` into `data`.\n *\n * Merging metadata reduces the number of wrappers used to invoke a function.\n * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n * may be applied regardless of execution order. Methods like `_.ary` and\n * `_.rearg` modify function arguments, making the order in which they are\n * executed important, preventing the merging of metadata. However, we make\n * an exception for a safe combined case where curried functions have `_.ary`\n * and or `_.rearg` applied.\n *\n * @private\n * @param {Array} data The destination metadata.\n * @param {Array} source The source metadata.\n * @returns {Array} Returns `data`.\n */\nfunction mergeData(data, source) {\n  var bitmask = data[1],\n      srcBitmask = source[1],\n      newBitmask = bitmask | srcBitmask,\n      isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n  var isCombo =\n    ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n    ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n    ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n  // Exit early if metadata can't be merged.\n  if (!(isCommon || isCombo)) {\n    return data;\n  }\n  // Use source `thisArg` if available.\n  if (srcBitmask & WRAP_BIND_FLAG) {\n    data[2] = source[2];\n    // Set when currying a bound function.\n    newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n  }\n  // Compose partial arguments.\n  var value = source[3];\n  if (value) {\n    var partials = data[3];\n    data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n    data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n  }\n  // Compose partial right arguments.\n  value = source[5];\n  if (value) {\n    partials = data[5];\n    data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n    data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n  }\n  // Use source `argPos` if available.\n  value = source[7];\n  if (value) {\n    data[7] = value;\n  }\n  // Use source `ary` if it's smaller.\n  if (srcBitmask & WRAP_ARY_FLAG) {\n    data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n  }\n  // Use source `arity` if one is not provided.\n  if (data[9] == null) {\n    data[9] = source[9];\n  }\n  // Use source `func` and merge bitmasks.\n  data[0] = source[0];\n  data[1] = newBitmask;\n\n  return data;\n}\n\nmodule.exports = mergeData;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\n\r\nvar historyTimeToLive = require('./implementation/HistoryTimeToLive');\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n  var businessObject = getBusinessObject(element);\r\n\r\n  if (is(element, 'activiti:Process') ||\r\n      is(element, 'bpmn:Participant') && businessObject.get('processRef')) {\r\n\r\n    group.entries = group.entries.concat(historyTimeToLive(element, bpmnFactory, {\r\n      getBusinessObject: function(element) {\r\n        var bo = getBusinessObject(element);\r\n\r\n        if (!is(bo, 'bpmn:Participant')) {\r\n          return bo;\r\n        }\r\n\r\n        return bo.get('processRef');\r\n      }\r\n    }, translate));\r\n\r\n  }\r\n};\r\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var identity = require('./identity'),\n    metaMap = require('./_metaMap');\n\n/**\n * The base implementation of `setData` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar baseSetData = !metaMap ? identity : function(func, data) {\n  metaMap.set(func, data);\n  return func;\n};\n\nmodule.exports = baseSetData;\n","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","/**\n * Gets the number of `placeholder` occurrences in `array`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} placeholder The placeholder to search for.\n * @returns {number} Returns the placeholder count.\n */\nfunction countHolders(array, placeholder) {\n  var length = array.length,\n      result = 0;\n\n  while (length--) {\n    if (array[length] === placeholder) {\n      ++result;\n    }\n  }\n  return result;\n}\n\nmodule.exports = countHolders;\n","'use strict';\r\n\r\nvar DEFAULT_PRIORITY = 1000;\r\n\r\n\r\n/**\r\n * A component that decides upon the visibility / editable\r\n * state of properties in the properties panel.\r\n *\r\n * Implementors must subclass this component and override\r\n * {@link PropertiesActivator#isEntryVisible} and\r\n * {@link PropertiesActivator#isPropertyEditable} to provide\r\n * custom behavior.\r\n *\r\n * @class\r\n * @constructor\r\n *\r\n * @param {EventBus} eventBus\r\n * @param {Number} [priority] at which priority to hook into the activation\r\n */\r\nfunction PropertiesActivator(eventBus, priority) {\r\n  var self = this;\r\n\r\n  priority = priority || DEFAULT_PRIORITY;\r\n\r\n  eventBus.on('propertiesPanel.isEntryVisible', priority, function(e) {\r\n    return self.isEntryVisible(e.entry, e.element);\r\n  });\r\n\r\n  eventBus.on('propertiesPanel.isPropertyEditable', priority, function(e) {\r\n    return self.isPropertyEditable(e.entry, e.propertyName, e.element);\r\n  });\r\n}\r\n\r\nPropertiesActivator.$inject = [ 'eventBus' ];\r\n\r\nmodule.exports = PropertiesActivator;\r\n\r\n\r\n/**\r\n * Should the given entry be visible for the specified element.\r\n *\r\n * @method  PropertiesActivator#isEntryVisible\r\n *\r\n * @param {EntryDescriptor} entry\r\n * @param {ModdleElement} element\r\n *\r\n * @returns {Boolean}\r\n */\r\nPropertiesActivator.prototype.isEntryVisible = function(entry, element) {\r\n  return true;\r\n};\r\n\r\n/**\r\n * Should the given property be editable for the specified element\r\n *\r\n * @method  PropertiesActivator#isPropertyEditable\r\n *\r\n * @param {EntryDescriptor} entry\r\n * @param {String} propertyName\r\n * @param {ModdleElement} element\r\n *\r\n * @returns {Boolean}\r\n */\r\nPropertiesActivator.prototype.isPropertyEditable = function(entry, propertyName, element) {\r\n  return true;\r\n};","'use strict';\r\n\r\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\r\n    is = require('bpmn-js/lib/util/ModelUtil').is;\r\n\r\nvar factory = require('../../../../factory/EntryFactory');\r\n\r\nvar elementHelper = require('../../../../helper/ElementHelper'),\r\n    extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper'),\r\n    cmdHelper = require('../../../../helper/CmdHelper'),\r\n    utils = require('../../../../Utils');\r\n\r\nvar assign = require('lodash/assign'),\r\n    forEach = require('lodash/forEach'),\r\n    find = require('lodash/find');\r\n\r\nfunction generatePropertyId() {\r\n  return utils.nextId('Property_');\r\n}\r\n\r\n/**\r\n * Get all activiti:property objects for a specific business object\r\n *\r\n * @param  {ModdleElement} parent\r\n *\r\n * @return {Array<ModdleElement>} a list of activiti:property objects\r\n */\r\nfunction getPropertyValues(parent) {\r\n  var properties = parent && getPropertiesElement(parent);\r\n  if (properties && properties.values) {\r\n    return properties.values;\r\n  }\r\n  return [];\r\n}\r\n\r\n/**\r\n * Get all activiti:Properties object for a specific business object\r\n *\r\n * @param  {ModdleElement} parent\r\n *\r\n * @return {ModdleElement} a activiti:Properties object\r\n */\r\nfunction getPropertiesElement(element) {\r\n  if (!isExtensionElements(element)) {\r\n    return element.properties;\r\n  } else {\r\n    return getPropertiesElementInsideExtensionElements(element);\r\n  }\r\n}\r\n\r\n/**\r\n * Get first activiti:Properties object for a specific bpmn:ExtensionElements\r\n * business object.\r\n *\r\n * @param {ModdleElement} extensionElements\r\n *\r\n * @return {ModdleElement} a activiti:Properties object\r\n */\r\nfunction getPropertiesElementInsideExtensionElements(extensionElements) {\r\n  return find(extensionElements.values, function(elem) {\r\n    return is(elem, 'activiti:Properties');\r\n  });\r\n}\r\n\r\n/**\r\n * Returns true, if the given business object is a bpmn:ExtensionElements.\r\n *\r\n * @param {ModdleElement} element\r\n *\r\n * @return {boolean} a boolean value\r\n */\r\nfunction isExtensionElements(element) {\r\n  return is(element, 'bpmn:ExtensionElements');\r\n}\r\n\r\n/**\r\n * Create a activiti:property entry using tableEntryFactory\r\n *\r\n * @param  {djs.model.Base} element\r\n * @param  {BpmnFactory} bpmnFactory\r\n * @param  {Object} options\r\n * @param  {string} options.id\r\n * @param  {Array<string>} options.modelProperties\r\n * @param  {Array<string>} options.labels\r\n * @param  {function} options.getParent Gets the parent business object\r\n * @param  {function} options.show Indicate when the entry will be shown, should return boolean\r\n */\r\nmodule.exports = function(element, bpmnFactory, options, translate) {\r\n\r\n  var getParent = options.getParent;\r\n\r\n  var modelProperties = options.modelProperties,\r\n      createParent = options.createParent;\r\n\r\n  var bo = getBusinessObject(element);\r\n  if (is(element, 'bpmn:Participant')) {\r\n    bo = bo.get('processRef');\r\n  }\r\n\r\n  // build properties group only when the participant have a processRef\r\n  if (!bo) {\r\n    return;\r\n  }\r\n\r\n  assign(options, {\r\n    addLabel: translate('Add Property'),\r\n    getElements: function(element, node) {\r\n      var parent = getParent(element, node, bo);\r\n      return getPropertyValues(parent);\r\n    },\r\n    addElement: function(element, node) {\r\n      var commands = [],\r\n          parent = getParent(element, node, bo);\r\n\r\n      if (!parent && typeof createParent === 'function') {\r\n        var result = createParent(element, bo);\r\n        parent = result.parent;\r\n        commands.push(result.cmd);\r\n      }\r\n\r\n      var properties = getPropertiesElement(parent);\r\n      if (!properties) {\r\n        properties = elementHelper.createElement('activiti:Properties', {}, parent, bpmnFactory);\r\n\r\n        if (!isExtensionElements(parent)) {\r\n          commands.push(cmdHelper.updateBusinessObject(element, parent, { 'properties': properties }));\r\n        } else {\r\n          commands.push(cmdHelper.addAndRemoveElementsFromList(\r\n            element,\r\n            parent,\r\n            'values',\r\n            'extensionElements',\r\n            [ properties ],\r\n            []\r\n          ));\r\n        }\r\n      }\r\n\r\n      var propertyProps = {};\r\n      forEach(modelProperties, function(prop) {\r\n        propertyProps[prop] = undefined;\r\n      });\r\n\r\n      // create id if necessary\r\n      if (modelProperties.indexOf('id') >= 0) {\r\n        propertyProps.id = generatePropertyId();\r\n      }\r\n\r\n      var property = elementHelper.createElement('activiti:Property', propertyProps, properties, bpmnFactory);\r\n      commands.push(cmdHelper.addElementsTolist(element, properties, 'values', [ property ]));\r\n\r\n      return commands;\r\n    },\r\n    updateElement: function(element, value, node, idx) {\r\n      var parent = getParent(element, node, bo),\r\n          property = getPropertyValues(parent)[idx];\r\n\r\n      forEach(modelProperties, function(prop) {\r\n        value[prop] = value[prop] || undefined;\r\n      });\r\n\r\n      return cmdHelper.updateBusinessObject(element, property, value);\r\n    },\r\n    validate: function(element, value, node, idx) {\r\n      // validate id if necessary\r\n      if (modelProperties.indexOf('id') >= 0) {\r\n\r\n        var parent = getParent(element, node, bo),\r\n            properties = getPropertyValues(parent),\r\n            property = properties[idx];\r\n\r\n        if (property) {\r\n          // check if id is valid\r\n          var validationError = utils.isIdValid(property, value.id);\r\n\r\n          if (validationError) {\r\n            return { id: validationError };\r\n          }\r\n        }\r\n      }\r\n    },\r\n    removeElement: function(element, node, idx) {\r\n      var commands = [],\r\n          parent = getParent(element, node, bo),\r\n          properties = getPropertiesElement(parent),\r\n          propertyValues = getPropertyValues(parent),\r\n          currentProperty = propertyValues[idx];\r\n\r\n      commands.push(cmdHelper.removeElementsFromList(element, properties, 'values', null, [ currentProperty ]));\r\n\r\n      if (propertyValues.length === 1) {\r\n        // remove activiti:properties if the last existing property has been removed\r\n        if (!isExtensionElements(parent)) {\r\n          commands.push(cmdHelper.updateBusinessObject(element, parent, { properties: undefined }));\r\n        } else {\r\n          forEach(parent.values, function(value) {\r\n            if (is(value, 'activiti:Properties')) {\r\n              commands.push(extensionElementsHelper.removeEntry(bo, element, value));\r\n            }\r\n          });\r\n        }\r\n      }\r\n\r\n      return commands;\r\n    }\r\n  });\r\n\r\n  return factory.table(options);\r\n};\r\n","/** Used to match wrap detail comments. */\nvar reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n    reSplitDetails = /,? & /;\n\n/**\n * Extracts wrapper details from the `source` body comment.\n *\n * @private\n * @param {string} source The source to inspect.\n * @returns {Array} Returns the wrapper details.\n */\nfunction getWrapDetails(source) {\n  var match = source.match(reWrapDetails);\n  return match ? match[1].split(reSplitDetails) : [];\n}\n\nmodule.exports = getWrapDetails;\n","'use strict';\r\n\r\nvar properties = require('./implementation/Properties'),\r\n    elementHelper = require('../../../helper/ElementHelper'),\r\n    cmdHelper = require('../../../helper/CmdHelper');\r\n\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n\r\n  var propertiesEntry = properties(element, bpmnFactory, {\r\n    id: 'properties',\r\n    modelProperties: [ 'name', 'value' ],\r\n    labels: [ translate('Name'), translate('Value') ],\r\n\r\n    getParent: function(element, node, bo) {\r\n      return bo.extensionElements;\r\n    },\r\n\r\n    createParent: function(element, bo) {\r\n      var parent = elementHelper.createElement('bpmn:ExtensionElements', { values: [] }, bo, bpmnFactory);\r\n      var cmd = cmdHelper.updateBusinessObject(element, bo, { extensionElements: parent });\r\n      return {\r\n        cmd: cmd,\r\n        parent: parent\r\n      };\r\n    }\r\n  }, translate);\r\n\r\n  if (propertiesEntry) {\r\n    group.entries.push(propertiesEntry);\r\n  }\r\n\r\n};\r\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","'use strict';\r\n\r\nvar domQuery = require('min-dom').query;\r\n\r\nvar entryFieldDescription = require('./EntryFieldDescription');\r\n\r\n\r\nvar textField = function(options, defaultParameters) {\r\n\r\n  // Default action for the button next to the input-field\r\n  var defaultButtonAction = function(element, inputNode) {\r\n    var input = domQuery('input[name=\"' + options.modelProperty + '\"]', inputNode);\r\n    input.value = '';\r\n\r\n    return true;\r\n  };\r\n\r\n  // default method to determine if the button should be visible\r\n  var defaultButtonShow = function(element, inputNode) {\r\n    var input = domQuery('input[name=\"' + options.modelProperty + '\"]', inputNode);\r\n\r\n    return input.value !== '';\r\n  };\r\n\r\n\r\n  var resource = defaultParameters,\r\n      label = options.label || resource.id,\r\n      dataValueLabel = options.dataValueLabel,\r\n      buttonLabel = (options.buttonLabel || 'X'),\r\n      actionName = (typeof options.buttonAction != 'undefined') ? options.buttonAction.name : 'clear',\r\n      actionMethod = (typeof options.buttonAction != 'undefined') ? options.buttonAction.method : defaultButtonAction,\r\n      showName = (typeof options.buttonShow != 'undefined') ? options.buttonShow.name : 'canClear',\r\n      showMethod = (typeof options.buttonShow != 'undefined') ? options.buttonShow.method : defaultButtonShow,\r\n      canBeDisabled = !!options.disabled && typeof options.disabled === 'function',\r\n      canBeHidden = !!options.hidden && typeof options.hidden === 'function',\r\n      description = options.description;\r\n\r\n  resource.html =\r\n    '<label for=\"camunda-' + resource.id + '\" ' +\r\n      (canBeDisabled ? 'data-disable=\"isDisabled\" ' : '') +\r\n      (canBeHidden ? 'data-show=\"isHidden\" ' : '') +\r\n      (dataValueLabel ? 'data-value=\"' + dataValueLabel + '\"' : '') + '>'+ label +'</label>' +\r\n    '<div class=\"bpp-field-wrapper\" ' +\r\n      (canBeDisabled ? 'data-disable=\"isDisabled\"' : '') +\r\n      (canBeHidden ? 'data-show=\"isHidden\"' : '') +\r\n      '>' +\r\n      '<input id=\"camunda-' + resource.id + '\" type=\"text\" name=\"' + options.modelProperty+'\" ' +\r\n        (canBeDisabled ? 'data-disable=\"isDisabled\"' : '') +\r\n        (canBeHidden ? 'data-show=\"isHidden\"' : '') +\r\n        ' />' +\r\n      '<button class=\"' + actionName + '\" data-action=\"' + actionName + '\" data-show=\"' + showName + '\" ' +\r\n        (canBeDisabled ? 'data-disable=\"isDisabled\"' : '') +\r\n        (canBeHidden ? ' data-show=\"isHidden\"' : '') + '>' +\r\n        '<span>' + buttonLabel + '</span>' +\r\n      '</button>' +\r\n    '</div>';\r\n\r\n  // add description below text input entry field\r\n  if (description) {\r\n    resource.html += entryFieldDescription(description);\r\n  }\r\n\r\n  resource[actionName] = actionMethod;\r\n  resource[showName] = showMethod;\r\n\r\n  if (canBeDisabled) {\r\n    resource.isDisabled = function() {\r\n      return options.disabled.apply(resource, arguments);\r\n    };\r\n  }\r\n\r\n  if (canBeHidden) {\r\n    resource.isHidden = function() {\r\n      return !options.hidden.apply(resource, arguments);\r\n    };\r\n  }\r\n\r\n  resource.cssClasses = ['bpp-textfield'];\r\n\r\n  return resource;\r\n};\r\n\r\nmodule.exports = textField;\r\n","'use strict';\r\n\r\nvar entryFactory = require('../../../factory/EntryFactory'),\r\n    cmdHelper = require('../../../helper/CmdHelper');\r\n\r\nvar ModelUtil = require('bpmn-js/lib/util/ModelUtil'),\r\n    is = ModelUtil.is,\r\n    getBusinessObject = ModelUtil.getBusinessObject;\r\n\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n\r\n  var getValue = function(businessObject) {\r\n    return function(element) {\r\n      var documentations = businessObject && businessObject.get('documentation'),\r\n          text = (documentations && documentations.length > 0) ? documentations[0].text : '';\r\n\r\n      return { documentation: text };\r\n    };\r\n  };\r\n\r\n  var setValue = function(businessObject) {\r\n    return function(element, values) {\r\n      var newObjectList = [];\r\n\r\n      if (typeof values.documentation !== 'undefined' && values.documentation !== '') {\r\n        newObjectList.push(bpmnFactory.create('bpmn:Documentation', {\r\n          text: values.documentation\r\n        }));\r\n      }\r\n\r\n      return cmdHelper.setList(element, businessObject, 'documentation', newObjectList);\r\n    };\r\n  };\r\n\r\n  // Element Documentation\r\n  var elementDocuEntry = entryFactory.textBox({\r\n    id: 'documentation',\r\n    label: translate('Element Documentation'),\r\n    modelProperty: 'documentation'\r\n  });\r\n\r\n  elementDocuEntry.set = setValue(getBusinessObject(element));\r\n\r\n  elementDocuEntry.get = getValue(getBusinessObject(element));\r\n\r\n  group.entries.push(elementDocuEntry);\r\n\r\n\r\n  var processRef;\r\n\r\n  // Process Documentation when having a Collaboration Diagram\r\n  if (is(element, 'bpmn:Participant')) {\r\n\r\n    processRef = getBusinessObject(element).processRef;\r\n\r\n    // do not show for collapsed Pools/Participants\r\n    if (processRef) {\r\n      var processDocuEntry = entryFactory.textBox({\r\n        id: 'process-documentation',\r\n        label: translate('Process Documentation'),\r\n        modelProperty: 'documentation'\r\n      });\r\n\r\n      processDocuEntry.set = setValue(processRef);\r\n\r\n      processDocuEntry.get = getValue(processRef);\r\n\r\n      group.entries.push(processDocuEntry);\r\n    }\r\n  }\r\n\r\n};\r\n","'use strict';\r\n\r\nvar ImplementationTypeHelper = require('../../../helper/ImplementationTypeHelper');\r\n\r\nvar fieldInjection = require('./implementation/FieldInjection');\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n\r\n  var bo = ImplementationTypeHelper.getServiceTaskLikeBusinessObject(element);\r\n\r\n  if (!bo) {\r\n    return;\r\n  }\r\n\r\n  var fieldInjectionEntry = fieldInjection(element, bpmnFactory, translate, { businessObject: bo });\r\n\r\n  if (fieldInjectionEntry && fieldInjectionEntry.length > 0) {\r\n    group.entries = group.entries.concat(fieldInjectionEntry);\r\n  }\r\n\r\n};\r\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","'use strict';\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory'),\r\n    cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    isEventSubProcess = require('bpmn-js/lib/util/DiUtil').isEventSubProcess;\r\n\r\nmodule.exports = function(group, element, bpmnFactory, conditionalEventDefinition) {\r\n\r\n  var getValue = function(modelProperty) {\r\n    return function(element) {\r\n      var modelPropertyValue = conditionalEventDefinition.get('activiti:' + modelProperty);\r\n      var value = {};\r\n\r\n      value[modelProperty] = modelPropertyValue;\r\n      return value;\r\n    };\r\n  };\r\n\r\n  var setValue = function(modelProperty) {\r\n    return function(element, values) {\r\n      var props = {};\r\n\r\n      props['activiti:' + modelProperty] = values[modelProperty] || undefined;\r\n\r\n      return cmdHelper.updateBusinessObject(element, conditionalEventDefinition, props);\r\n    };\r\n  };\r\n\r\n  group.entries.push(entryFactory.textField({\r\n    id : 'variableName',\r\n    label : 'Variable Name',\r\n    modelProperty : 'variableName',\r\n\r\n    get: getValue('variableName'),\r\n    set: setValue('variableName')\r\n  }));\r\n\r\n  var isConditionalStartEvent =\r\n    is(element, 'bpmn:StartEvent') && !isEventSubProcess(element.parent);\r\n\r\n  if (!isConditionalStartEvent) {\r\n    group.entries.push(entryFactory.textField({\r\n      id : 'variableEvent',\r\n      label : 'Variable Event',\r\n      description: 'Specify more than one variable change event as a comma separated list.',\r\n      modelProperty : 'variableEvent',\r\n\r\n      get: getValue('variableEvent'),\r\n      set: setValue('variableEvent')\r\n    }));\r\n  }\r\n};\r\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","'use strict';\r\n\r\nvar elementHelper = require('../helper/ElementHelper');\r\n\r\n/**\r\n * A handler capable of creating a new element under a provided parent\r\n * and updating / creating a reference to it in one atomic action.\r\n *\r\n * @class\r\n * @constructor\r\n */\r\nfunction CreateAndReferenceElementHandler(elementRegistry, bpmnFactory) {\r\n  this._elementRegistry = elementRegistry;\r\n  this._bpmnFactory = bpmnFactory;\r\n}\r\n\r\nCreateAndReferenceElementHandler.$inject = [ 'elementRegistry', 'bpmnFactory' ];\r\n\r\nmodule.exports = CreateAndReferenceElementHandler;\r\n\r\n\r\n// api ////////////////////\r\n\r\n/**\r\n * Creates a new element under a provided parent and updates / creates a reference to it in\r\n * one atomic action.\r\n *\r\n * @method  CreateAndReferenceElementHandler#execute\r\n *\r\n * @param {Object} context\r\n * @param {djs.model.Base} context.element which is the context for the reference\r\n * @param {moddle.referencingObject} context.referencingObject the object which creates the reference\r\n * @param {String} context.referenceProperty the property of the referencingObject which makes the reference\r\n * @param {moddle.newObject} context.newObject the new object to add\r\n * @param {moddle.newObjectContainer} context.newObjectContainer the container for the new object\r\n *\r\n * @returns {Array<djs.mode.Base>} the updated element\r\n */\r\nCreateAndReferenceElementHandler.prototype.execute = function(context) {\r\n\r\n  var referencingObject = ensureNotNull(context.referencingObject, 'referencingObject'),\r\n      referenceProperty = ensureNotNull(context.referenceProperty, 'referenceProperty'),\r\n      newObject = ensureNotNull(context.newObject, 'newObject'),\r\n      newObjectContainer = ensureNotNull(context.newObjectContainer, 'newObjectContainer'),\r\n      newObjectParent = ensureNotNull(context.newObjectParent, 'newObjectParent'),\r\n      changed = [ context.element ]; // this will not change any diagram-js elements\r\n\r\n  // create new object\r\n  var referencedObject = elementHelper\r\n    .createElement(newObject.type, newObject.properties, newObjectParent, this._bpmnFactory);\r\n  context.referencedObject = referencedObject;\r\n\r\n  // add to containing list\r\n  newObjectContainer.push(referencedObject);\r\n\r\n  // adjust reference attribute\r\n  context.previousReference = referencingObject[referenceProperty];\r\n  referencingObject[referenceProperty] = referencedObject;\r\n\r\n  context.changed = changed;\r\n\r\n  // indicate changed on objects affected by the update\r\n  return changed;\r\n};\r\n\r\n/**\r\n * Reverts the update\r\n *\r\n * @method  CreateAndReferenceElementHandler#revert\r\n *\r\n * @param {Object} context\r\n *\r\n * @returns {djs.mode.Base} the updated element\r\n */\r\nCreateAndReferenceElementHandler.prototype.revert = function(context) {\r\n\r\n  var referencingObject = context.referencingObject,\r\n      referenceProperty = context.referenceProperty,\r\n      previousReference = context.previousReference,\r\n      referencedObject = context.referencedObject,\r\n      newObjectContainer = context.newObjectContainer;\r\n\r\n  // reset reference\r\n  referencingObject.set(referenceProperty, previousReference);\r\n\r\n  // remove new element\r\n  newObjectContainer.splice(newObjectContainer.indexOf(referencedObject), 1);\r\n\r\n  return context.changed;\r\n};\r\n\r\n\r\n\r\n// helpers //////////////\r\n\r\nfunction ensureNotNull(prop, name) {\r\n  if (!prop) {\r\n    throw new Error(name + ' required');\r\n  }\r\n  return prop;\r\n}\r\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    isAny = require('bpmn-js/lib/features/modeling/util/ModelingUtil').isAny,\r\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\r\n    domQuery = require('min-dom').query,\r\n    cmdHelper = require('../../../helper/CmdHelper'),\r\n    elementHelper = require('../../../helper/ElementHelper'),\r\n    eventDefinitionHelper = require('../../../helper/EventDefinitionHelper'),\r\n    script = require('./implementation/Script')('language', 'body', true);\r\n\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n  var bo = getBusinessObject(element);\r\n\r\n  if (!bo) {\r\n    return;\r\n  }\r\n\r\n  var conditionalEventDefinition = eventDefinitionHelper.getConditionalEventDefinition(element);\r\n\r\n  if (!(is(element, 'bpmn:SequenceFlow') && isConditionalSource(element.source))\r\n    && !conditionalEventDefinition) {\r\n    return;\r\n  }\r\n\r\n  group.entries.push({\r\n    id: 'condition',\r\n    label: translate('Condition'),\r\n    html: '<div class=\"bpp-row\">' +\r\n              '<label for=\"cam-condition-type\">'+translate('Condition Type')+'</label>' +\r\n              '<div class=\"bpp-field-wrapper\">' +\r\n                '<select id=\"cam-condition-type\" name=\"conditionType\" data-value>' +\r\n                  '<option value=\"expression\">'+translate('Expression')+'</option>' +\r\n                  '<option value=\"script\">'+translate('Script')+'</option>' +\r\n                  '<option value=\"\" selected></option>' +\r\n                '</select>' +\r\n              '</div>' +\r\n            '</div>' +\r\n\r\n            // expression\r\n            '<div class=\"bpp-row\">' +\r\n              '<label for=\"cam-condition\" data-show=\"isExpression\">'+translate('Expression')+'</label>' +\r\n              '<div class=\"bpp-field-wrapper\" data-show=\"isExpression\">' +\r\n                '<input id=\"cam-condition\" type=\"text\" name=\"condition\" />' +\r\n                '<button class=\"clear\" data-action=\"clear\" data-show=\"canClear\">' +\r\n                  '<span>X</span>' +\r\n                '</button>' +\r\n              '</div>' +\r\n              '<div data-show=\"isScript\">' +\r\n                script.template +\r\n              '</div>' +\r\n            '</div>',\r\n\r\n    get: function(element, propertyName) {\r\n      var conditionalEventDefinition = eventDefinitionHelper.getConditionalEventDefinition(element);\r\n\r\n      var conditionExpression = conditionalEventDefinition\r\n        ? conditionalEventDefinition.condition\r\n        : bo.conditionExpression;\r\n\r\n      var values = {},\r\n          conditionType = '';\r\n\r\n      if (conditionExpression) {\r\n        var conditionLanguage = conditionExpression.language;\r\n        if (typeof conditionLanguage !== 'undefined') {\r\n          conditionType = 'script';\r\n          values = script.get(element, conditionExpression);\r\n        } else {\r\n          conditionType = 'expression';\r\n          values.condition = conditionExpression.get('body');\r\n        }\r\n      }\r\n\r\n      values.conditionType = conditionType;\r\n\r\n      return values;\r\n\r\n    },\r\n\r\n    set: function(element, values, containerElement) {\r\n      var conditionType = values.conditionType;\r\n      var commands = [];\r\n\r\n      var conditionProps = {\r\n        body: undefined\r\n      };\r\n\r\n      if (conditionType === 'script') {\r\n        conditionProps = script.set(element, values, containerElement);\r\n      } else {\r\n        var condition = values.condition;\r\n\r\n        conditionProps.body = condition;\r\n      }\r\n\r\n      var conditionOrConditionExpression;\r\n\r\n      if (conditionType) {\r\n        conditionOrConditionExpression = elementHelper.createElement(\r\n          'bpmn:FormalExpression',\r\n          conditionProps,\r\n          conditionalEventDefinition || bo,\r\n          bpmnFactory\r\n        );\r\n\r\n        var source = element.source;\r\n\r\n        // if default-flow, remove default-property from source\r\n        if (source && source.businessObject.default === bo) {\r\n          commands.push(cmdHelper.updateProperties(source, { 'default': undefined }));\r\n        }\r\n      }\r\n\r\n      var update = conditionalEventDefinition\r\n        ? { condition: conditionOrConditionExpression }\r\n        : { conditionExpression: conditionOrConditionExpression };\r\n\r\n      commands.push(cmdHelper.updateBusinessObject(element, conditionalEventDefinition || bo, update));\r\n\r\n      return commands;\r\n    },\r\n\r\n    validate: function(element, values) {\r\n      var validationResult = {};\r\n\r\n      if (!values.condition && values.conditionType === 'expression') {\r\n        validationResult.condition = 'Must provide a value';\r\n      }\r\n      else if (values.conditionType === 'script') {\r\n        validationResult = script.validate(element, values);\r\n      }\r\n\r\n      return validationResult;\r\n    },\r\n\r\n    isExpression: function(element, inputNode) {\r\n      var conditionType = domQuery('select[name=conditionType]', inputNode);\r\n      if (conditionType.selectedIndex >= 0) {\r\n        return conditionType.options[conditionType.selectedIndex].value === 'expression';\r\n      }\r\n    },\r\n\r\n    isScript: function(element, inputNode) {\r\n      var conditionType = domQuery('select[name=conditionType]', inputNode);\r\n      if (conditionType.selectedIndex >= 0) {\r\n        return conditionType.options[conditionType.selectedIndex].value === 'script';\r\n      }\r\n    },\r\n\r\n    clear: function(element, inputNode) {\r\n      // clear text input\r\n      domQuery('input[name=condition]', inputNode).value='';\r\n\r\n      return true;\r\n    },\r\n\r\n    canClear: function(element, inputNode) {\r\n      var input = domQuery('input[name=condition]', inputNode);\r\n\r\n      return input.value !== '';\r\n    },\r\n\r\n    script : script,\r\n\r\n    cssClasses: [ 'bpp-textfield' ]\r\n  });\r\n};\r\n\r\n\r\n// utilities //////////////////////////\r\n\r\nvar CONDITIONAL_SOURCES = [\r\n  'bpmn:Activity',\r\n  'bpmn:ExclusiveGateway',\r\n  'bpmn:InclusiveGateway',\r\n  'bpmn:ComplexGateway'\r\n];\r\n\r\nfunction isConditionalSource(element) {\r\n  return isAny(element, CONDITIONAL_SOURCES);\r\n}\r\n","var LazyWrapper = require('./_LazyWrapper'),\n    LodashWrapper = require('./_LodashWrapper'),\n    copyArray = require('./_copyArray');\n\n/**\n * Creates a clone of `wrapper`.\n *\n * @private\n * @param {Object} wrapper The wrapper to clone.\n * @returns {Object} Returns the cloned wrapper.\n */\nfunction wrapperClone(wrapper) {\n  if (wrapper instanceof LazyWrapper) {\n    return wrapper.clone();\n  }\n  var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n  result.__actions__ = copyArray(wrapper.__actions__);\n  result.__index__  = wrapper.__index__;\n  result.__values__ = wrapper.__values__;\n  return result;\n}\n\nmodule.exports = wrapperClone;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"containers\",staticClass:\"containers\"},[_c('div',{ref:\"canvas\",staticClass:\"canvas\",attrs:{\"id\":\"js-canvas\"}}),_c('div',{staticClass:\"panel\",attrs:{\"id\":\"js-properties-panel\"}}),_c('ul',{staticClass:\"buttons\"},[_c('li',[_vm._v(\"下载\")]),_c('li',[_c('a',{ref:\"saveDiagram\",attrs:{\"href\":\"javascript:\",\"title\":\"download BPMN diagram\"}},[_vm._v(\"BPMN diagram\")])]),_c('li',[_c('a',{ref:\"saveSvg\",attrs:{\"href\":\"javascript:\",\"title\":\"download as SVG image\"}},[_vm._v(\"SVG image\")])]),_c('el-upload',{staticClass:\"import\",attrs:{\"show-file-list\":false,\"action\":\"\",\"auto-upload\":false,\"on-change\":_vm.changeFile}},[_c('li',[_c('a',{ref:\"import\",attrs:{\"slot\":\"trigger\",\"href\":\"javascript:\",\"title\":\"import BPMN diagram\"},slot:\"trigger\"},[_vm._v(\"导入 BPMN diagram\")])])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"containers\" ref=\"containers\">\n    <div id=\"js-canvas\" class=\"canvas\" ref=\"canvas\"></div>\n    <div id=\"js-properties-panel\" class=\"panel\"></div>\n    <ul class=\"buttons\">\n      <li>下载</li>\n      <li>\n        <a ref=\"saveDiagram\" href=\"javascript:\" title=\"download BPMN diagram\">BPMN diagram</a>\n      </li>\n      <li>\n        <a ref=\"saveSvg\" href=\"javascript:\" title=\"download as SVG image\">SVG image</a>\n      </li>\n      <el-upload :show-file-list=\"false\" action=\"\" :auto-upload=\"false\" :on-change=\"changeFile\" class=\"import\">\n        <li>\n          <a slot=\"trigger\" ref=\"import\" href=\"javascript:\" title=\"import BPMN diagram\">导入 BPMN diagram</a>\n        </li>\n      </el-upload>\n    </ul>\n  </div>\n</template>\n\n<script>\n  // 引入Modeler\n  import BpmnModeler from 'bpmn-js/lib/Modeler'\n  import propertiesPanelModule from 'bpmn-js-properties-panel'\n  import propertiesProviderModule from 'bpmn-js-properties-panel/lib/provider/activiti'\n  import activitiModdleDescriptor from 'activiti-bpmn-moddle/resources/activiti'\n  // 用来进行国际化，参考官方的例子 bpmn-js-examples-master ===> i18n\n  import customTranslate from '../i18n/translate';\n\n  export default {\n    data () {\n      return {\n        bpmnModeler: null,\n        containers: null,\n        canvas: null,\n        xmlStr: null,\n        customTranslateModule: {\n          translate: [ 'value', customTranslate ]\n        }\n      }\n    },\n    methods:{\n      openDiagram(xml){\n        this.bpmnModeler.importXML(xml, function(err) {\n          if (err) {\n            // container\n            //     .removeClass('with-diagram')\n            //     .addClass('with-error');\n            console.error(err);\n          } else {\n            // container\n            //   .removeClass('with-error')\n            //   .addClass('with-diagram');\n          }\n        });\n      },\n      // 注意：必须先加载一个bpmn文件，新建就是加载一个空的bpmn文件，否则不能拖拽节点\n      createNewDiagram(){\n        /*let bpmnXmlStr = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n          <definitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"sid-38422fae-e03e-43a3-bef4-bd33b32041b2\" targetNamespace=\"http://bpmn.io/bpmn\" exporter=\"bpmn-js (https://demo.bpmn.io)\" exporterVersion=\"6.0.4\">\n            <process id=\"Process_1\" isExecutable=\"true\">\n              <startEvent id=\"StartEvent_1acpsqt\" />\n            </process>\n            <bpmndi:BPMNDiagram id=\"BpmnDiagram_1\">\n              <bpmndi:BPMNPlane id=\"BpmnPlane_1\" bpmnElement=\"Process_1\">\n                <bpmndi:BPMNShape id=\"StartEvent_1acpsqt_di\" bpmnElement=\"StartEvent_1acpsqt\">\n                  <omgdc:Bounds x=\"152\" y=\"82\" width=\"36\" height=\"36\" />\n                </bpmndi:BPMNShape>\n              </bpmndi:BPMNPlane>\n            </bpmndi:BPMNDiagram>\n          </definitions>`\n        this.openDiagram(bpmnXmlStr) */\n\n        var diagramUrl = 'https://cdn.staticaly.com/gh/bpmn-io/bpmn-js-examples/dfceecba/starter/diagram.bpmn';\n        // var diagramUrl = 'http://localhost:8080/newDiagram.bpmn';\n        this.$http.get(diagramUrl)\n                  // 这里必须使用箭头函数，否则提示找不到openDiagram方法\n                  .then((res)=>{\n            //console.log(res.data)\n            this.openDiagram(res.data)\n        })\n        .catch((err)=>{\n            console.log(err)\n        })\n      },\n      // 下载为SVG格式,done是个函数，调用的时候传入的\n      saveSVG (done) {\n        // 把传入的done再传给bpmn原型的saveSVG函数调用\n        this.bpmnModeler.saveSVG(done)\n      },\n      // 下载为SVG格式,done是个函数，调用的时候传入的\n      saveDiagram (done) {\n        // 把传入的done再传给bpmn原型的saveXML函数调用\n        this.bpmnModeler.saveXML({ format: true }, function (err, xml) {\n          done(err, xml)\n        })\n      },\n      // 当图发生改变的时候会调用这个函数，这个data就是图的xml\n      setEncoded (link, name, data) {\n        // 把xml转换为URI，下载要用到的\n        const encodedData = encodeURIComponent(data)\n        // 获取到图的xml，保存就是把这个xml提交给后台\n        this.xmlStr = data\n        // 下载图的具体操作,改变a的属性，className令a标签可点击，href令能下载，download是下载的文件的名字\n        if (data) {\n          link.className = 'active'\n          link.href = 'data:application/bpmn20-xml;charset=UTF-8,' + encodedData\n          link.download = name\n        }\n      },\n      // 导入文件\n      changeFile(file){\n        let _this = this\n        let reads = new FileReader()\n        let f = file.raw\n        reads.readAsText(f, 'utf-8')\n        reads.onload = function (e) {\n          let newXml = e.target.result\n          _this.bpmnModeler.importXML(newXml, function (err) {\n            if (err) {\n              console.error(err)\n            }\n          })\n        }\n      }\n    },\n    mounted() {\n      // 获取到属性ref为“containers”的dom节点\n      this.containers = this.$refs.containers\n      // 获取到属性ref为“canvas”的dom节点\n      const canvas = this.$refs.canvas\n      // 建模，官方文档这里讲的很详细\n      this.bpmnModeler = new BpmnModeler({\n        container: canvas,\n        // 添加属性面板\n        propertiesPanel: {\n          parent: '#js-properties-panel'\n        },\n        additionalModules: [\n          // 左边工具栏以及节点\n          propertiesProviderModule,\n          // 右边的工具栏\n          propertiesPanelModule,\n          // 国际化\n          this.$data.customTranslateModule\n        ],\n        moddleExtensions: {\n          activiti: activitiModdleDescriptor\n        }\n      })\n\n      // 下载画图\n      let _this = this\n      // 获取a标签dom节点\n      const downloadLink = this.$refs.saveDiagram\n      const downloadSvgLink = this.$refs.saveSvg\n      // 给图绑定事件，当图有发生改变就会触发这个事件\n      this.bpmnModeler.on('commandStack.changed', function () {\n        _this.saveSVG(function (err, svg) {\n          _this.setEncoded(downloadSvgLink, 'diagram.svg', err ? null : svg)\n        })\n\n        _this.saveDiagram(function (err, xml) {\n          _this.setEncoded(downloadLink, 'diagram.bpmn', err ? null : xml)\n        })\n      })\n\n      this.createNewDiagram()\n    }\n  }\n</script>\n<style lang=\"scss\">\n  /*左边工具栏以及编辑节点的样式*/\n  @import '~bpmn-js/dist/assets/diagram-js.css';\n  @import '~bpmn-js/dist/assets/bpmn-font/css/bpmn.css';\n  @import '~bpmn-js/dist/assets/bpmn-font/css/bpmn-codes.css';\n  @import '~bpmn-js/dist/assets/bpmn-font/css/bpmn-embedded.css';\n  /*右边属性面板样式*/\n  @import '~bpmn-js-properties-panel/dist/assets/bpmn-js-properties-panel.css';\n\n  .containers {\n    position: absolute;\n    background-color: #ffffff;\n    width: 100%;\n    height: 110%;\n\n    .canvas {\n      width: 100%;\n      height: 100%;\n    }\n\n    .panel{\n      position: absolute;\n      right: 0;\n      top: 0;\n      width: 300px;\n    }\n\n    .buttons{\n      position: absolute;\n      left: 20px;\n      bottom: 20px;\n      &>li{\n          display:inline-block;margin: 5px;\n        &>a{\n            color: #999;\n            background: #eee;\n            cursor: not-allowed;\n            padding: 8px;\n            border: 1px solid #ccc;\n          &.active{\n            color: #333;\n            background: #fff;\n            cursor: pointer;\n          }\n        }\n      }\n    }\n\n    .import{\n      display: inline-block;\n      margin:5px;\n      li{\n        list-style: none;\n        a{\n          color: #333;\n          padding: 8px;\n          border: 1px solid #ccc;\n        }\n      }\n    }\n\n    .bjs-powered-by {\n      display: none;\n    }\n  }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./New2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./New2.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./New2.vue?vue&type=template&id=16b310be&\"\nimport script from \"./New2.vue?vue&type=script&lang=js&\"\nexport * from \"./New2.vue?vue&type=script&lang=js&\"\nimport style0 from \"./New2.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array that is the composition of partially applied arguments,\n * placeholders, and provided arguments into a single array of arguments.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to prepend to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgs(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersLength = holders.length,\n      leftIndex = -1,\n      leftLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(leftLength + rangeLength),\n      isUncurried = !isCurried;\n\n  while (++leftIndex < leftLength) {\n    result[leftIndex] = partials[leftIndex];\n  }\n  while (++argsIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[holders[argsIndex]] = args[argsIndex];\n    }\n  }\n  while (rangeLength--) {\n    result[leftIndex++] = args[argsIndex++];\n  }\n  return result;\n}\n\nmodule.exports = composeArgs;\n","'use strict';\r\n\r\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\r\n    is = require('bpmn-js/lib/util/ModelUtil').is;\r\n\r\nvar multiInstanceLoopCharacteristics = require('./implementation/MultiInstanceLoopCharacteristics');\r\n\r\nvar jobRetryTimeCycle = require('./implementation/JobRetryTimeCycle'),\r\n    asyncContinuation = require('./implementation/AsyncContinuation');\r\n\r\n\r\nfunction getLoopCharacteristics(element) {\r\n  var bo = getBusinessObject(element);\r\n  return bo.loopCharacteristics;\r\n}\r\n\r\n\r\nfunction ensureMultiInstanceSupported(element) {\r\n  var loopCharacteristics = getLoopCharacteristics(element);\r\n  return !!loopCharacteristics && is(loopCharacteristics, 'activiti:Collectable');\r\n}\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n\r\n  if (!ensureMultiInstanceSupported(element)) {\r\n    return;\r\n  }\r\n\r\n  // multi instance properties\r\n  group.entries = group.entries.concat(multiInstanceLoopCharacteristics(element, bpmnFactory, translate));\r\n\r\n  // async continuation ///////////////////////////////////////////////////////\r\n  group.entries = group.entries.concat(asyncContinuation(element, bpmnFactory, {\r\n    getBusinessObject: getLoopCharacteristics,\r\n    idPrefix: 'multiInstance-',\r\n    labelPrefix: translate('Multi Instance ')\r\n  }, translate));\r\n\r\n\r\n  // retry time cycle //////////////////////////////////////////////////////////\r\n  group.entries = group.entries.concat(jobRetryTimeCycle(element, bpmnFactory, {\r\n    getBusinessObject: getLoopCharacteristics,\r\n    idPrefix: 'multiInstance-',\r\n    labelPrefix: translate('Multi Instance ')\r\n  }, translate));\r\n};\r\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    entryFactory = require('../../../factory/EntryFactory');\r\n\r\n\r\nmodule.exports = function(group, element, translate) {\r\n  if (is(element, 'activiti:Assignable')) {\r\n\r\n    // Assignee\r\n    group.entries.push(entryFactory.textField({\r\n      id : 'assignee',\r\n      label : translate('Assignee'),\r\n      modelProperty : 'assignee'\r\n    }));\r\n\r\n    // Candidate Users\r\n    group.entries.push(entryFactory.textField({\r\n      id : 'candidateUsers',\r\n      label : translate('Candidate Users'),\r\n      modelProperty : 'candidateUsers'\r\n    }));\r\n\r\n    // Candidate Groups\r\n    group.entries.push(entryFactory.textField({\r\n      id : 'candidateGroups',\r\n      label : translate('Candidate Groups'),\r\n      modelProperty : 'candidateGroups'\r\n    }));\r\n\r\n    // Due Date\r\n    group.entries.push(entryFactory.textField({\r\n      id : 'dueDate',\r\n      description : translate('The due date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)'),\r\n      label : translate('Due Date'),\r\n      modelProperty : 'dueDate'\r\n    }));\r\n\r\n    // FollowUp Date\r\n    group.entries.push(entryFactory.textField({\r\n      id : 'followUpDate',\r\n      description : translate('The follow up date as an EL expression (e.g. ${someDate} or an ' +\r\n                    'ISO date (e.g. 2015-06-26T09:54:00)'),\r\n      label : translate('Follow Up Date'),\r\n      modelProperty : 'followUpDate'\r\n    }));\r\n\r\n    // priority\r\n    group.entries.push(entryFactory.textField({\r\n      id : 'priority',\r\n      label : translate('Priority'),\r\n      modelProperty : 'priority'\r\n    }));\r\n  }\r\n};\r\n","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the `this` binding\n * of `thisArg` and `partials` prepended to the arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} partials The arguments to prepend to those provided to\n *  the new function.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createPartial(func, bitmask, thisArg, partials) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var argsIndex = -1,\n        argsLength = arguments.length,\n        leftIndex = -1,\n        leftLength = partials.length,\n        args = Array(leftLength + argsLength),\n        fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n    while (++leftIndex < leftLength) {\n      args[leftIndex] = partials[leftIndex];\n    }\n    while (argsLength--) {\n      args[leftIndex++] = arguments[++argsIndex];\n    }\n    return apply(fn, isBind ? thisArg : this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createPartial;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","'use strict';\r\n\r\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\r\n    is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    asyncContinuation = require('./implementation/AsyncContinuation');\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n\r\n  if (is(element, 'activiti:AsyncCapable')) {\r\n\r\n    group.entries = group.entries.concat(asyncContinuation(element, bpmnFactory, {\r\n      getBusinessObject: getBusinessObject\r\n    }, translate));\r\n\r\n  }\r\n};","'use strict';\r\n\r\nvar domify = require('min-dom').domify,\r\n    domQuery = require('min-dom').query,\r\n    domQueryAll = require('min-dom').queryAll,\r\n    domRemove = require('min-dom').remove,\r\n    domClasses = require('min-dom').classes,\r\n    domClosest = require('min-dom').closest,\r\n    domAttr = require('min-dom').attr,\r\n    domDelegate = require('min-dom').delegate,\r\n    domMatches = require('min-dom').matches;\r\n\r\nvar forEach = require('lodash/forEach'),\r\n    filter = require('lodash/filter'),\r\n    get = require('lodash/get'),\r\n    keys = require('lodash/keys'),\r\n    isEmpty = require('lodash/isEmpty'),\r\n    isArray = require('lodash/isArray'),\r\n    xor = require('lodash/xor'),\r\n    debounce = require('lodash/debounce');\r\n\r\nvar updateSelection = require('selection-update');\r\n\r\nvar scrollTabs = require('scroll-tabs').default;\r\n\r\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\n\r\nvar HIDE_CLASS = 'bpp-hidden';\r\nvar DEBOUNCE_DELAY = 300;\r\n\r\n\r\nfunction isToggle(node) {\r\n  return node.type === 'checkbox' || node.type === 'radio';\r\n}\r\n\r\nfunction isSelect(node) {\r\n  return node.type === 'select-one';\r\n}\r\n\r\nfunction isContentEditable(node) {\r\n  return domAttr(node, 'contenteditable');\r\n}\r\n\r\nfunction getPropertyPlaceholders(node) {\r\n  var selector = 'input[name], textarea[name], [data-value], [contenteditable]';\r\n  var placeholders = domQueryAll(selector, node);\r\n  if ((!placeholders || !placeholders.length) && domMatches(node, selector)) {\r\n    placeholders = [ node ];\r\n  }\r\n  return placeholders;\r\n}\r\n\r\n/**\r\n * Return all active form controls.\r\n * This excludes the invisible controls unless all is true\r\n *\r\n * @param {Element} node\r\n * @param {Boolean} [all=false]\r\n */\r\nfunction getFormControls(node, all) {\r\n  var controls = domQueryAll('input[name], textarea[name], select[name], [contenteditable]', node);\r\n\r\n  if (!controls || !controls.length) {\r\n    controls = domMatches(node, 'option') ? [ node ] : controls;\r\n  }\r\n\r\n  if (!all) {\r\n    controls = filter(controls, function(node) {\r\n      return !domClosest(node, '.' + HIDE_CLASS);\r\n    });\r\n  }\r\n\r\n  return controls;\r\n}\r\n\r\nfunction getFormControlValuesInScope(entryNode) {\r\n  var values = {};\r\n\r\n  var controlNodes = getFormControls(entryNode);\r\n\r\n  forEach(controlNodes, function(controlNode) {\r\n    var value = controlNode.value;\r\n\r\n    var name = domAttr(controlNode, 'name') || domAttr(controlNode, 'data-name');\r\n\r\n    // take toggle state into account for radio / checkboxes\r\n    if (isToggle(controlNode)) {\r\n      if (controlNode.checked) {\r\n        if (!domAttr(controlNode, 'value')) {\r\n          value = true;\r\n        } else {\r\n          value = controlNode.value;\r\n        }\r\n      } else {\r\n        value = null;\r\n      }\r\n    } else\r\n    if (isContentEditable(controlNode)) {\r\n      value = controlNode.innerText;\r\n    }\r\n\r\n    if (value !== null) {\r\n      // return the actual value\r\n      // handle serialization in entry provider\r\n      // (ie. if empty string should be serialized or not)\r\n      values[name] = value;\r\n    }\r\n  });\r\n\r\n  return values;\r\n\r\n}\r\n\r\n/**\r\n * Extract input values from entry node\r\n *\r\n * @param  {DOMElement} entryNode\r\n * @returns {Object}\r\n */\r\nfunction getFormControlValues(entryNode) {\r\n\r\n  var values;\r\n\r\n  var listContainer = domQuery('[data-list-entry-container]', entryNode);\r\n  if (listContainer) {\r\n    values = [];\r\n    var listNodes = listContainer.children || [];\r\n    forEach(listNodes, function(listNode) {\r\n      values.push(getFormControlValuesInScope(listNode));\r\n    });\r\n  } else {\r\n    values = getFormControlValuesInScope(entryNode);\r\n  }\r\n\r\n  return values;\r\n}\r\n\r\n/**\r\n * Return true if the given form extracted value equals\r\n * to an old cached version.\r\n *\r\n * @param {Object} value\r\n * @param {Object} oldValue\r\n * @return {Boolean}\r\n */\r\nfunction valueEqual(value, oldValue) {\r\n\r\n  if (value && !oldValue) {\r\n    return false;\r\n  }\r\n\r\n  var allKeys = keys(value).concat(keys(oldValue));\r\n\r\n  return allKeys.every(function(key) {\r\n    return value[key] === oldValue[key];\r\n  });\r\n}\r\n\r\n/**\r\n * Return true if the given form extracted value(s)\r\n * equal an old cached version.\r\n *\r\n * @param {Array<Object>|Object} values\r\n * @param {Array<Object>|Object} oldValues\r\n * @return {Boolean}\r\n */\r\nfunction valuesEqual(values, oldValues) {\r\n\r\n  if (isArray(values)) {\r\n\r\n    if (values.length !== oldValues.length) {\r\n      return false;\r\n    }\r\n\r\n    return values.every(function(v, idx) {\r\n      return valueEqual(v, oldValues[idx]);\r\n    });\r\n  }\r\n\r\n  return valueEqual(values, oldValues);\r\n}\r\n\r\n/**\r\n * Return a mapping of { id: entry } for all entries in the given groups in the given tabs.\r\n *\r\n * @param {Object} tabs\r\n * @return {Object}\r\n */\r\nfunction extractEntries(tabs) {\r\n  return keyBy(flattenDeep(map(flattenDeep(map(tabs, 'groups')), 'entries')), 'id');\r\n}\r\n\r\n/**\r\n * Return a mapping of { id: group } for all groups in the given tabs.\r\n *\r\n * @param {Object} tabs\r\n * @return {Object}\r\n */\r\nfunction extractGroups(tabs) {\r\n  return keyBy(flattenDeep(map(tabs, 'groups')), 'id');\r\n}\r\n\r\n/**\r\n * A properties panel implementation.\r\n *\r\n * To use it provide a `propertiesProvider` component that knows\r\n * about which properties to display.\r\n *\r\n * Properties edit state / visibility can be intercepted\r\n * via a custom {@link PropertiesActivator}.\r\n *\r\n * @class\r\n * @constructor\r\n *\r\n * @param {Object} config\r\n * @param {EventBus} eventBus\r\n * @param {Modeling} modeling\r\n * @param {PropertiesProvider} propertiesProvider\r\n * @param {Canvas} canvas\r\n * @param {CommandStack} commandStack\r\n */\r\nfunction PropertiesPanel(config, eventBus, modeling, propertiesProvider, commandStack, canvas) {\r\n\r\n  this._eventBus = eventBus;\r\n  this._modeling = modeling;\r\n  this._commandStack = commandStack;\r\n  this._canvas = canvas;\r\n  this._propertiesProvider = propertiesProvider;\r\n\r\n  this._init(config);\r\n}\r\n\r\nPropertiesPanel.$inject = [\r\n  'config.propertiesPanel',\r\n  'eventBus',\r\n  'modeling',\r\n  'propertiesProvider',\r\n  'commandStack',\r\n  'canvas'\r\n];\r\n\r\nmodule.exports = PropertiesPanel;\r\n\r\n\r\nPropertiesPanel.prototype._init = function(config) {\r\n\r\n  var canvas = this._canvas,\r\n      eventBus = this._eventBus;\r\n\r\n  var self = this;\r\n\r\n  /**\r\n   * Select the root element once it is added to the canvas\r\n   */\r\n  eventBus.on('root.added', function(e) {\r\n    var element = e.element;\r\n\r\n    if (isImplicitRoot(element)) {\r\n      return;\r\n    }\r\n\r\n    self.update(element);\r\n  });\r\n\r\n  eventBus.on('selection.changed', function(e) {\r\n    var newElement = e.newSelection[0];\r\n\r\n    var rootElement = canvas.getRootElement();\r\n\r\n    if (isImplicitRoot(rootElement)) {\r\n      return;\r\n    }\r\n\r\n    self.update(newElement);\r\n  });\r\n\r\n  // add / update tab-bar scrolling\r\n  eventBus.on([\r\n    'propertiesPanel.changed',\r\n    'propertiesPanel.resized'\r\n  ], function(event) {\r\n\r\n    var tabBarNode = domQuery('.bpp-properties-tab-bar', self._container);\r\n\r\n    if (!tabBarNode) {\r\n      return;\r\n    }\r\n\r\n    var scroller = scrollTabs.get(tabBarNode);\r\n\r\n    if (!scroller) {\r\n\r\n      // we did not initialize yet, do that\r\n      // now and make sure we select the active\r\n      // tab on scroll update\r\n      scroller = scrollTabs(tabBarNode, {\r\n        selectors: {\r\n          tabsContainer: '.bpp-properties-tabs-links',\r\n          tab: '.bpp-properties-tabs-links li',\r\n          ignore: '.bpp-hidden',\r\n          active: '.bpp-active'\r\n        }\r\n      });\r\n\r\n\r\n      scroller.on('scroll', function(newActiveNode, oldActiveNode, direction) {\r\n\r\n        var linkNode = domQuery('[data-tab-target]', newActiveNode);\r\n\r\n        var tabId = domAttr(linkNode, 'data-tab-target');\r\n\r\n        self.activateTab(tabId);\r\n      });\r\n    }\r\n\r\n    // react on tab changes and or tabContainer resize\r\n    // and make sure the active tab is shown completely\r\n    scroller.update();\r\n  });\r\n\r\n  eventBus.on('elements.changed', function(e) {\r\n\r\n    var current = self._current;\r\n    var element = current && current.element;\r\n\r\n    if (element) {\r\n      if (e.elements.indexOf(element) !== -1) {\r\n        self.update(element);\r\n      }\r\n    }\r\n  });\r\n\r\n  eventBus.on('elementTemplates.changed', function() {\r\n    var current = self._current;\r\n    var element = current && current.element;\r\n\r\n    if (element) {\r\n      self.update(element);\r\n    }\r\n  });\r\n\r\n  eventBus.on('diagram.destroy', function() {\r\n    self.detach();\r\n  });\r\n\r\n  this._container = domify('<div class=\"bpp-properties-panel\"></div>');\r\n\r\n  this._bindListeners(this._container);\r\n\r\n  if (config && config.parent) {\r\n    this.attachTo(config.parent);\r\n  }\r\n};\r\n\r\n\r\nPropertiesPanel.prototype.attachTo = function(parentNode) {\r\n\r\n  if (!parentNode) {\r\n    throw new Error('parentNode required');\r\n  }\r\n\r\n  // ensure we detach from the\r\n  // previous, old parent\r\n  this.detach();\r\n\r\n  // unwrap jQuery if provided\r\n  if (parentNode.get && parentNode.constructor.prototype.jquery) {\r\n    parentNode = parentNode.get(0);\r\n  }\r\n\r\n  if (typeof parentNode === 'string') {\r\n    parentNode = domQuery(parentNode);\r\n  }\r\n\r\n  var container = this._container;\r\n\r\n  parentNode.appendChild(container);\r\n\r\n  this._emit('attach');\r\n};\r\n\r\nPropertiesPanel.prototype.detach = function() {\r\n\r\n  var container = this._container,\r\n      parentNode = container.parentNode;\r\n\r\n  if (!parentNode) {\r\n    return;\r\n  }\r\n\r\n  this._emit('detach');\r\n\r\n  parentNode.removeChild(container);\r\n};\r\n\r\n\r\n/**\r\n * Select the given tab within the properties panel.\r\n *\r\n * @param {Object|String} tab\r\n */\r\nPropertiesPanel.prototype.activateTab = function(tab) {\r\n\r\n  var tabId = typeof tab === 'string' ? tab : tab.id;\r\n\r\n  var current = this._current;\r\n\r\n  var panelNode = current.panel;\r\n\r\n  var allTabNodes = domQueryAll('.bpp-properties-tab', panelNode),\r\n      allTabLinkNodes = domQueryAll('.bpp-properties-tab-link', panelNode);\r\n\r\n  forEach(allTabNodes, function(tabNode) {\r\n\r\n    var currentTabId = domAttr(tabNode, 'data-tab');\r\n\r\n    domClasses(tabNode).toggle('bpp-active', tabId === currentTabId);\r\n  });\r\n\r\n  forEach(allTabLinkNodes, function(tabLinkNode) {\r\n\r\n    var tabLink = domQuery('[data-tab-target]', tabLinkNode),\r\n        currentTabId = domAttr(tabLink, 'data-tab-target');\r\n\r\n    domClasses(tabLinkNode).toggle('bpp-active', tabId === currentTabId);\r\n  });\r\n};\r\n\r\n/**\r\n * Update the DOM representation of the properties panel\r\n */\r\nPropertiesPanel.prototype.update = function(element) {\r\n  var current = this._current;\r\n\r\n  // no actual selection change\r\n  var needsCreate = true;\r\n\r\n  if (typeof element === 'undefined') {\r\n\r\n    // use RootElement of BPMN diagram to generate properties panel if no element is selected\r\n    element = this._canvas.getRootElement();\r\n  }\r\n\r\n  var newTabs = this._propertiesProvider.getTabs(element);\r\n\r\n  if (current && current.element === element) {\r\n    // see if we can reuse the existing panel\r\n\r\n    needsCreate = this._entriesChanged(current, newTabs);\r\n  }\r\n\r\n  if (needsCreate) {\r\n\r\n    if (current) {\r\n\r\n      // get active tab from the existing panel before remove it\r\n      var activeTabNode = domQuery('.bpp-properties-tab.bpp-active', current.panel);\r\n\r\n      var activeTabId;\r\n      if (activeTabNode) {\r\n        activeTabId = domAttr(activeTabNode, 'data-tab');\r\n      }\r\n\r\n      // remove old panel\r\n      domRemove(current.panel);\r\n    }\r\n\r\n    this._current = this._create(element, newTabs);\r\n\r\n    // activate the saved active tab from the remove panel or the first tab\r\n    (activeTabId) ? this.activateTab(activeTabId) : this.activateTab(this._current.tabs[0]);\r\n\r\n  }\r\n\r\n  if (this._current) {\r\n    // make sure correct tab contents are visible\r\n    this._updateActivation(this._current);\r\n\r\n  }\r\n\r\n  this._emit('changed');\r\n};\r\n\r\n\r\n/**\r\n * Returns true if one of two groups has different entries than the other.\r\n *\r\n * @param  {Object} current\r\n * @param  {Object} newTabs\r\n * @return {Boolean}\r\n */\r\nPropertiesPanel.prototype._entriesChanged = function(current, newTabs) {\r\n\r\n  var oldEntryIds = keys(current.entries),\r\n      newEntryIds = keys(extractEntries(newTabs));\r\n\r\n  return !isEmpty(xor(oldEntryIds, newEntryIds));\r\n};\r\n\r\nPropertiesPanel.prototype._emit = function(event) {\r\n  this._eventBus.fire('propertiesPanel.' + event, { panel: this, current: this._current });\r\n};\r\n\r\nPropertiesPanel.prototype._bindListeners = function(container) {\r\n\r\n  var self = this;\r\n\r\n  // handles a change for a given event\r\n  var handleChange = function handleChange(event) {\r\n\r\n    // see if we handle a change inside a [data-entry] element.\r\n    // if not, drop out\r\n    var inputNode = event.delegateTarget,\r\n        entryNode = domClosest(inputNode, '[data-entry]'),\r\n        entryId, entry;\r\n\r\n    // change from outside a [data-entry] element, simply ignore\r\n    if (!entryNode) {\r\n      return;\r\n    }\r\n\r\n    entryId = domAttr(entryNode, 'data-entry');\r\n    entry = self.getEntry(entryId);\r\n\r\n    var values = getFormControlValues(entryNode);\r\n\r\n    if (event.type === 'change') {\r\n\r\n      // - if the \"data-on-change\" attribute is present and a value is changed,\r\n      //   then the associated action is performed.\r\n      // - if the associated action returns \"true\" then an update to the business\r\n      //   object is done\r\n      // - if it does not return \"true\", then only the DOM content is updated\r\n      var onChangeAction = domAttr(inputNode, 'data-on-change');\r\n\r\n      if (onChangeAction) {\r\n        var isEntryDirty = self.executeAction(entry, entryNode, onChangeAction, event);\r\n\r\n        if (!isEntryDirty) {\r\n          return self.update(self._current.element);\r\n        }\r\n      }\r\n    }\r\n    self.applyChanges(entry, values, entryNode);\r\n    self.updateState(entry, entryNode);\r\n  };\r\n\r\n  // debounce update only elements that are target of key events,\r\n  // i.e. INPUT and TEXTAREA. SELECTs will trigger an immediate update anyway.\r\n  domDelegate.bind(container, 'input, textarea, [contenteditable]', 'input', debounce(handleChange, DEBOUNCE_DELAY));\r\n  domDelegate.bind(container, 'input, textarea, select, [contenteditable]', 'change', handleChange);\r\n\r\n  // handle key events\r\n  domDelegate.bind(container, 'select', 'keydown', function(e) {\r\n\r\n    // DEL\r\n    if (e.keyCode === 46) {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n    }\r\n  });\r\n\r\n  domDelegate.bind(container, '[data-action]', 'click', function onClick(event) {\r\n\r\n    // triggers on all inputs\r\n    var inputNode = event.delegateTarget,\r\n        entryNode = domClosest(inputNode, '[data-entry]');\r\n\r\n    var actionId = domAttr(inputNode, 'data-action'),\r\n        entryId = domAttr(entryNode, 'data-entry');\r\n\r\n    var entry = self.getEntry(entryId);\r\n\r\n    var isEntryDirty = self.executeAction(entry, entryNode, actionId, event);\r\n\r\n    if (isEntryDirty) {\r\n      var values = getFormControlValues(entryNode);\r\n\r\n      self.applyChanges(entry, values, entryNode);\r\n    }\r\n\r\n    self.updateState(entry, entryNode);\r\n  });\r\n\r\n  function handleInput(event, element) {\r\n    // triggers on all inputs\r\n    var inputNode = event.delegateTarget;\r\n\r\n    var entryNode = domClosest(inputNode, '[data-entry]');\r\n\r\n    // only work on data entries\r\n    if (!entryNode) {\r\n      return;\r\n    }\r\n\r\n    var eventHandlerId = domAttr(inputNode, 'data-blur'),\r\n        entryId = domAttr(entryNode, 'data-entry');\r\n\r\n    var entry = self.getEntry(entryId);\r\n\r\n    var isEntryDirty = self.executeAction(entry, entryNode, eventHandlerId, event);\r\n\r\n    if (isEntryDirty) {\r\n      var values = getFormControlValues(entryNode);\r\n\r\n      self.applyChanges(entry, values, entryNode);\r\n    }\r\n\r\n    self.updateState(entry, entryNode);\r\n  }\r\n\r\n  domDelegate.bind(container, '[data-blur]', 'blur', handleInput, true);\r\n\r\n  // make tab links interactive\r\n  domDelegate.bind(container, '.bpp-properties-tabs-links [data-tab-target]', 'click', function(event) {\r\n    event.preventDefault();\r\n\r\n    var delegateTarget = event.delegateTarget;\r\n\r\n    var tabId = domAttr(delegateTarget, 'data-tab-target');\r\n\r\n    // activate tab on link click\r\n    self.activateTab(tabId);\r\n  });\r\n\r\n};\r\n\r\nPropertiesPanel.prototype.updateState = function(entry, entryNode) {\r\n  this.updateShow(entry, entryNode);\r\n  this.updateDisable(entry, entryNode);\r\n};\r\n\r\n/**\r\n * Update the visibility of the entry node in the DOM\r\n */\r\nPropertiesPanel.prototype.updateShow = function(entry, node) {\r\n\r\n  var current = this._current;\r\n\r\n  if (!current) {\r\n    return;\r\n  }\r\n\r\n  var showNodes = domQueryAll('[data-show]', node) || [];\r\n\r\n  forEach(showNodes, function(showNode) {\r\n\r\n    var expr = domAttr(showNode, 'data-show');\r\n    var fn = get(entry, expr);\r\n    if (fn) {\r\n      var scope = domClosest(showNode, '[data-scope]') || node;\r\n      var shouldShow = fn(current.element, node, showNode, scope) || false;\r\n      if (shouldShow) {\r\n        domClasses(showNode).remove(HIDE_CLASS);\r\n      } else {\r\n        domClasses(showNode).add(HIDE_CLASS);\r\n      }\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Evaluates a given function. If it returns true, then the\r\n * node is marked as \"disabled\".\r\n */\r\nPropertiesPanel.prototype.updateDisable = function(entry, node) {\r\n  var current = this._current;\r\n\r\n  if (!current) {\r\n    return;\r\n  }\r\n\r\n  var nodes = domQueryAll('[data-disable]', node) || [];\r\n\r\n  forEach(nodes, function(currentNode) {\r\n    var expr = domAttr(currentNode, 'data-disable');\r\n    var fn = get(entry, expr);\r\n    if (fn) {\r\n      var scope = domClosest(currentNode, '[data-scope]') || node;\r\n      var shouldDisable = fn(current.element, node, currentNode, scope) || false;\r\n      domAttr(currentNode, 'disabled', shouldDisable ? '' : null);\r\n    }\r\n  });\r\n};\r\n\r\nPropertiesPanel.prototype.executeAction = function(entry, entryNode, actionId, event) {\r\n  var current = this._current;\r\n\r\n  if (!current) {\r\n    return;\r\n  }\r\n\r\n  var fn = get(entry, actionId);\r\n  if (fn) {\r\n    var scopeNode = domClosest(event.target, '[data-scope]') || entryNode;\r\n    return fn.apply(entry, [ current.element, entryNode, event, scopeNode ]);\r\n  }\r\n};\r\n\r\n/**\r\n * Apply changes to the business object by executing a command\r\n */\r\nPropertiesPanel.prototype.applyChanges = function(entry, values, containerElement) {\r\n\r\n  var element = this._current.element;\r\n\r\n  // ensure we only update the model if we got dirty changes\r\n  if (valuesEqual(values, entry.oldValues)) {\r\n    return;\r\n  }\r\n\r\n  var command = entry.set(element, values, containerElement);\r\n\r\n  var commandToExecute;\r\n\r\n  if (isArray(command)) {\r\n    if (command.length) {\r\n      commandToExecute = {\r\n        cmd: 'properties-panel.multi-command-executor',\r\n        context: flattenDeep(command)\r\n      };\r\n    }\r\n  } else {\r\n    commandToExecute = command;\r\n  }\r\n\r\n  if (commandToExecute) {\r\n    this._commandStack.execute(commandToExecute.cmd, commandToExecute.context || { element : element });\r\n  } else {\r\n    this.update(element);\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * apply validation errors in the DOM and show or remove an error message near the entry node.\r\n */\r\nPropertiesPanel.prototype.applyValidationErrors = function(validationErrors, entryNode) {\r\n\r\n  var valid = true;\r\n\r\n  var controlNodes = getFormControls(entryNode, true);\r\n\r\n  forEach(controlNodes, function(controlNode) {\r\n\r\n    var name = domAttr(controlNode, 'name') || domAttr(controlNode, 'data-name');\r\n\r\n    var error = validationErrors && validationErrors[name];\r\n\r\n    var errorMessageNode = domQuery('.bpp-error-message', controlNode.parentNode);\r\n\r\n    if (error) {\r\n      valid = false;\r\n\r\n      if (!errorMessageNode) {\r\n        errorMessageNode = domify('<div></div>');\r\n\r\n        domClasses(errorMessageNode).add('bpp-error-message');\r\n\r\n        // insert errorMessageNode after controlNode\r\n        controlNode.parentNode.insertBefore(errorMessageNode, controlNode.nextSibling);\r\n      }\r\n\r\n      errorMessageNode.innerHTML = error;\r\n\r\n      domClasses(controlNode).add('invalid');\r\n    } else {\r\n      domClasses(controlNode).remove('invalid');\r\n\r\n      if (errorMessageNode) {\r\n        controlNode.parentNode.removeChild(errorMessageNode);\r\n      }\r\n    }\r\n  });\r\n\r\n  return valid;\r\n};\r\n\r\n\r\n/**\r\n * Check if the entry contains valid input\r\n */\r\nPropertiesPanel.prototype.validate = function(entry, values, entryNode) {\r\n  var self = this;\r\n\r\n  var current = this._current;\r\n\r\n  var valid = true;\r\n\r\n  entryNode = entryNode || domQuery('[data-entry=\"' + entry.id + '\"]', current.panel);\r\n\r\n  if (values instanceof Array) {\r\n    var listContainer = domQuery('[data-list-entry-container]', entryNode),\r\n        listEntryNodes = listContainer.children || [];\r\n\r\n    // create new elements\r\n    for (var i = 0; i < values.length; i++) {\r\n      var listValue = values[i];\r\n\r\n      if (entry.validateListItem) {\r\n\r\n        var validationErrors = entry.validateListItem(current.element, listValue, entryNode, i),\r\n            listEntryNode = listEntryNodes[i];\r\n\r\n        valid = self.applyValidationErrors(validationErrors, listEntryNode) && valid;\r\n      }\r\n    }\r\n  } else {\r\n    if (entry.validate) {\r\n      this.validationErrors = entry.validate(current.element, values, entryNode);\r\n\r\n      valid = self.applyValidationErrors(this.validationErrors, entryNode) && valid;\r\n    }\r\n  }\r\n\r\n  return valid;\r\n};\r\n\r\nPropertiesPanel.prototype.getEntry = function(id) {\r\n  return this._current && this._current.entries[id];\r\n};\r\n\r\nvar flattenDeep = require('lodash/flattenDeep'),\r\n    keyBy = require('lodash/keyBy'),\r\n    map = require('lodash/map');\r\n\r\nPropertiesPanel.prototype._create = function(element, tabs) {\r\n\r\n  if (!element) {\r\n    return null;\r\n  }\r\n\r\n  var containerNode = this._container;\r\n\r\n  var panelNode = this._createPanel(element, tabs);\r\n\r\n  containerNode.appendChild(panelNode);\r\n\r\n  var entries = extractEntries(tabs);\r\n  var groups = extractGroups(tabs);\r\n\r\n  return {\r\n    tabs: tabs,\r\n    groups: groups,\r\n    entries: entries,\r\n    element: element,\r\n    panel: panelNode\r\n  };\r\n};\r\n\r\n/**\r\n * Update variable parts of the entry node on element changes.\r\n *\r\n * @param {djs.model.Base} element\r\n * @param {EntryDescriptor} entry\r\n * @param {Object} values\r\n * @param {HTMLElement} entryNode\r\n * @param {Number} idx\r\n */\r\nPropertiesPanel.prototype._bindTemplate = function(element, entry, values, entryNode, idx) {\r\n\r\n  var eventBus = this._eventBus;\r\n\r\n  function isPropertyEditable(entry, propertyName) {\r\n    return eventBus.fire('propertiesPanel.isPropertyEditable', {\r\n      entry: entry,\r\n      propertyName: propertyName,\r\n      element: element\r\n    });\r\n  }\r\n\r\n  var inputNodes = getPropertyPlaceholders(entryNode);\r\n\r\n  forEach(inputNodes, function(node) {\r\n\r\n    var name,\r\n        newValue,\r\n        editable;\r\n\r\n    // we deal with an input element\r\n    if ('value' in node || isContentEditable(node) === 'true') {\r\n      name = domAttr(node, 'name') || domAttr(node, 'data-name');\r\n      newValue = values[name];\r\n\r\n      editable = isPropertyEditable(entry, name);\r\n      if (editable && entry.editable) {\r\n        editable = entry.editable(element, entryNode, node, name, newValue, idx);\r\n      }\r\n\r\n      domAttr(node, 'readonly', editable ? null : '');\r\n      domAttr(node, 'disabled', editable ? null : '');\r\n\r\n      // take full control over setting the value\r\n      // and possibly updating the input in entry#setControlValue\r\n      if (entry.setControlValue) {\r\n        entry.setControlValue(element, entryNode, node, name, newValue, idx);\r\n      } else if (isToggle(node)) {\r\n        setToggleValue(node, newValue);\r\n      } else if (isSelect(node)) {\r\n        setSelectValue(node, newValue);\r\n      } else {\r\n        setInputValue(node, newValue);\r\n      }\r\n    }\r\n\r\n    // we deal with some non-editable html element\r\n    else {\r\n      name = domAttr(node, 'data-value');\r\n      newValue = values[name];\r\n      if (entry.setControlValue) {\r\n        entry.setControlValue(element, entryNode, node, name, newValue, idx);\r\n      } else {\r\n        setTextValue(node, newValue);\r\n      }\r\n    }\r\n  });\r\n};\r\n\r\n// TODO(nikku): WTF freaking name? Change / clarify.\r\nPropertiesPanel.prototype._updateActivation = function(current) {\r\n  var self = this;\r\n\r\n  var eventBus = this._eventBus;\r\n\r\n  var element = current.element;\r\n\r\n  function isEntryVisible(entry) {\r\n    return eventBus.fire('propertiesPanel.isEntryVisible', {\r\n      entry: entry,\r\n      element: element\r\n    });\r\n  }\r\n\r\n  function isGroupVisible(group, element, groupNode) {\r\n    if (typeof group.enabled === 'function') {\r\n      return group.enabled(element, groupNode);\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function isTabVisible(tab, element) {\r\n    if (typeof tab.enabled === 'function') {\r\n      return tab.enabled(element);\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  function toggleVisible(node, visible) {\r\n    domClasses(node).toggle(HIDE_CLASS, !visible);\r\n  }\r\n\r\n  // check whether the active tab is visible\r\n  // if not: set the first tab as active tab\r\n  function checkActiveTabVisibility(node, visible) {\r\n    var isActive = domClasses(node).has('bpp-active');\r\n    if (!visible && isActive) {\r\n      self.activateTab(current.tabs[0]);\r\n    }\r\n  }\r\n\r\n  function updateLabel(element, selector, text) {\r\n    var labelNode = domQuery(selector, element);\r\n\r\n    if (!labelNode) {\r\n      return;\r\n    }\r\n\r\n    labelNode.textContent = text;\r\n  }\r\n\r\n  var panelNode = current.panel;\r\n\r\n  forEach(current.tabs, function(tab) {\r\n\r\n    var tabNode = domQuery('[data-tab=' + tab.id + ']', panelNode);\r\n    var tabLinkNode = domQuery('[data-tab-target=' + tab.id + ']', panelNode).parentNode;\r\n\r\n    var tabVisible = false;\r\n\r\n    forEach(tab.groups, function(group) {\r\n\r\n      var groupVisible = false;\r\n\r\n      var groupNode = domQuery('[data-group=' + group.id + ']', tabNode);\r\n\r\n      forEach(group.entries, function(entry) {\r\n\r\n        var entryNode = domQuery('[data-entry=\"' + entry.id + '\"]', groupNode);\r\n\r\n        var entryVisible = isEntryVisible(entry);\r\n\r\n        groupVisible = groupVisible || entryVisible;\r\n\r\n        toggleVisible(entryNode, entryVisible);\r\n\r\n        var values = 'get' in entry ? entry.get(element, entryNode) : {};\r\n\r\n        if (values instanceof Array) {\r\n          var listEntryContainer = domQuery('[data-list-entry-container]', entryNode);\r\n          var existingElements = listEntryContainer.children || [];\r\n\r\n          for (var i = 0; i < values.length; i++) {\r\n            var listValue = values[i];\r\n            var listItemNode = existingElements[i];\r\n            if (!listItemNode) {\r\n              listItemNode = domify(entry.createListEntryTemplate(listValue, i, listEntryContainer));\r\n              listEntryContainer.appendChild(listItemNode);\r\n            }\r\n            domAttr(listItemNode, 'data-index', i);\r\n\r\n            self._bindTemplate(element, entry, listValue, listItemNode, i);\r\n          }\r\n\r\n          var entriesToRemove = existingElements.length - values.length;\r\n\r\n          for (var j = 0; j < entriesToRemove; j++) {\r\n            // remove orphaned element\r\n            listEntryContainer.removeChild(listEntryContainer.lastChild);\r\n          }\r\n\r\n        } else {\r\n          self._bindTemplate(element, entry, values, entryNode);\r\n        }\r\n\r\n        // update conditionally visible elements\r\n        self.updateState(entry, entryNode);\r\n        self.validate(entry, values, entryNode);\r\n\r\n        // remember initial state for later dirty checking\r\n        entry.oldValues = getFormControlValues(entryNode);\r\n      });\r\n\r\n      if (typeof group.label === 'function') {\r\n        updateLabel(groupNode, '.group-label', group.label(element, groupNode));\r\n      }\r\n\r\n      groupVisible = groupVisible && isGroupVisible(group, element, groupNode);\r\n\r\n      tabVisible = tabVisible || groupVisible;\r\n\r\n      toggleVisible(groupNode, groupVisible);\r\n    });\r\n\r\n    tabVisible = tabVisible && isTabVisible(tab, element);\r\n\r\n    toggleVisible(tabNode, tabVisible);\r\n    toggleVisible(tabLinkNode, tabVisible);\r\n\r\n    checkActiveTabVisibility(tabNode, tabVisible);\r\n  });\r\n\r\n  // inject elements id into header\r\n  updateLabel(panelNode, '[data-label-id]', getBusinessObject(element).id || '');\r\n};\r\n\r\nPropertiesPanel.prototype._createPanel = function(element, tabs) {\r\n  var self = this;\r\n\r\n  var panelNode = domify('<div class=\"bpp-properties\"></div>'),\r\n      headerNode = domify('<div class=\"bpp-properties-header\">' +\r\n        '<div class=\"label\" data-label-id></div>' +\r\n        '<div class=\"search\">' +\r\n          '<input type=\"search\" placeholder=\"Search for property\" />' +\r\n          '<button><span>Search</span></button>' +\r\n        '</div>' +\r\n      '</div>'),\r\n      tabBarNode = domify('<div class=\"bpp-properties-tab-bar\"></div>'),\r\n      tabLinksNode = domify('<ul class=\"bpp-properties-tabs-links\"></ul>'),\r\n      tabContainerNode = domify('<div class=\"bpp-properties-tabs-container\"></div>');\r\n\r\n  panelNode.appendChild(headerNode);\r\n\r\n  forEach(tabs, function(tab, tabIndex) {\r\n\r\n    if (!tab.id) {\r\n      throw new Error('tab must have an id');\r\n    }\r\n\r\n    var tabNode = domify('<div class=\"bpp-properties-tab\" data-tab=\"' + tab.id + '\"></div>'),\r\n        tabLinkNode = domify('<li class=\"bpp-properties-tab-link\">' +\r\n          '<a href data-tab-target=\"' + tab.id + '\">' + tab.label + '</a>' +\r\n        '</li>');\r\n\r\n    var groups = tab.groups;\r\n\r\n    forEach(groups, function(group) {\r\n\r\n      if (!group.id) {\r\n        throw new Error('group must have an id');\r\n      }\r\n\r\n      var groupNode = domify('<div class=\"bpp-properties-group\" data-group=\"' + group.id + '\">' +\r\n          '<span class=\"group-toggle\"></span>' +\r\n          '<span class=\"group-label\">' + group.label + '</span>' +\r\n        '</div>');\r\n\r\n      // TODO(nre): use event delegation to handle that...\r\n      groupNode.querySelector('.group-toggle').addEventListener('click', function(evt) {\r\n        domClasses(groupNode).toggle('group-closed');\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n      });\r\n      groupNode.addEventListener('click', function(evt) {\r\n        if (!evt.defaultPrevented && domClasses(groupNode).has('group-closed')) {\r\n          domClasses(groupNode).remove('group-closed');\r\n        }\r\n      });\r\n\r\n      forEach(group.entries, function(entry) {\r\n\r\n        if (!entry.id) {\r\n          throw new Error('entry must have an id');\r\n        }\r\n\r\n        var html = entry.html;\r\n\r\n        if (typeof html === 'string') {\r\n          html = domify(html);\r\n        }\r\n\r\n        // unwrap jquery\r\n        if (html.get && html.constructor.prototype.jquery) {\r\n          html = html.get(0);\r\n        }\r\n\r\n        var entryNode = domify('<div class=\"bpp-properties-entry\" data-entry=\"' + entry.id + '\"></div>');\r\n\r\n        forEach(entry.cssClasses || [], function(cssClass) {\r\n          domClasses(entryNode).add(cssClass);\r\n        });\r\n\r\n        entryNode.appendChild(html);\r\n\r\n        groupNode.appendChild(entryNode);\r\n\r\n        // update conditionally visible elements\r\n        self.updateState(entry, entryNode);\r\n      });\r\n\r\n      tabNode.appendChild(groupNode);\r\n    });\r\n\r\n    tabLinksNode.appendChild(tabLinkNode);\r\n    tabContainerNode.appendChild(tabNode);\r\n  });\r\n\r\n  tabBarNode.appendChild(tabLinksNode);\r\n\r\n  panelNode.appendChild(tabBarNode);\r\n  panelNode.appendChild(tabContainerNode);\r\n\r\n  return panelNode;\r\n};\r\n\r\n\r\n\r\nfunction setInputValue(node, value) {\r\n\r\n  var contentEditable = isContentEditable(node);\r\n\r\n  var oldValue = contentEditable ? node.innerText : node.value;\r\n\r\n  var selection;\r\n\r\n  // prevents input fields from having the value 'undefined'\r\n  if (value === undefined) {\r\n    value = '';\r\n  }\r\n\r\n  if (oldValue === value) {\r\n    return;\r\n  }\r\n\r\n  // update selection on undo/redo\r\n  if (document.activeElement === node) {\r\n    selection = updateSelection(getSelection(node), oldValue, value);\r\n  }\r\n\r\n  if (contentEditable) {\r\n    node.innerText = value;\r\n  } else {\r\n    node.value = value;\r\n  }\r\n\r\n  if (selection) {\r\n    setSelection(node, selection);\r\n  }\r\n}\r\n\r\nfunction setSelectValue(node, value) {\r\n  if (value !== undefined) {\r\n    node.value = value;\r\n  }\r\n}\r\n\r\nfunction setToggleValue(node, value) {\r\n  var nodeValue = node.value;\r\n\r\n  node.checked = (value === nodeValue) || (!domAttr(node, 'value') && value);\r\n}\r\n\r\nfunction setTextValue(node, value) {\r\n  node.textContent = value;\r\n}\r\n\r\nfunction getSelection(node) {\r\n\r\n  return isContentEditable(node) ? getContentEditableSelection(node) : {\r\n    start: node.selectionStart,\r\n    end: node.selectionEnd\r\n  };\r\n}\r\n\r\nfunction getContentEditableSelection(node) {\r\n\r\n  var selection = window.getSelection();\r\n\r\n  var focusNode = selection.focusNode,\r\n      focusOffset = selection.focusOffset,\r\n      anchorOffset = selection.anchorOffset;\r\n\r\n  if (!focusNode) {\r\n    throw new Error('not selected');\r\n  }\r\n\r\n  // verify we have selection on the current element\r\n  if (!node.contains(focusNode)) {\r\n    throw new Error('not selected');\r\n  }\r\n\r\n  return {\r\n    start: Math.min(focusOffset, anchorOffset),\r\n    end: Math.max(focusOffset, anchorOffset)\r\n  };\r\n}\r\n\r\nfunction setSelection(node, selection) {\r\n\r\n  if (isContentEditable(node)) {\r\n    setContentEditableSelection(node, selection);\r\n  } else {\r\n    node.selectionStart = selection.start;\r\n    node.selectionEnd = selection.end;\r\n  }\r\n}\r\n\r\nfunction setContentEditableSelection(node, selection) {\r\n\r\n  var focusNode,\r\n      domRange,\r\n      domSelection;\r\n\r\n  focusNode = node.firstChild || node,\r\n  domRange = document.createRange();\r\n  domRange.setStart(focusNode, selection.start);\r\n  domRange.setEnd(focusNode, selection.end);\r\n\r\n  domSelection = window.getSelection();\r\n  domSelection.removeAllRanges();\r\n  domSelection.addRange(domRange);\r\n}\r\n\r\nfunction isImplicitRoot(element) {\r\n  return element.id === '__implicitroot';\r\n}\r\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","'use strict';\r\n\r\nvar isArray = require('lodash/isArray');\r\nvar isObject = require('lodash/isObject');\r\n\r\nvar DROPDOWN_TYPE = 'Dropdown';\r\n\r\nvar VALID_TYPES = [ 'String', 'Text', 'Boolean', 'Hidden', DROPDOWN_TYPE ];\r\n\r\nvar PROPERTY_TYPE = 'property',\r\n    ACTIVITI_PROPERTY_TYPE = 'activiti:property',\r\n    ACTIVITI_INPUT_PARAMETER_TYPE = 'activiti:inputParameter',\r\n    ACTIVITI_OUTPUT_PARAMETER_TYPE = 'activiti:outputParameter',\r\n    ACTIVITI_IN_TYPE = 'activiti:in',\r\n    ACTIVITI_OUT_TYPE = 'activiti:out',\r\n    ACTIVITI_IN_BUSINESS_KEY_TYPE = 'activiti:in:businessKey',\r\n    ACTIVITI_EXECUTION_LISTENER = 'activiti:executionListener',\r\n    ACTIVITI_FIELD = 'activiti:field';\r\n\r\nvar VALID_BINDING_TYPES = [\r\n  PROPERTY_TYPE,\r\n  ACTIVITI_PROPERTY_TYPE,\r\n  ACTIVITI_INPUT_PARAMETER_TYPE,\r\n  ACTIVITI_OUTPUT_PARAMETER_TYPE,\r\n  ACTIVITI_IN_TYPE,\r\n  ACTIVITI_OUT_TYPE,\r\n  ACTIVITI_IN_BUSINESS_KEY_TYPE,\r\n  ACTIVITI_EXECUTION_LISTENER,\r\n  ACTIVITI_FIELD\r\n];\r\n\r\n\r\n/**\r\n * A element template validator.\r\n */\r\nfunction Validator() {\r\n\r\n  this._templatesById = {};\r\n\r\n  this._validTemplates = [];\r\n  this._errors = [];\r\n\r\n\r\n  /**\r\n   * Adds the templates.\r\n   *\r\n   * @param {Array<TemplateDescriptor>} templates\r\n   *\r\n   * @return {Validator} self\r\n   */\r\n  this.addAll = function(templates) {\r\n\r\n    if (!isArray(templates)) {\r\n      this._logError('templates must be []');\r\n    } else {\r\n      templates.forEach(this.add, this);\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Add the given element template, if it is valid.\r\n   *\r\n   * @param {TemplateDescriptor} template\r\n   *\r\n   * @return {Validator} self\r\n   */\r\n  this.add = function(template) {\r\n\r\n    var err = this._validateTemplate(template);\r\n\r\n    if (!err) {\r\n      this._templatesById[template.id] = template;\r\n\r\n      this._validTemplates.push(template);\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Validate given template and return error (if any).\r\n   *\r\n   * @param {TemplateDescriptor} template\r\n   *\r\n   * @return {Error} validation error, if any\r\n   */\r\n  this._validateTemplate = function(template) {\r\n\r\n    var err,\r\n        id = template.id,\r\n        appliesTo = template.appliesTo,\r\n        properties = template.properties,\r\n        scopes = template.scopes;\r\n\r\n    if (!id) {\r\n      return this._logError('missing template id');\r\n    }\r\n\r\n    if (id in this._templatesById) {\r\n      return this._logError('template id <' + id + '> already used');\r\n    }\r\n\r\n    if (!isArray(appliesTo)) {\r\n      err = this._logError('missing appliesTo=[]', template);\r\n    }\r\n\r\n    if (!isArray(properties)) {\r\n      err = this._logError('missing properties=[]', template);\r\n    } else {\r\n      if (!this._validateProperties(properties)) {\r\n        err = new Error('invalid properties');\r\n      }\r\n    }\r\n\r\n    if (scopes) {\r\n      err = this._validateScopes(template, scopes);\r\n    }\r\n\r\n    return err;\r\n  };\r\n\r\n  this._validateScopes = function(template, scopes) {\r\n\r\n    var err,\r\n        scope,\r\n        scopeName;\r\n\r\n    if (!isObject(scopes) || isArray(scopes)) {\r\n      return this._logError('invalid scopes, should be scopes={}', template);\r\n    }\r\n\r\n    for (scopeName in scopes) {\r\n      scope = scopes[scopeName];\r\n\r\n      if (!isObject(scope) || isArray(scope)) {\r\n        err = this._logError('invalid scope, should be scope={}', template);\r\n      }\r\n\r\n      if (!isArray(scope.properties)) {\r\n        err = this._logError(\r\n          'missing properties=[] in scope <' + scopeName + '>', template\r\n        );\r\n      } else {\r\n        if (!this._validateProperties(scope.properties)) {\r\n          err = new Error('invalid properties in scope <' + scopeName + '>');\r\n        }\r\n      }\r\n    }\r\n\r\n    return err;\r\n  };\r\n\r\n  /**\r\n   * Validate properties and return false if any is invalid.\r\n   *\r\n   * @param {Array<PropertyDescriptor>} properties\r\n   *\r\n   * @return {Boolean} true if all properties are valid\r\n   */\r\n  this._validateProperties = function(properties) {\r\n    var validProperties = properties.filter(this._validateProperty, this);\r\n\r\n    return properties.length === validProperties.length;\r\n  };\r\n\r\n  /**\r\n   * Validate property and return false, if there was\r\n   * a validation error.\r\n   *\r\n   * @param {PropertyDescriptor} property\r\n   *\r\n   * @return {Boolean} true if property is valid\r\n   */\r\n  this._validateProperty = function(property) {\r\n\r\n    var type = property.type,\r\n        binding = property.binding;\r\n\r\n    var err;\r\n\r\n    var bindingType = binding.type;\r\n\r\n    if (VALID_TYPES.indexOf(type) === -1) {\r\n      err = this._logError(\r\n        'invalid property type <' + type + '>; ' +\r\n        'must be any of { ' + VALID_TYPES.join(', ') + ' }'\r\n      );\r\n    }\r\n\r\n    if (type === DROPDOWN_TYPE && bindingType !== ACTIVITI_EXECUTION_LISTENER) {\r\n      if (!isArray(property.choices)) {\r\n        err = this._logError(\r\n          'must provide choices=[] with ' + DROPDOWN_TYPE + ' type'\r\n        );\r\n      } else\r\n\r\n      if (!property.choices.every(isDropdownChoiceValid)) {\r\n        err = this._logError(\r\n          '{ name, value } must be specified for ' +\r\n          DROPDOWN_TYPE + ' choices'\r\n        );\r\n      }\r\n    }\r\n\r\n    if (!binding) {\r\n      return this._logError('property missing binding');\r\n    }\r\n\r\n    if (VALID_BINDING_TYPES.indexOf(bindingType) === -1) {\r\n      err = this._logError(\r\n        'invalid property.binding type <' + bindingType + '>; ' +\r\n        'must be any of { ' + VALID_BINDING_TYPES.join(', ') + ' }'\r\n      );\r\n    }\r\n\r\n    if (bindingType === PROPERTY_TYPE ||\r\n        bindingType === ACTIVITI_PROPERTY_TYPE ||\r\n        bindingType === ACTIVITI_INPUT_PARAMETER_TYPE ||\r\n        bindingType === ACTIVITI_FIELD) {\r\n\r\n      if (!binding.name) {\r\n        err = this._logError(\r\n          'property.binding <' + bindingType + '> requires name'\r\n        );\r\n      }\r\n    }\r\n\r\n    if (bindingType === ACTIVITI_OUTPUT_PARAMETER_TYPE) {\r\n      if (!binding.source) {\r\n        err = this._logError(\r\n          'property.binding <' + bindingType + '> requires source'\r\n        );\r\n      }\r\n    }\r\n\r\n    if (bindingType === ACTIVITI_IN_TYPE) {\r\n\r\n      if (!binding.variables && !binding.target) {\r\n        err = this._logError(\r\n          'property.binding <' + bindingType + '> requires ' +\r\n          'variables or target'\r\n        );\r\n      }\r\n    }\r\n\r\n    if (bindingType === ACTIVITI_OUT_TYPE) {\r\n\r\n      if (!binding.variables && !binding.source && !binding.sourceExpression) {\r\n        err = this._logError(\r\n          'property.binding <' + bindingType + '> requires ' +\r\n          'variables, sourceExpression or source'\r\n        );\r\n      }\r\n    }\r\n\r\n    if (bindingType === ACTIVITI_EXECUTION_LISTENER) {\r\n\r\n      if (type !== 'Hidden') {\r\n        err = this._logError(\r\n          'invalid property type <' + type + '> for ' + ACTIVITI_EXECUTION_LISTENER + '; ' +\r\n          'must be <Hidden>'\r\n        );\r\n      }\r\n    }\r\n\r\n    return !err;\r\n  };\r\n\r\n\r\n  this._logError = function(err, template) {\r\n\r\n    if (typeof err === 'string') {\r\n      if (template) {\r\n        err = 'template(id: ' + template.id + ') ' + err;\r\n      }\r\n\r\n      err = new Error(err);\r\n    }\r\n\r\n    this._errors.push(err);\r\n\r\n    return err;\r\n  };\r\n\r\n  this.getErrors = function() {\r\n    return this._errors;\r\n  };\r\n\r\n  this.getValidTemplates = function() {\r\n    return this._validTemplates;\r\n  };\r\n}\r\n\r\nmodule.exports = Validator;\r\n\r\n\r\n// helpers ///////////////////////////////////\r\n\r\nfunction isDropdownChoiceValid(c) {\r\n  return 'name' in c && 'value' in c;\r\n}\r\n","'use strict';\r\n\r\nvar forEach = require('lodash/forEach');\r\n\r\n/**\r\n * A handler that combines and executes multiple commands.\r\n *\r\n * All updates are bundled on the command stack and executed in one step.\r\n * This also makes it possible to revert the changes in one step.\r\n *\r\n * Example use case: remove the activiti:formKey attribute and in addition\r\n * add all form fields needed for the activiti:formData property.\r\n *\r\n * @class\r\n * @constructor\r\n */\r\nfunction MultiCommandHandler(commandStack) {\r\n  this._commandStack = commandStack;\r\n}\r\n\r\nMultiCommandHandler.$inject = [ 'commandStack' ];\r\n\r\nmodule.exports = MultiCommandHandler;\r\n\r\nMultiCommandHandler.prototype.preExecute = function(context) {\r\n\r\n  var commandStack = this._commandStack;\r\n\r\n  forEach(context, function(command) {\r\n    commandStack.execute(command.cmd, command.context);\r\n  });\r\n};","'use strict';\r\n\r\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\r\n    is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    forEach = require('lodash/forEach');\r\n\r\nvar EventDefinitionHelper = {};\r\n\r\nmodule.exports = EventDefinitionHelper;\r\n\r\nEventDefinitionHelper.getEventDefinition = function(element, eventType) {\r\n\r\n  var bo = getBusinessObject(element),\r\n      eventDefinition = null;\r\n\r\n  if (bo.eventDefinitions) {\r\n    forEach(bo.eventDefinitions, function(event) {\r\n      if (is(event, eventType)) {\r\n        eventDefinition = event;\r\n      }\r\n    });\r\n  }\r\n\r\n  return eventDefinition;\r\n};\r\n\r\nEventDefinitionHelper.getTimerEventDefinition = function(element) {\r\n  return this.getEventDefinition(element, 'bpmn:TimerEventDefinition');\r\n};\r\n\r\nEventDefinitionHelper.getMessageEventDefinition = function(element) {\r\n  return this.getEventDefinition(element, 'bpmn:MessageEventDefinition');\r\n};\r\n\r\nEventDefinitionHelper.getSignalEventDefinition = function(element) {\r\n  return this.getEventDefinition(element, 'bpmn:SignalEventDefinition');\r\n};\r\n\r\nEventDefinitionHelper.getErrorEventDefinition = function(element) {\r\n  return this.getEventDefinition(element, 'bpmn:ErrorEventDefinition');\r\n};\r\n\r\nEventDefinitionHelper.getEscalationEventDefinition = function(element) {\r\n  return this.getEventDefinition(element, 'bpmn:EscalationEventDefinition');\r\n};\r\n\r\nEventDefinitionHelper.getCompensateEventDefinition = function(element) {\r\n  return this.getEventDefinition(element, 'bpmn:CompensateEventDefinition');\r\n};\r\n\r\nEventDefinitionHelper.getLinkEventDefinition = function(element) {\r\n  return this.getEventDefinition(element, 'bpmn:LinkEventDefinition');\r\n};\r\n\r\nEventDefinitionHelper.getConditionalEventDefinition = function(element) {\r\n  return this.getEventDefinition(element, 'bpmn:ConditionalEventDefinition');\r\n};\r\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used to match wrap detail comments. */\nvar reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/;\n\n/**\n * Inserts wrapper `details` in a comment at the top of the `source` body.\n *\n * @private\n * @param {string} source The source to modify.\n * @returns {Array} details The details to insert.\n * @returns {string} Returns the modified source.\n */\nfunction insertWrapDetails(source, details) {\n  var length = details.length;\n  if (!length) {\n    return source;\n  }\n  var lastIndex = length - 1;\n  details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n  details = details.join(length > 2 ? ', ' : ' ');\n  return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n}\n\nmodule.exports = insertWrapDetails;\n","'use strict';\r\n\r\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    isAny = require('bpmn-js/lib/features/modeling/util/ModelingUtil').isAny;\r\n\r\nvar find = require('lodash/find');\r\n\r\n\r\nvar TEMPLATE_ATTR = 'activiti:modelerTemplate';\r\n\r\n/**\r\n * The BPMN 2.0 extension attribute name under\r\n * which the element template is stored.\r\n *\r\n * @type {String}\r\n */\r\nmodule.exports.TEMPLATE_ATTR = TEMPLATE_ATTR;\r\n\r\n\r\n/**\r\n * Get template id for a given diagram element.\r\n *\r\n * @param {djs.model.Base} element\r\n *\r\n * @return {String}\r\n */\r\nfunction getTemplateId(element) {\r\n\r\n  var bo = getBusinessObject(element);\r\n\r\n  if (bo) {\r\n    return bo.get(TEMPLATE_ATTR);\r\n  }\r\n}\r\n\r\nmodule.exports.getTemplateId = getTemplateId;\r\n\r\n\r\n/**\r\n * Get template of a given element.\r\n *\r\n * @param {Element} element\r\n * @param {ElementTemplates} elementTemplates\r\n *\r\n * @return {TemplateDefinition}\r\n */\r\nfunction getTemplate(element, elementTemplates) {\r\n  var id = getTemplateId(element);\r\n\r\n  return id && elementTemplates.get(id);\r\n}\r\n\r\nmodule.exports.getTemplate = getTemplate;\r\n\r\n/**\r\n * Get default template for a given element.\r\n *\r\n * @param {Element} element\r\n * @param {ElementTemplates} elementTemplates\r\n *\r\n * @return {TemplateDefinition}\r\n */\r\nfunction getDefaultTemplate(element, elementTemplates) {\r\n\r\n  // return first default template, if any exists\r\n  return (\r\n    elementTemplates.getAll().filter(function(t) {\r\n      return isAny(element, t.appliesTo) && t.isDefault;\r\n    })\r\n  )[0];\r\n}\r\n\r\nmodule.exports.getDefaultTemplate = getDefaultTemplate;\r\n\r\n\r\n/**\r\n * Find extension with given type in\r\n * BPMN element, diagram element or ExtensionElement.\r\n *\r\n * @param {ModdleElement|djs.model.Base} element\r\n * @param {String} type\r\n *\r\n * @return {ModdleElement} the extension\r\n */\r\nfunction findExtension(element, type) {\r\n  var bo = getBusinessObject(element);\r\n\r\n  var extensionElements;\r\n\r\n  if (is(bo, 'bpmn:ExtensionElements')) {\r\n    extensionElements = bo;\r\n  } else {\r\n    extensionElements = bo.extensionElements;\r\n  }\r\n\r\n  if (!extensionElements) {\r\n    return null;\r\n  }\r\n\r\n  return find(extensionElements.get('values'), function(e) {\r\n    return is(e, type);\r\n  });\r\n}\r\n\r\nmodule.exports.findExtension = findExtension;\r\n\r\n\r\nfunction findExtensions(element, types) {\r\n  var extensionElements = getExtensionElements(element);\r\n\r\n  if (!extensionElements) {\r\n    return [];\r\n  }\r\n\r\n  return extensionElements.get('values').filter(function(e) {\r\n    return isAny(e, types);\r\n  });\r\n}\r\n\r\nmodule.exports.findExtensions = findExtensions;\r\n\r\n\r\nfunction findCamundaInOut(element, binding) {\r\n\r\n  var extensionElements = getExtensionElements(element);\r\n\r\n  if (!extensionElements) {\r\n    return;\r\n  }\r\n\r\n  var matcher;\r\n\r\n  if (binding.type === 'activiti:in') {\r\n    matcher = function(e) {\r\n      return is(e, 'activiti:In') && isInOut(e, binding);\r\n    };\r\n  } else\r\n  if (binding.type === 'activiti:out') {\r\n    matcher = function(e) {\r\n      return is(e, 'activiti:Out') && isInOut(e, binding);\r\n    };\r\n  } else\r\n  if (binding.type === 'activiti:in:businessKey') {\r\n    matcher = function(e) {\r\n      return is(e, 'activiti:In') && 'businessKey' in e;\r\n    };\r\n  }\r\n\r\n  return find(extensionElements.get('values'), matcher);\r\n}\r\n\r\nmodule.exports.findCamundaInOut = findCamundaInOut;\r\n\r\nfunction findCamundaProperty(camundaProperties, binding) {\r\n  return find(camundaProperties.get('values'), function(p) {\r\n    return p.name === binding.name;\r\n  });\r\n}\r\n\r\nmodule.exports.findCamundaProperty = findCamundaProperty;\r\n\r\n\r\nfunction findInputParameter(inputOutput, binding) {\r\n  var parameters = inputOutput.get('inputParameters');\r\n\r\n  return find(parameters, function(p) {\r\n    return p.name === binding.name;\r\n  });\r\n}\r\n\r\nmodule.exports.findInputParameter = findInputParameter;\r\n\r\n\r\nfunction findOutputParameter(inputOutput, binding) {\r\n  var parameters = inputOutput.get('outputParameters');\r\n\r\n  return find(parameters, function(p) {\r\n    var value = p.value;\r\n\r\n    if (!binding.scriptFormat) {\r\n      return value === binding.source;\r\n    }\r\n\r\n    var definition = p.definition;\r\n\r\n    if (!definition || binding.scriptFormat !== definition.scriptFormat) {\r\n      return false;\r\n    }\r\n\r\n    return definition.value === binding.source;\r\n  });\r\n}\r\n\r\nmodule.exports.findOutputParameter = findOutputParameter;\r\n\r\n\r\n\r\n// helpers /////////////////////////////////\r\n\r\nfunction getExtensionElements(element) {\r\n  var bo = getBusinessObject(element);\r\n\r\n  if (is(bo, 'bpmn:ExtensionElements')) {\r\n    return bo;\r\n  } else {\r\n    return bo.extensionElements;\r\n  }\r\n}\r\n\r\n\r\nfunction isInOut(element, binding) {\r\n\r\n  if (binding.type === 'activiti:in') {\r\n    // find based on target attribute\r\n    if (binding.target) {\r\n      return element.target === binding.target;\r\n    }\r\n  }\r\n\r\n  if (binding.type === 'activiti:out') {\r\n    // find based on source / sourceExpression\r\n    if (binding.source) {\r\n      return element.source === binding.source;\r\n    }\r\n\r\n    if (binding.sourceExpression) {\r\n      return element.sourceExpression === binding.sourceExpression;\r\n    }\r\n  }\r\n\r\n  // find based variables / local combination\r\n  if (binding.variables) {\r\n    return element.variables === 'all' && (\r\n      binding.variables !== 'local' || element.local\r\n    );\r\n  }\r\n}\r\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","'use strict';\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory');\r\n\r\nvar cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\nmodule.exports = function(element, bpmnFactory, options, translate) {\r\n\r\n  var getBusinessObject = options.getBusinessObject;\r\n\r\n  var historyTimeToLiveEntry = entryFactory.textField({\r\n    id: 'historyTimeToLive',\r\n    label: translate('History Time To Live'),\r\n    modelProperty: 'historyTimeToLive',\r\n\r\n    get: function(element, node) {\r\n      var bo = getBusinessObject(element);\r\n      var historyTimeToLive = bo.get('activiti:historyTimeToLive');\r\n\r\n      return {\r\n        historyTimeToLive: historyTimeToLive ? historyTimeToLive : ''\r\n      };\r\n    },\r\n\r\n    set: function(element, values) {\r\n      var bo = getBusinessObject(element);\r\n      return cmdHelper.updateBusinessObject(element, bo, {\r\n        'activiti:historyTimeToLive': values.historyTimeToLive || undefined\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return [ historyTimeToLiveEntry ];\r\n};\r\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var assignValue = require('./_assignValue'),\n    copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    isArrayLike = require('./isArrayLike'),\n    isPrototype = require('./_isPrototype'),\n    keys = require('./keys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\nmodule.exports = assign;\n","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject,\r\n    cmdHelper = require('./CmdHelper');\r\n\r\n\r\nvar ParticipantHelper = {};\r\n\r\nmodule.exports = ParticipantHelper;\r\n\r\nParticipantHelper.modifyProcessBusinessObject = function(element, property, values) {\r\n  if (!is(element, 'bpmn:Participant')) {\r\n    return {};\r\n  }\r\n\r\n  var bo = getBusinessObject(element).get('processRef'),\r\n      properties = {};\r\n\r\n  properties[property] = values[property];\r\n\r\n  return cmdHelper.updateBusinessObject(element, bo, properties);\r\n};\r\n\r\nParticipantHelper.getProcessBusinessObject = function(element, propertyName) {\r\n  if (!is(element, 'bpmn:Participant')) {\r\n    return {};\r\n  }\r\n\r\n  var bo = getBusinessObject(element).get('processRef'),\r\n      properties = {};\r\n\r\n  properties[propertyName] = bo.get(propertyName);\r\n\r\n  return properties;\r\n};","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","'use strict';\r\n\r\nvar domify = require('min-dom').domify;\r\n\r\nvar forEach = require('lodash/forEach');\r\n\r\nvar entryFieldDescription = require('./EntryFieldDescription');\r\n\r\n\r\nvar isList = function(list) {\r\n  return !(!list || Object.prototype.toString.call(list) !== '[object Array]');\r\n};\r\n\r\nvar addEmptyParameter = function(list) {\r\n  return list.concat([ { name: '', value: '' } ]);\r\n};\r\n\r\nvar createOption = function(option) {\r\n  return '<option value=\"' + option.value + '\">' + option.name + '</option>';\r\n};\r\n\r\n/**\r\n * @param  {Object} options\r\n * @param  {string} options.id\r\n * @param  {string} [options.label]\r\n * @param  {Array<Object>} options.selectOptions\r\n * @param  {string} options.modelProperty\r\n * @param  {boolean} options.emptyParameter\r\n * @param  {function} options.disabled\r\n * @param  {function} options.hidden\r\n * @param  {Object} defaultParameters\r\n *\r\n * @return {Object}\r\n */\r\nvar selectbox = function(options, defaultParameters) {\r\n  var resource = defaultParameters,\r\n      label = options.label || resource.id,\r\n      selectOptions = options.selectOptions || [ { name: '', value: '' } ],\r\n      modelProperty = options.modelProperty,\r\n      emptyParameter = options.emptyParameter,\r\n      canBeDisabled = !!options.disabled && typeof options.disabled === 'function',\r\n      canBeHidden = !!options.hidden && typeof options.hidden === 'function',\r\n      description = options.description;\r\n\r\n\r\n  if (emptyParameter) {\r\n    selectOptions = addEmptyParameter(selectOptions);\r\n  }\r\n\r\n\r\n  resource.html =\r\n    '<label for=\"camunda-' + resource.id + '\"' +\r\n    (canBeDisabled ? 'data-disable=\"isDisabled\" ' : '') +\r\n    (canBeHidden ? 'data-show=\"isHidden\" ' : '') +\r\n    '>' + label + '</label>' +\r\n    '<select id=\"camunda-' + resource.id + '-select\" name=\"' + modelProperty + '\"' +\r\n    (canBeDisabled ? 'data-disable=\"isDisabled\" ' : '') +\r\n    (canBeHidden ? 'data-show=\"isHidden\" ' : '') +\r\n    ' data-value>';\r\n\r\n  if (isList(selectOptions)) {\r\n    forEach(selectOptions, function(option) {\r\n      resource.html += '<option value=\"' + option.value + '\">' + (option.name || '') + '</option>';\r\n    });\r\n  }\r\n\r\n  resource.html += '</select>';\r\n\r\n  // add description below select box entry field\r\n  if (description && typeof options.showCustomInput !== 'function') {\r\n    resource.html += entryFieldDescription(description);\r\n  }\r\n\r\n  /**\r\n   * Fill the select box options dynamically.\r\n   *\r\n   * Calls the defined function #selectOptions in the entry to get the\r\n   * values for the options and set the value to the inputNode.\r\n   *\r\n   * @param {djs.model.Base} element\r\n   * @param {HTMLElement} entryNode\r\n   * @param {EntryDescriptor} inputNode\r\n   * @param {Object} inputName\r\n   * @param {Object} newValue\r\n   */\r\n  resource.setControlValue = function(element, entryNode, inputNode, inputName, newValue) {\r\n    if (typeof selectOptions === 'function') {\r\n\r\n      var options = selectOptions(element, inputNode);\r\n\r\n      if (options) {\r\n\r\n        // remove existing options\r\n        while (inputNode.firstChild) {\r\n          inputNode.removeChild(inputNode.firstChild);\r\n        }\r\n\r\n        // add options\r\n        forEach(options, function(option) {\r\n          var template = domify(createOption(option));\r\n\r\n          inputNode.appendChild(template);\r\n        });\r\n\r\n\r\n      }\r\n    }\r\n\r\n    // set select value\r\n    if (newValue !== undefined) {\r\n      inputNode.value = newValue;\r\n    }\r\n\r\n  };\r\n\r\n  if (canBeDisabled) {\r\n    resource.isDisabled = function() {\r\n      return options.disabled.apply(resource, arguments);\r\n    };\r\n  }\r\n\r\n  if (canBeHidden) {\r\n    resource.isHidden = function() {\r\n      return !options.hidden.apply(resource, arguments);\r\n    };\r\n  }\r\n\r\n  resource.cssClasses = ['bpp-dropdown'];\r\n\r\n  return resource;\r\n};\r\n\r\nmodule.exports = selectbox;\r\n","'use strict';\r\n\r\nvar reduce = require('lodash/transform'),\r\n    is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    keys = require('lodash/keys'),\r\n    forEach = require('lodash/forEach');\r\n\r\n/**\r\n * A handler that implements a BPMN 2.0 property update\r\n * for business objects which are not represented in the\r\n * diagram.\r\n *\r\n * This is useful in the context of the properties panel in\r\n * order to update child elements of elements visible in\r\n * the diagram.\r\n *\r\n * Example: perform an update of a specific event definition\r\n * of an intermediate event.\r\n *\r\n * @class\r\n * @constructor\r\n */\r\nfunction UpdateBusinessObjectHandler(elementRegistry) {\r\n  this._elementRegistry = elementRegistry;\r\n}\r\n\r\nUpdateBusinessObjectHandler.$inject = [ 'elementRegistry' ];\r\n\r\nmodule.exports = UpdateBusinessObjectHandler;\r\n\r\n/**\r\n * returns the root element\r\n */\r\nfunction getRoot(businessObject) {\r\n  var parent = businessObject;\r\n  while (parent.$parent) {\r\n    parent = parent.$parent;\r\n  }\r\n  return parent;\r\n}\r\n\r\nfunction getProperties(businessObject, propertyNames) {\r\n  return reduce(propertyNames, function(result, key) {\r\n    result[key] = businessObject.get(key);\r\n    return result;\r\n  }, {});\r\n}\r\n\r\n\r\nfunction setProperties(businessObject, properties) {\r\n  forEach(properties, function(value, key) {\r\n    businessObject.set(key, value);\r\n  });\r\n}\r\n\r\n\r\n// api /////////////////////////////////////////////\r\n\r\n/**\r\n * Updates a business object with a list of new properties\r\n *\r\n * @method  UpdateBusinessObjectHandler#execute\r\n *\r\n * @param {Object} context\r\n * @param {djs.model.Base} context.element the element which has a child business object updated\r\n * @param {moddle.businessObject} context.businessObject the businessObject to update\r\n * @param {Object} context.properties a list of properties to set on the businessObject\r\n *\r\n * @return {Array<djs.mode.Base>} the updated element\r\n */\r\nUpdateBusinessObjectHandler.prototype.execute = function(context) {\r\n\r\n  var element = context.element,\r\n      businessObject = context.businessObject,\r\n      rootElements = getRoot(businessObject).rootElements,\r\n      referenceType = context.referenceType,\r\n      referenceProperty = context.referenceProperty,\r\n      changed = [ element ]; // this will not change any diagram-js elements\r\n\r\n  if (!element) {\r\n    throw new Error('element required');\r\n  }\r\n\r\n  if (!businessObject) {\r\n    throw new Error('businessObject required');\r\n  }\r\n\r\n  var properties = context.properties,\r\n      oldProperties = context.oldProperties || getProperties(businessObject, keys(properties));\r\n\r\n  // check if there the update needs an external element for reference\r\n  if (typeof referenceType !== 'undefined' && typeof referenceProperty !== 'undefined') {\r\n    forEach(rootElements, function(rootElement) {\r\n      if (is(rootElement, referenceType)) {\r\n        if (rootElement.id === properties[referenceProperty]) {\r\n          properties[referenceProperty] = rootElement;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // update properties\r\n  setProperties(businessObject, properties);\r\n\r\n  // store old values\r\n  context.oldProperties = oldProperties;\r\n  context.changed = changed;\r\n\r\n  // indicate changed on objects affected by the update\r\n  return changed;\r\n};\r\n\r\n/**\r\n * Reverts the update\r\n *\r\n * @method  UpdateBusinessObjectHandler#revert\r\n *\r\n * @param {Object} context\r\n *\r\n * @return {djs.mode.Base} the updated element\r\n */\r\nUpdateBusinessObjectHandler.prototype.revert = function(context) {\r\n\r\n  var oldProperties = context.oldProperties,\r\n      businessObject = context.businessObject;\r\n\r\n  // update properties\r\n  setProperties(businessObject, oldProperties);\r\n\r\n  return context.changed;\r\n};\r\n","'use strict';\r\n\r\nvar ModelUtil = require('bpmn-js/lib/util/ModelUtil'),\r\n    is = ModelUtil.is,\r\n    getBusinessObject = ModelUtil.getBusinessObject;\r\n\r\nvar eventDefinitionHelper = require('./EventDefinitionHelper');\r\nvar extensionsElementHelper = require('./ExtensionElementsHelper');\r\n\r\nvar ImplementationTypeHelper = {};\r\n\r\nmodule.exports = ImplementationTypeHelper;\r\n\r\n/**\r\n * Returns 'true' if the given element is 'activiti:ServiceTaskLike'\r\n *\r\n * @param {djs.model.Base} element\r\n *\r\n * @return {boolean} a boolean value\r\n */\r\nImplementationTypeHelper.isServiceTaskLike = function(element) {\r\n  return is(element, 'activiti:ServiceTaskLike');\r\n};\r\n\r\n/**\r\n * Returns 'true' if the given element is 'activiti:DmnCapable'\r\n *\r\n * @param {djs.model.Base} element\r\n *\r\n * @return {boolean} a boolean value\r\n */\r\nImplementationTypeHelper.isDmnCapable = function(element) {\r\n  return is(element, 'activiti:DmnCapable');\r\n};\r\n\r\n/**\r\n * Returns 'true' if the given element is 'activiti:ExternalCapable'\r\n *\r\n * @param {djs.model.Base} element\r\n *\r\n * @return {boolean} a boolean value\r\n */\r\nImplementationTypeHelper.isExternalCapable = function(element) {\r\n  return is(element, 'activiti:ExternalCapable');\r\n};\r\n\r\n/**\r\n * Returns 'true' if the given element is 'activiti:TaskListener'\r\n *\r\n * @param {djs.model.Base} element\r\n *\r\n * @return {boolean} a boolean value\r\n */\r\nImplementationTypeHelper.isTaskListener = function(element) {\r\n  return is(element, 'activiti:TaskListener');\r\n};\r\n\r\n/**\r\n * Returns 'true' if the given element is 'activiti:ExecutionListener'\r\n *\r\n * @param {djs.model.Base} element\r\n *\r\n * @return {boolean} a boolean value\r\n */\r\nImplementationTypeHelper.isExecutionListener = function(element) {\r\n  return is(element, 'activiti:ExecutionListener');\r\n};\r\n\r\n/**\r\n * Returns 'true' if the given element is 'activiti:ExecutionListener' or\r\n * 'activiti:TaskListener'\r\n *\r\n * @param {djs.model.Base} element\r\n *\r\n * @return {boolean} a boolean value\r\n */\r\nImplementationTypeHelper.isListener = function(element) {\r\n  return this.isTaskListener(element) || this.isExecutionListener(element);\r\n};\r\n\r\n/**\r\n * Returns 'true' if the given element is 'bpmn:SequenceFlow'\r\n *\r\n * @param {djs.model.Base} element\r\n *\r\n * @return {boolean} a boolean value\r\n */\r\nImplementationTypeHelper.isSequenceFlow = function(element) {\r\n  return is(element, 'bpmn:SequenceFlow');\r\n};\r\n\r\n/**\r\n * Get a 'activiti:ServiceTaskLike' business object.\r\n *\r\n * If the given element is not a 'activiti:ServiceTaskLike', then 'false'\r\n * is returned.\r\n *\r\n * @param {djs.model.Base} element\r\n *\r\n * @return {ModdleElement} the 'activiti:ServiceTaskLike' business object\r\n */\r\nImplementationTypeHelper.getServiceTaskLikeBusinessObject = function(element) {\r\n\r\n  if (is(element, 'bpmn:IntermediateThrowEvent') || is(element, 'bpmn:EndEvent')) {\r\n\r\n    // change business object to 'messageEventDefinition' when\r\n    // the element is a message intermediate throw event or message end event\r\n    // because the camunda extensions (e.g. activiti:class) are in the message\r\n    // event definition tag and not in the intermediate throw event or end event tag\r\n    var messageEventDefinition = eventDefinitionHelper.getMessageEventDefinition(element);\r\n    if (messageEventDefinition) {\r\n      element = messageEventDefinition;\r\n    }\r\n  }\r\n\r\n  return this.isServiceTaskLike(element) && getBusinessObject(element);\r\n\r\n};\r\n\r\n/**\r\n * Returns 'true' if the given element is 'bpmn:ServiceTask'\r\n *\r\n * @param {djs.model.Base} element\r\n *\r\n * @return {boolean} a boolean value\r\n */\r\nImplementationTypeHelper.isServiceTask = function(element) {\r\n  return is(element, 'bpmn:ServiceTask');\r\n};\r\n\r\n/**\r\n * Returns the implementation type of the given element.\r\n *\r\n * Possible implementation types are:\r\n * - dmn\r\n * - connector\r\n * - external\r\n * - class\r\n * - expression\r\n * - delegateExpression\r\n * - script\r\n * - or undefined, when no matching implementation type is found\r\n *\r\n * @param  {djs.model.Base} element\r\n *\r\n * @return {String} the implementation type\r\n */\r\nImplementationTypeHelper.getImplementationType = function(element) {\r\n\r\n  var bo = this.getServiceTaskLikeBusinessObject(element);\r\n\r\n  if (!bo) {\r\n    if (this.isListener(element)) {\r\n      bo = element;\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n\r\n  if (this.isDmnCapable(bo)) {\r\n    var decisionRef = bo.get('activiti:decisionRef');\r\n    if (typeof decisionRef !== 'undefined') {\r\n      return 'dmn';\r\n    }\r\n  }\r\n\r\n  if (this.isServiceTaskLike(bo)) {\r\n    var connectors = extensionsElementHelper.getExtensionElements(bo, 'activiti:Connector');\r\n    if (typeof connectors !== 'undefined') {\r\n      return 'connector';\r\n    }\r\n  }\r\n\r\n  if (this.isExternalCapable(bo)) {\r\n    var type = bo.get('activiti:type');\r\n    if (type === 'external') {\r\n      return 'external';\r\n    }\r\n  }\r\n\r\n  var cls = bo.get('activiti:class');\r\n  if (typeof cls !== 'undefined') {\r\n    return 'class';\r\n  }\r\n\r\n  var expression = bo.get('activiti:expression');\r\n  if (typeof expression !== 'undefined') {\r\n    return 'expression';\r\n  }\r\n\r\n  var delegateExpression = bo.get('activiti:delegateExpression');\r\n  if (typeof delegateExpression !== 'undefined') {\r\n    return 'delegateExpression';\r\n  }\r\n\r\n  if (this.isListener(bo)) {\r\n    var script = bo.get('script');\r\n    if (typeof script !== 'undefined') {\r\n      return 'script';\r\n    }\r\n  }\r\n\r\n  if (this.isServiceTask(bo)) {\r\n    return 'implementation';\r\n  }\r\n\r\n};\r\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","'use strict';\r\n\r\nvar ImplementationTypeHelper = require('../../../helper/ImplementationTypeHelper'),\r\n    InputOutputHelper = require('../../../helper/InputOutputHelper');\r\n\r\nvar entryFactory = require('../../../factory/EntryFactory'),\r\n    cmdHelper = require('../../../helper/CmdHelper');\r\n\r\nfunction getImplementationType(element) {\r\n  return ImplementationTypeHelper.getImplementationType(element);\r\n}\r\n\r\nfunction getBusinessObject(element) {\r\n  return ImplementationTypeHelper.getServiceTaskLikeBusinessObject(element);\r\n}\r\n\r\nfunction getConnector(bo) {\r\n  return InputOutputHelper.getConnector(bo);\r\n}\r\n\r\nfunction isConnector(element) {\r\n  return getImplementationType(element) === 'connector';\r\n}\r\n\r\nmodule.exports = function(group, element, bpmnFactory, translate) {\r\n\r\n  group.entries.push(entryFactory.textField({\r\n    id: 'connectorId',\r\n    label: translate('Connector Id'),\r\n    modelProperty: 'connectorId',\r\n\r\n    get: function(element, node) {\r\n      var bo = getBusinessObject(element);\r\n      var connector = bo && getConnector(bo);\r\n      var value = connector && connector.get('connectorId');\r\n      return { connectorId: value };\r\n    },\r\n\r\n    set: function(element, values, node) {\r\n      var bo = getBusinessObject(element);\r\n      var connector = getConnector(bo);\r\n      return cmdHelper.updateBusinessObject(element, connector, {\r\n        connectorId: values.connectorId || undefined\r\n      });\r\n    },\r\n\r\n    validate: function(element, values, node) {\r\n      return isConnector(element) && !values.connectorId ? { connectorId: translate('Must provide a value') } : {};\r\n    },\r\n\r\n    hidden: function(element, node) {\r\n      return !isConnector(element);\r\n    }\r\n\r\n  }));\r\n\r\n};\r\n","var isLaziable = require('./_isLaziable'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_BOUND_FLAG = 4,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/**\n * Creates a function that wraps `func` to continue currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {Function} wrapFunc The function to create the `func` wrapper.\n * @param {*} placeholder The placeholder value.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n  var isCurry = bitmask & WRAP_CURRY_FLAG,\n      newHolders = isCurry ? holders : undefined,\n      newHoldersRight = isCurry ? undefined : holders,\n      newPartials = isCurry ? partials : undefined,\n      newPartialsRight = isCurry ? undefined : partials;\n\n  bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n  bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n  if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n    bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n  }\n  var newData = [\n    func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n    newHoldersRight, argPos, ary, arity\n  ];\n\n  var result = wrapFunc.apply(undefined, newData);\n  if (isLaziable(func)) {\n    setData(result, newData);\n  }\n  result.placeholder = placeholder;\n  return setWrapToString(result, func, bitmask);\n}\n\nmodule.exports = createRecurry;\n","'use strict';\r\n\r\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\n\r\n// input entities\r\nvar textInputField = require('./TextInputEntryFactory'),\r\n    checkboxField = require('./CheckboxEntryFactory'),\r\n    selectBoxField = require('./SelectEntryFactory'),\r\n    comboBoxField = require('./ComboEntryFactory'),\r\n    textBoxField = require('./TextBoxEntryFactory'),\r\n    validationAwareTextInputField = require('./ValidationAwareTextInput'),\r\n    tableField = require('./TableEntryFactory'),\r\n    labelEntry = require('./LabelFactory'),\r\n    link = require('./LinkEntryFactory');\r\n\r\nvar cmdHelper = require('../helper/CmdHelper');\r\n\r\n// helpers ////////////////////////////////////////\r\n\r\nfunction ensureNotNull(prop) {\r\n  if (!prop) {\r\n    throw new Error(prop + ' must be set.');\r\n  }\r\n\r\n  return prop;\r\n}\r\n\r\n/**\r\n * sets the default parameters which are needed to create an entry\r\n *\r\n * @param options\r\n * @returns {{id: *, description: (*|string), get: (*|Function), set: (*|Function),\r\n *            validate: (*|Function), html: string}}\r\n */\r\nvar setDefaultParameters = function(options) {\r\n\r\n  // default method to fetch the current value of the input field\r\n  var defaultGet = function(element) {\r\n    var bo = getBusinessObject(element),\r\n        res = {},\r\n        prop = ensureNotNull(options.modelProperty);\r\n    res[prop] = bo.get(prop);\r\n\r\n    return res;\r\n  };\r\n\r\n  // default method to set a new value to the input field\r\n  var defaultSet = function(element, values) {\r\n    var res = {},\r\n        prop = ensureNotNull(options.modelProperty);\r\n    if (values[prop] !== '') {\r\n      res[prop] = values[prop];\r\n    } else {\r\n      res[prop] = undefined;\r\n    }\r\n\r\n    return cmdHelper.updateProperties(element, res);\r\n  };\r\n\r\n  // default validation method\r\n  var defaultValidate = function() {\r\n    return {};\r\n  };\r\n\r\n  return {\r\n    id : options.id,\r\n    description : (options.description || ''),\r\n    get : (options.get || defaultGet),\r\n    set : (options.set || defaultSet),\r\n    validate : (options.validate || defaultValidate),\r\n    html: ''\r\n  };\r\n};\r\n\r\nfunction EntryFactory() {\r\n\r\n}\r\n\r\n/**\r\n * Generates an text input entry object for a property panel.\r\n * options are:\r\n * - id: id of the entry - String\r\n *\r\n * - description: description of the property - String\r\n *\r\n * - label: label for the input field - String\r\n *\r\n * - set: setter method - Function\r\n *\r\n * - get: getter method - Function\r\n *\r\n * - validate: validation mehtod - Function\r\n *\r\n * - modelProperty: name of the model property - String\r\n *\r\n * - buttonAction: Object which contains the following properties: - Object\r\n * ---- name: name of the [data-action] callback - String\r\n * ---- method: callback function for [data-action] - Function\r\n *\r\n * - buttonShow: Object which contains the following properties: - Object\r\n * ---- name: name of the [data-show] callback - String\r\n * ---- method: callback function for [data-show] - Function\r\n *\r\n * @param options\r\n * @returns the propertyPanel entry resource object\r\n */\r\nEntryFactory.textField = function(options) {\r\n  return textInputField(options, setDefaultParameters(options));\r\n};\r\n\r\nEntryFactory.validationAwareTextField = function(options) {\r\n  return validationAwareTextInputField(options, setDefaultParameters(options));\r\n};\r\n\r\n/**\r\n * Generates a checkbox input entry object for a property panel.\r\n * options are:\r\n * - id: id of the entry - String\r\n *\r\n * - description: description of the property - String\r\n *\r\n * - label: label for the input field - String\r\n *\r\n * - set: setter method - Function\r\n *\r\n * - get: getter method - Function\r\n *\r\n * - validate: validation mehtod - Function\r\n *\r\n * - modelProperty: name of the model property - String\r\n *\r\n * @param options\r\n * @returns the propertyPanel entry resource object\r\n */\r\nEntryFactory.checkbox = function(options) {\r\n  return checkboxField(options, setDefaultParameters(options));\r\n};\r\n\r\nEntryFactory.textBox = function(options) {\r\n  return textBoxField(options, setDefaultParameters(options));\r\n};\r\n\r\nEntryFactory.selectBox = function(options) {\r\n  return selectBoxField(options, setDefaultParameters(options));\r\n};\r\n\r\nEntryFactory.comboBox = function(options) {\r\n  return comboBoxField(options);\r\n};\r\n\r\nEntryFactory.table = function(options) {\r\n  return tableField(options);\r\n};\r\n\r\nEntryFactory.label = function(options) {\r\n  return labelEntry(options);\r\n};\r\n\r\nEntryFactory.link = function(options) {\r\n  return link(options);\r\n};\r\n\r\nmodule.exports = EntryFactory;\r\n","'use strict';\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory'),\r\n    is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    getTemplate = require('../Helper').getTemplate,\r\n    getTemplateId = require('../Helper').getTemplateId;\r\n\r\nvar find = require('lodash/find');\r\n\r\nvar TEMPLATE_ATTR = require('../Helper').TEMPLATE_ATTR;\r\n\r\nfunction isAny(element, types) {\r\n  return types.reduce(function(result, type) {\r\n    return result || is(element, type);\r\n  }, false);\r\n}\r\n\r\n\r\nmodule.exports = function(group, element, elementTemplates, translate) {\r\n\r\n  var options = getTemplateOptions(element, elementTemplates);\r\n\r\n  if (options.length === 1 && !options[0].isDefault) {\r\n    return;\r\n  }\r\n\r\n  // select element template (via dropdown)\r\n  group.entries.push(entryFactory.selectBox({\r\n    id: 'elementTemplate-chooser',\r\n    label: translate('Element Template'),\r\n    modelProperty: 'activiti:modelerTemplate',\r\n    selectOptions: options,\r\n    set: function(element, properties) {\r\n      return applyTemplate(element, properties[TEMPLATE_ATTR], elementTemplates);\r\n    },\r\n    disabled: function() {\r\n      var template = getTemplate(element, elementTemplates);\r\n\r\n      return template && isDefaultTemplate(template);\r\n    }\r\n  }));\r\n\r\n};\r\n\r\n\r\n// helpers //////////////////////////////////////\r\n\r\nfunction applyTemplate(element, newTemplateId, elementTemplates) {\r\n\r\n  // cleanup\r\n  // clear input output mappings\r\n  // undo changes to properties defined in template\r\n\r\n  // re-establish\r\n  // set input output mappings\r\n  // apply changes to properties as defined in new template\r\n\r\n  var oldTemplate = getTemplate(element, elementTemplates),\r\n      newTemplate = elementTemplates.get(newTemplateId);\r\n\r\n  if (oldTemplate === newTemplate) {\r\n    return;\r\n  }\r\n\r\n  return {\r\n    cmd: 'propertiesPanel.camunda.changeTemplate',\r\n    context: {\r\n      element: element,\r\n      oldTemplate: oldTemplate,\r\n      newTemplate: newTemplate\r\n    }\r\n  };\r\n}\r\n\r\nfunction getTemplateOptions(element, elementTemplates) {\r\n\r\n  var currentTemplateId = getTemplateId(element);\r\n\r\n  var emptyOption = {\r\n    name: '',\r\n    value: ''\r\n  };\r\n\r\n  var allOptions = elementTemplates.getAll().reduce(function(templates, t) {\r\n    if (!isAny(element, t.appliesTo)) {\r\n      return templates;\r\n    }\r\n\r\n    return templates.concat({\r\n      name: t.name,\r\n      value: t.id,\r\n      isDefault: t.isDefault\r\n    });\r\n  }, [ emptyOption ]);\r\n\r\n\r\n  var defaultOption = find(allOptions, function(option) {\r\n    return isDefaultTemplate(option);\r\n  });\r\n\r\n  var currentOption = find(allOptions, function(option) {\r\n    return option.value === currentTemplateId;\r\n  });\r\n\r\n  if (currentTemplateId && !currentOption) {\r\n    currentOption = unknownTemplate(currentTemplateId);\r\n\r\n    allOptions.push(currentOption);\r\n  }\r\n\r\n  if (!defaultOption) {\r\n\r\n    // return all options, including empty\r\n    // and optionally unknownTemplate option\r\n    return allOptions;\r\n  }\r\n\r\n  // special limited handling for\r\n  // default options\r\n\r\n  var options = [];\r\n\r\n  // current template not set\r\n  if (!currentTemplateId) {\r\n    options.push({\r\n      name: '',\r\n      value: ''\r\n    });\r\n  }\r\n\r\n  // current template not default\r\n  if (currentOption && currentOption !== defaultOption) {\r\n    options.push(currentOption);\r\n  }\r\n\r\n  options.push(defaultOption);\r\n\r\n  // [ (empty), (current), defaultOption ]\r\n  return options;\r\n}\r\n\r\nfunction unknownTemplate(templateId) {\r\n  return {\r\n    name: '[unknown template: ' + templateId + ']',\r\n    value: templateId\r\n  };\r\n}\r\n\r\nfunction isDefaultTemplate(elementTemplate) {\r\n  return elementTemplate.isDefault;\r\n}","/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/**\n * Replaces all `placeholder` elements in `array` with an internal placeholder\n * and returns an array of their indexes.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {*} placeholder The placeholder to replace.\n * @returns {Array} Returns the new array of placeholder indexes.\n */\nfunction replaceHolders(array, placeholder) {\n  var index = -1,\n      length = array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value === placeholder || value === PLACEHOLDER) {\n      array[index] = PLACEHOLDER;\n      result[resIndex++] = index;\n    }\n  }\n  return result;\n}\n\nmodule.exports = replaceHolders;\n","var baseSetData = require('./_baseSetData'),\n    createBind = require('./_createBind'),\n    createCurry = require('./_createCurry'),\n    createHybrid = require('./_createHybrid'),\n    createPartial = require('./_createPartial'),\n    getData = require('./_getData'),\n    mergeData = require('./_mergeData'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString'),\n    toInteger = require('./toInteger');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that either curries or invokes `func` with optional\n * `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags.\n *    1 - `_.bind`\n *    2 - `_.bindKey`\n *    4 - `_.curry` or `_.curryRight` of a bound function\n *    8 - `_.curry`\n *   16 - `_.curryRight`\n *   32 - `_.partial`\n *   64 - `_.partialRight`\n *  128 - `_.rearg`\n *  256 - `_.ary`\n *  512 - `_.flip`\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to be partially applied.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n  var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n  if (!isBindKey && typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var length = partials ? partials.length : 0;\n  if (!length) {\n    bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n    partials = holders = undefined;\n  }\n  ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n  arity = arity === undefined ? arity : toInteger(arity);\n  length -= holders ? holders.length : 0;\n\n  if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n    var partialsRight = partials,\n        holdersRight = holders;\n\n    partials = holders = undefined;\n  }\n  var data = isBindKey ? undefined : getData(func);\n\n  var newData = [\n    func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n    argPos, ary, arity\n  ];\n\n  if (data) {\n    mergeData(newData, data);\n  }\n  func = newData[0];\n  bitmask = newData[1];\n  thisArg = newData[2];\n  partials = newData[3];\n  holders = newData[4];\n  arity = newData[9] = newData[9] === undefined\n    ? (isBindKey ? 0 : func.length)\n    : nativeMax(newData[9] - length, 0);\n\n  if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n    bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n  }\n  if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n    var result = createBind(func, bitmask, thisArg);\n  } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n    result = createCurry(func, bitmask, arity);\n  } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n    result = createPartial(func, bitmask, thisArg, partials);\n  } else {\n    result = createHybrid.apply(undefined, newData);\n  }\n  var setter = data ? baseSetData : setData;\n  return setWrapToString(setter(result, newData), func, bitmask);\n}\n\nmodule.exports = createWrap;\n","var baseCreate = require('./_baseCreate'),\n    baseLodash = require('./_baseLodash');\n\n/**\n * The base constructor for creating `lodash` wrapper objects.\n *\n * @private\n * @param {*} value The value to wrap.\n * @param {boolean} [chainAll] Enable explicit method chain sequences.\n */\nfunction LodashWrapper(value, chainAll) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__chain__ = !!chainAll;\n  this.__index__ = 0;\n  this.__values__ = undefined;\n}\n\nLodashWrapper.prototype = baseCreate(baseLodash.prototype);\nLodashWrapper.prototype.constructor = LodashWrapper;\n\nmodule.exports = LodashWrapper;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * The base implementation of methods like `_.xor`, without support for\n * iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of values.\n */\nfunction baseXor(arrays, iteratee, comparator) {\n  var length = arrays.length;\n  if (length < 2) {\n    return length ? baseUniq(arrays[0]) : [];\n  }\n  var index = -1,\n      result = Array(length);\n\n  while (++index < length) {\n    var array = arrays[index],\n        othIndex = -1;\n\n    while (++othIndex < length) {\n      if (othIndex != index) {\n        result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n      }\n    }\n  }\n  return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n}\n\nmodule.exports = baseXor;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","'use strict';\r\n\r\nvar getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\n\r\nvar elementHelper = require('../../../../helper/ElementHelper'),\r\n    extensionElementsHelper = require('../../../../helper/ExtensionElementsHelper'),\r\n    inputOutputHelper = require('../../../../helper/InputOutputHelper'),\r\n    cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\nvar extensionElementsEntry = require('./ExtensionElements');\r\n\r\n\r\nfunction getInputOutput(element, insideConnector) {\r\n  return inputOutputHelper.getInputOutput(element, insideConnector);\r\n}\r\n\r\nfunction getConnector(element) {\r\n  return inputOutputHelper.getConnector(element);\r\n}\r\n\r\nfunction getInputParameters(element, insideConnector) {\r\n  return inputOutputHelper.getInputParameters(element, insideConnector);\r\n}\r\n\r\nfunction getOutputParameters(element, insideConnector) {\r\n  return inputOutputHelper.getOutputParameters(element, insideConnector);\r\n}\r\n\r\nfunction getInputParameter(element, insideConnector, idx) {\r\n  return inputOutputHelper.getInputParameter(element, insideConnector, idx);\r\n}\r\n\r\nfunction getOutputParameter(element, insideConnector, idx) {\r\n  return inputOutputHelper.getOutputParameter(element, insideConnector, idx);\r\n}\r\n\r\n\r\nfunction createElement(type, parent, factory, properties) {\r\n  return elementHelper.createElement(type, properties, parent, factory);\r\n}\r\n\r\nfunction createInputOutput(parent, bpmnFactory, properties) {\r\n  return createElement('activiti:InputOutput', parent, bpmnFactory, properties);\r\n}\r\n\r\nfunction createParameter(type, parent, bpmnFactory, properties) {\r\n  return createElement(type, parent, bpmnFactory, properties);\r\n}\r\n\r\n\r\nfunction ensureInputOutputSupported(element, insideConnector) {\r\n  return inputOutputHelper.isInputOutputSupported(element, insideConnector);\r\n}\r\n\r\nfunction ensureOutparameterSupported(element, insideConnector) {\r\n  return inputOutputHelper.areOutputParametersSupported(element, insideConnector);\r\n}\r\n\r\nmodule.exports = function(element, bpmnFactory, options, translate) {\r\n\r\n  var TYPE_LABEL = {\r\n    'activiti:Map': translate('Map'),\r\n    'activiti:List': translate('List'),\r\n    'activiti:Script': translate('Script')\r\n  };\r\n\r\n  options = options || {};\r\n\r\n  var insideConnector = !!options.insideConnector,\r\n      idPrefix = options.idPrefix || '';\r\n\r\n  var getSelected = function(element, node) {\r\n    var selection = (inputEntry && inputEntry.getSelected(element, node)) || { idx: -1 };\r\n\r\n    var parameter = getInputParameter(element, insideConnector, selection.idx);\r\n    if (!parameter && outputEntry) {\r\n      selection = outputEntry.getSelected(element, node);\r\n      parameter = getOutputParameter(element, insideConnector, selection.idx);\r\n    }\r\n    return parameter;\r\n  };\r\n\r\n  var result = {\r\n    getSelectedParameter: getSelected\r\n  };\r\n\r\n  var entries = result.entries = [];\r\n\r\n  if (!ensureInputOutputSupported(element)) {\r\n    return result;\r\n  }\r\n\r\n  var newElement = function(type, prop, factory) {\r\n\r\n    return function(element, extensionElements, value) {\r\n      var commands = [];\r\n\r\n      var inputOutput = getInputOutput(element, insideConnector);\r\n      if (!inputOutput) {\r\n        var parent = !insideConnector ? extensionElements : getConnector(element);\r\n        inputOutput = createInputOutput(parent, bpmnFactory, {\r\n          inputParameters: [],\r\n          outputParameters: []\r\n        });\r\n\r\n        if (!insideConnector) {\r\n          commands.push(cmdHelper.addAndRemoveElementsFromList(\r\n            element,\r\n            extensionElements,\r\n            'values',\r\n            'extensionElements',\r\n            [ inputOutput ],\r\n            []\r\n          ));\r\n        } else {\r\n          commands.push(cmdHelper.updateBusinessObject(element, parent, { inputOutput: inputOutput }));\r\n        }\r\n      }\r\n\r\n      var newElem = createParameter(type, inputOutput, bpmnFactory, { name: value });\r\n      commands.push(cmdHelper.addElementsTolist(element, inputOutput, prop, [ newElem ]));\r\n\r\n      return commands;\r\n    };\r\n  };\r\n\r\n  var removeElement = function(getter, prop, otherProp) {\r\n    return function(element, extensionElements, value, idx) {\r\n      var inputOutput = getInputOutput(element, insideConnector);\r\n      var parameter = getter(element, insideConnector, idx);\r\n\r\n      var commands = [];\r\n      commands.push(cmdHelper.removeElementsFromList(element, inputOutput, prop, null, [ parameter ]));\r\n\r\n      var firstLength = inputOutput.get(prop).length-1;\r\n      var secondLength = (inputOutput.get(otherProp) || []).length;\r\n\r\n      if (!firstLength && !secondLength) {\r\n\r\n        if (!insideConnector) {\r\n          commands.push(extensionElementsHelper.removeEntry(getBusinessObject(element), element, inputOutput));\r\n        } else {\r\n          var connector = getConnector(element);\r\n          commands.push(cmdHelper.updateBusinessObject(element, connector, { inputOutput: undefined }));\r\n        }\r\n\r\n      }\r\n\r\n      return commands;\r\n    };\r\n  };\r\n\r\n  var setOptionLabelValue = function(getter) {\r\n    return function(element, node, option, property, value, idx) {\r\n      var parameter = getter(element, insideConnector, idx);\r\n\r\n      var suffix = 'Text';\r\n\r\n      var definition = parameter.get('definition');\r\n      if (typeof definition !== 'undefined') {\r\n        var type = definition.$type;\r\n        suffix = TYPE_LABEL[type];\r\n      }\r\n\r\n      option.text = (value || '') + ' : ' + suffix;\r\n    };\r\n  };\r\n\r\n\r\n  // input parameters ///////////////////////////////////////////////////////////////\r\n\r\n  var inputEntry = extensionElementsEntry(element, bpmnFactory, {\r\n    id: idPrefix + 'inputs',\r\n    label: translate('Input Parameters'),\r\n    modelProperty: 'name',\r\n    prefix: 'Input',\r\n    resizable: true,\r\n\r\n    createExtensionElement: newElement('activiti:InputParameter', 'inputParameters'),\r\n    removeExtensionElement: removeElement(getInputParameter, 'inputParameters', 'outputParameters'),\r\n\r\n    getExtensionElements: function(element) {\r\n      return getInputParameters(element, insideConnector);\r\n    },\r\n\r\n    onSelectionChange: function(element, node, event, scope) {\r\n      outputEntry && outputEntry.deselect(element, node);\r\n    },\r\n\r\n    setOptionLabelValue: setOptionLabelValue(getInputParameter)\r\n\r\n  });\r\n  entries.push(inputEntry);\r\n\r\n\r\n  // output parameters ///////////////////////////////////////////////////////\r\n\r\n  if (ensureOutparameterSupported(element, insideConnector)) {\r\n    var outputEntry = extensionElementsEntry(element, bpmnFactory, {\r\n      id: idPrefix + 'outputs',\r\n      label: translate('Output Parameters'),\r\n      modelProperty: 'name',\r\n      prefix: 'Output',\r\n      resizable: true,\r\n\r\n      createExtensionElement: newElement('activiti:OutputParameter', 'outputParameters'),\r\n      removeExtensionElement: removeElement(getOutputParameter, 'outputParameters', 'inputParameters'),\r\n\r\n      getExtensionElements: function(element) {\r\n        return getOutputParameters(element, insideConnector);\r\n      },\r\n\r\n      onSelectionChange: function(element, node, event, scope) {\r\n        inputEntry.deselect(element, node);\r\n      },\r\n\r\n      setOptionLabelValue: setOptionLabelValue(getOutputParameter)\r\n\r\n    });\r\n    entries.push(outputEntry);\r\n  }\r\n\r\n  return result;\r\n\r\n};\r\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","'use strict';\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory');\r\n\r\nvar cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\nmodule.exports = function(element, bpmnFactory, options, translate) {\r\n\r\n  var getBusinessObject = options.getBusinessObject;\r\n\r\n  var jobPriorityEntry = entryFactory.textField({\r\n    id: 'jobPriority',\r\n    label: translate('Job Priority'),\r\n    modelProperty: 'jobPriority',\r\n\r\n    get: function(element, node) {\r\n      var bo = getBusinessObject(element);\r\n      return {\r\n        jobPriority: bo.get('activiti:jobPriority')\r\n      };\r\n    },\r\n\r\n    set: function(element, values) {\r\n      var bo = getBusinessObject(element);\r\n      return cmdHelper.updateBusinessObject(element, bo, {\r\n        'activiti:jobPriority': values.jobPriority || undefined\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return [ jobPriorityEntry ];\r\n\r\n};\r\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","'use strict';\r\n\r\nvar is = require('bpmn-js/lib/util/ModelUtil').is,\r\n    getBusinessObject = require('bpmn-js/lib/util/ModelUtil').getBusinessObject;\r\n\r\nvar entryFactory = require('../../../factory/EntryFactory');\r\n\r\nvar participantHelper = require('../../../helper/ParticipantHelper');\r\n\r\nmodule.exports = function(group, element, translate) {\r\n\r\n  var bo = getBusinessObject(element);\r\n\r\n  if (!bo) {\r\n    return;\r\n  }\r\n\r\n  if (is(element, 'bpmn:Process') || (is(element, 'bpmn:Participant') && bo.get('processRef'))) {\r\n\r\n    var executableEntry = entryFactory.checkbox({\r\n      id: 'process-is-executable',\r\n      label: translate('Executable'),\r\n      modelProperty: 'isExecutable'\r\n    });\r\n\r\n    // in participants we have to change the default behavior of set and get\r\n    if (is(element, 'bpmn:Participant')) {\r\n      executableEntry.get = function(element) {\r\n        return participantHelper.getProcessBusinessObject(element, 'isExecutable');\r\n      };\r\n\r\n      executableEntry.set = function(element, values) {\r\n        return participantHelper.modifyProcessBusinessObject(element, 'isExecutable', values);\r\n      };\r\n    }\r\n\r\n    group.entries.push(executableEntry);\r\n  }\r\n\r\n};\r\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","'use strict';\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory'),\r\n    cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\nvar eventDefinitionReference = require('./EventDefinitionReference'),\r\n    elementReferenceProperty = require('./ElementReferenceProperty');\r\n\r\n\r\nmodule.exports = function(group, element, bpmnFactory, escalationEventDefinition, showEscalationCodeVariable) {\r\n\r\n  group.entries = group.entries.concat(eventDefinitionReference(element, escalationEventDefinition, bpmnFactory, {\r\n    label: 'Escalation',\r\n    elementName: 'escalation',\r\n    elementType: 'bpmn:Escalation',\r\n    referenceProperty: 'escalationRef',\r\n    newElementIdPrefix: 'Escalation_'\r\n  }));\r\n\r\n\r\n  group.entries = group.entries.concat(elementReferenceProperty(element, escalationEventDefinition, bpmnFactory, {\r\n    id: 'escalation-element-name',\r\n    label: 'Escalation Name',\r\n    referenceProperty: 'escalationRef',\r\n    modelProperty: 'name',\r\n    shouldValidate: true\r\n  }));\r\n\r\n\r\n  group.entries = group.entries.concat(elementReferenceProperty(element, escalationEventDefinition, bpmnFactory, {\r\n    id: 'escalation-element-code',\r\n    label: 'Escalation Code',\r\n    referenceProperty: 'escalationRef',\r\n    modelProperty: 'escalationCode'\r\n  }));\r\n\r\n\r\n  if (showEscalationCodeVariable) {\r\n    group.entries.push(entryFactory.textField({\r\n      id : 'escalationCodeVariable',\r\n      label : 'Escalation Code Variable',\r\n      modelProperty : 'escalationCodeVariable',\r\n\r\n      get: function(element) {\r\n        var codeVariable = escalationEventDefinition.get('activiti:escalationCodeVariable');\r\n        return {\r\n          escalationCodeVariable: codeVariable\r\n        };\r\n      },\r\n\r\n      set: function(element, values) {\r\n        return cmdHelper.updateBusinessObject(element, escalationEventDefinition, {\r\n          'activiti:escalationCodeVariable': values.escalationCodeVariable || undefined\r\n        });\r\n      }\r\n    }));\r\n  }\r\n};\r\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var baseSetData = require('./_baseSetData'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets metadata for `func`.\n *\n * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n * period of time, it will trip its breaker and transition to an identity\n * function to avoid garbage collection pauses in V8. See\n * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n * for more details.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar setData = shortOut(baseSetData);\n\nmodule.exports = setData;\n","'use strict';\r\n\r\nvar cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\nvar domQuery = require('min-dom').query,\r\n    domify = require('min-dom').domify,\r\n    domAttr = require('min-dom').attr;\r\n\r\nvar forEach = require('lodash/forEach'),\r\n    find = require('lodash/find');\r\n\r\nvar elementHelper = require('../../../../helper/ElementHelper');\r\nvar utils = require('../../../../Utils');\r\n\r\nvar selector = 'select[name=selectedElement]';\r\n\r\n/**\r\n * Get select box containing all elements.\r\n *\r\n * @param {DOMElement} node\r\n *\r\n * @return {DOMElement} the select box\r\n */\r\nfunction getSelectBox(node) {\r\n  return domQuery(selector, node.parentElement);\r\n}\r\n\r\n/**\r\n * Find element by given id.\r\n *\r\n * @param {ModdleElement} eventDefinition\r\n *\r\n * @return {ModdleElement} an element\r\n */\r\nfunction findElementById(eventDefinition, type, id) {\r\n  var elements = utils.findRootElementsByType(eventDefinition, type);\r\n  return find(elements, function(element) {\r\n    return element.id === id;\r\n  });\r\n}\r\n\r\n/**\r\n * Create an entry to modify the reference to an element from an\r\n * event definition.\r\n *\r\n * @param  {djs.model.Base} element\r\n * @param  {ModdleElement} definition\r\n * @param  {BpmnFactory} bpmnFactory\r\n * @param  {Object} options\r\n * @param  {string} options.label the label of the entry\r\n * @param  {string} options.description the description of the entry\r\n * @param  {string} options.elementName the name of the element\r\n * @param  {string} options.elementType the type of the element\r\n * @param  {string} options.referenceProperty the name of referencing property\r\n * @param  {string} options.newElementIdPrefix the prefix of a new created element\r\n *\r\n * @return {Array<Object>} return an array containing the entries\r\n */\r\nmodule.exports = function(element, definition, bpmnFactory, options) {\r\n\r\n  var elementName = options.elementName || '',\r\n      elementType = options.elementType,\r\n      referenceProperty = options.referenceProperty;\r\n\r\n  var newElementIdPrefix = options.newElementIdPrefix || 'elem_';\r\n\r\n  var label = options.label || '',\r\n      description = options.description || '';\r\n\r\n  var entries = [];\r\n\r\n  entries.push({\r\n\r\n    id: 'event-definitions-' + elementName,\r\n    description: description,\r\n    html: '<div class=\"bpp-row bpp-select\">' +\r\n             '<label for=\"camunda-' + elementName + '\">' + label + '</label>' +\r\n             '<div class=\"bpp-field-wrapper\">' +\r\n               '<select id=\"camunda-' + elementName + '\" name=\"selectedElement\" data-value>' +\r\n               '</select>' +\r\n               '<button class=\"add\" id=\"addElement\" data-action=\"addElement\"><span>+</span></button>' +\r\n             '</div>' +\r\n          '</div>',\r\n\r\n    get: function(element, entryNode) {\r\n      utils.updateOptionsDropDown(selector, definition, elementType, entryNode);\r\n      var reference = definition.get(referenceProperty);\r\n      return {\r\n        selectedElement: (reference && reference.id) || ''\r\n      };\r\n    },\r\n\r\n    set: function(element, values) {\r\n      var selection = values.selectedElement;\r\n\r\n      var props = {};\r\n\r\n      if (!selection || typeof selection === 'undefined') {\r\n        // remove reference to element\r\n        props[referenceProperty] = undefined;\r\n        return cmdHelper.updateBusinessObject(element, definition, props);\r\n      }\r\n\r\n      var commands = [];\r\n\r\n      var selectedElement = findElementById(definition, elementType, selection);\r\n      if (!selectedElement) {\r\n        var root = utils.getRoot(definition);\r\n\r\n        // create a new element\r\n        selectedElement = elementHelper.createElement(elementType, { name: selection }, root, bpmnFactory);\r\n        commands.push(cmdHelper.addAndRemoveElementsFromList(element, root, 'rootElements', null, [ selectedElement ]));\r\n      }\r\n\r\n      // update reference to element\r\n      props[referenceProperty] = selectedElement;\r\n      commands.push(cmdHelper.updateBusinessObject(element, definition, props));\r\n\r\n      return commands;\r\n    },\r\n\r\n    addElement: function(element, inputNode) {\r\n      // note: this generated id will be used as name\r\n      // of the element and not as id\r\n      var id = utils.nextId(newElementIdPrefix);\r\n\r\n      var optionTemplate = domify('<option value=\"' + id + '\"> (id='+id+')' + '</option>');\r\n\r\n      // add new option\r\n      var selectBox = getSelectBox(inputNode);\r\n      selectBox.insertBefore(optionTemplate, selectBox.firstChild);\r\n\r\n      // select new element in the select box\r\n      forEach(selectBox, function(option) {\r\n        if (option.value === id) {\r\n          domAttr(option, 'selected', 'selected');\r\n        } else {\r\n          domAttr(option, 'selected', null);\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n\r\n  });\r\n\r\n  return entries;\r\n\r\n};\r\n","'use strict';\r\n\r\nvar eventDefinitionReference = require('./EventDefinitionReference'),\r\n    elementReferenceProperty = require('./ElementReferenceProperty');\r\n\r\n\r\nmodule.exports = function(group, element, bpmnFactory, messageEventDefinition) {\r\n\r\n  group.entries = group.entries.concat(eventDefinitionReference(element, messageEventDefinition, bpmnFactory, {\r\n    label: 'Message',\r\n    elementName: 'message',\r\n    elementType: 'bpmn:Message',\r\n    referenceProperty: 'messageRef',\r\n    newElementIdPrefix: 'Message_'\r\n  }));\r\n\r\n\r\n  group.entries = group.entries.concat(elementReferenceProperty(element, messageEventDefinition, bpmnFactory, {\r\n    id: 'message-element-name',\r\n    label: 'Message Name',\r\n    referenceProperty: 'messageRef',\r\n    modelProperty: 'name',\r\n    shouldValidate: true\r\n  }));\r\n\r\n};\r\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","'use strict';\r\n\r\nvar entryFactory = require('../../../../factory/EntryFactory');\r\n\r\nvar cmdHelper = require('../../../../helper/CmdHelper');\r\n\r\nmodule.exports = function(element, bpmnFactory, options, translate) {\r\n\r\n  var getBusinessObject = options.getBusinessObject;\r\n\r\n  var externalTaskPriorityEntry = entryFactory.textField({\r\n    id: 'externalTaskPriority',\r\n    label: translate('Task Priority'),\r\n    modelProperty: 'taskPriority',\r\n\r\n    get: function(element, node) {\r\n      var bo = getBusinessObject(element);\r\n      return {\r\n        taskPriority: bo.get('activiti:taskPriority')\r\n      };\r\n    },\r\n\r\n    set: function(element, values) {\r\n      var bo = getBusinessObject(element);\r\n      return cmdHelper.updateBusinessObject(element, bo, {\r\n        'activiti:taskPriority': values.taskPriority || undefined\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return [ externalTaskPriorityEntry ];\r\n\r\n};\r\n","'use strict';\r\n\r\nvar textField = require('./TextInputEntryFactory');\r\n\r\n/**\r\n * This function is a wrapper around TextInputEntryFactory.\r\n * It adds functionality to cache an invalid value entered in the\r\n * text input, instead of setting it on the business object.\r\n */\r\nvar validationAwareTextField = function(options, defaultParameters) {\r\n\r\n  var modelProperty = options.modelProperty;\r\n\r\n  defaultParameters.get = function(element, node) {\r\n    var value = this.__lastInvalidValue;\r\n\r\n    delete this.__lastInvalidValue;\r\n\r\n    var properties = {};\r\n\r\n    properties[modelProperty] = value !== undefined ? value : options.getProperty(element, node);\r\n\r\n    return properties;\r\n  };\r\n\r\n  defaultParameters.set = function(element, values, node) {\r\n    var validationErrors = validate.apply(this, [ element, values, node ]),\r\n        propertyValue = values[modelProperty];\r\n\r\n    // make sure we do not update the id\r\n    if (validationErrors && validationErrors[modelProperty]) {\r\n      this.__lastInvalidValue = propertyValue;\r\n\r\n      return options.setProperty(element, {}, node);\r\n    } else {\r\n      var properties = {};\r\n\r\n      properties[modelProperty] = propertyValue;\r\n\r\n      return options.setProperty(element, properties, node);\r\n    }\r\n  };\r\n\r\n  var validate = defaultParameters.validate = function(element, values, node) {\r\n    var value = values[modelProperty] || this.__lastInvalidValue;\r\n\r\n    var property = {};\r\n    property[modelProperty] = value;\r\n\r\n    return options.validate(element, property, node);\r\n  };\r\n\r\n  return textField(options, defaultParameters);\r\n};\r\n\r\nmodule.exports = validationAwareTextField;\r\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var arrayEach = require('./_arrayEach'),\n    arrayIncludes = require('./_arrayIncludes');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256,\n    WRAP_FLIP_FLAG = 512;\n\n/** Used to associate wrap methods with their bit flags. */\nvar wrapFlags = [\n  ['ary', WRAP_ARY_FLAG],\n  ['bind', WRAP_BIND_FLAG],\n  ['bindKey', WRAP_BIND_KEY_FLAG],\n  ['curry', WRAP_CURRY_FLAG],\n  ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n  ['flip', WRAP_FLIP_FLAG],\n  ['partial', WRAP_PARTIAL_FLAG],\n  ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n  ['rearg', WRAP_REARG_FLAG]\n];\n\n/**\n * Updates wrapper `details` based on `bitmask` flags.\n *\n * @private\n * @returns {Array} details The details to modify.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @returns {Array} Returns `details`.\n */\nfunction updateWrapDetails(details, bitmask) {\n  arrayEach(wrapFlags, function(pair) {\n    var value = '_.' + pair[0];\n    if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n      details.push(value);\n    }\n  });\n  return details.sort();\n}\n\nmodule.exports = updateWrapDetails;\n","//      \n// An event handler can take an optional event argument\n// and should not return a value\n                                          \n                                                               \n\n// An array of all currently registered event handlers for a type\n                                            \n                                                            \n// A map of event types and their corresponding event handlers.\n                        \n                                 \n                                   \n  \n\n/** Mitt: Tiny (~200b) functional event emitter / pubsub.\n *  @name mitt\n *  @returns {Mitt}\n */\nfunction mitt(all                 ) {\n\tall = all || Object.create(null);\n\n\treturn {\n\t\t/**\n\t\t * Register an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to listen for, or `\"*\"` for all events\n\t\t * @param  {Function} handler Function to call in response to given event\n\t\t * @memberOf mitt\n\t\t */\n\t\ton: function on(type        , handler              ) {\n\t\t\t(all[type] || (all[type] = [])).push(handler);\n\t\t},\n\n\t\t/**\n\t\t * Remove an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to unregister `handler` from, or `\"*\"`\n\t\t * @param  {Function} handler Handler function to remove\n\t\t * @memberOf mitt\n\t\t */\n\t\toff: function off(type        , handler              ) {\n\t\t\tif (all[type]) {\n\t\t\t\tall[type].splice(all[type].indexOf(handler) >>> 0, 1);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Invoke all handlers for the given type.\n\t\t * If present, `\"*\"` handlers are invoked after type-matched handlers.\n\t\t *\n\t\t * @param {String} type  The event type to invoke\n\t\t * @param {Any} [evt]  Any value (object is recommended and powerful), passed to each handler\n\t\t * @memberOf mitt\n\t\t */\n\t\temit: function emit(type        , evt     ) {\n\t\t\t(all[type] || []).slice().map(function (handler) { handler(evt); });\n\t\t\t(all['*'] || []).slice().map(function (handler) { handler(type, evt); });\n\t\t}\n\t};\n}\n\nexport default mitt;\n//# sourceMappingURL=mitt.es.js.map\n","import {\n  domify,\n  classes as domClasses,\n  matches as domMatches,\n  delegate as domDelegate,\n  query as domQuery,\n  queryAll as domQueryAll,\n  event as domEvent,\n  attr as domAttr\n} from 'min-dom';\n\nimport {\n  filter,\n  assign\n} from 'min-dash';\n\nimport createEmitter from 'mitt';\n\nvar DEFAULT_OPTIONS = {\n  scrollSymbolLeft: '‹',\n  scrollSymbolRight: '›'\n};\n\n\n/**\n * This component adds the functionality to scroll over a list of tabs.\n *\n * It adds scroll buttons on the left and right side of the tabs container\n * if not all tabs are visible. It also adds a mouse wheel listener on the\n * container.\n *\n * If either a button is clicked or the mouse wheel is used over the tabs,\n * a 'scroll' event is being fired. This event contains the node elements\n * of the new and old active tab, and the direction in which the tab has\n * changed relative to the old active tab.\n *\n * @example:\n * (1) provide a tabs-container:\n *\n * var $el = (\n *   <div>\n *     <!-- button added by scrollTabs -->\n *     <span class=\"scroll-tabs-button scroll-tabs-left\"></span>\n *     <ul class=\"my-tabs-container\">\n *       <li class=\"my-tab i-am-active\"></li>\n *       <li class=\"my-tab\"></li>\n *       <li class=\"my-tab ignore-me\"></li>\n *     </ul>\n *     <!-- button added by scrollTabs -->\n *     <span class=\"scroll-tabs-button scroll-tabs-right\"></span>\n *   </div>\n * );\n *\n *\n * (2) initialize scrollTabs:\n *\n *  var scroller = scrollTabs(tabBarNode, {\n *    selectors: {\n *      tabsContainer: '.my-tabs-container',\n *      tab: '.my-tab',\n *      ignore: '.ignore-me',\n *      active: '.i-am-active'\n *    }\n *  });\n *\n *\n * (3) listen to the scroll event:\n *\n * scroller.on('scroll', function(newActiveNode, oldActiveNode, direction) {\n *   // direction is any of (-1: left, 1: right)\n *   // activate the new active tab\n * });\n *\n *\n * (4) update the scroller if tabs change and or the tab container resizes:\n *\n * scroller.update();\n *\n *\n * @param  {DOMElement} el\n * @param  {Object} options\n * @param  {Object} options.selectors\n * @param  {String} options.selectors.tabsContainer the container all tabs are contained in\n * @param  {String} options.selectors.tab a single tab inside the tab container\n * @param  {String} options.selectors.ignore tabs that should be ignored during scroll left/right\n * @param  {String} options.selectors.active selector for the current active tab\n * @param  {String} [options.scrollSymbolLeft]\n * @param  {String} [options.scrollSymbolRight]\n */\nfunction ScrollTabs($el, options) {\n\n  // we are an event emitter\n  assign(this, createEmitter());\n\n  this.options = options = assign({}, DEFAULT_OPTIONS, options);\n  this.container = $el;\n\n  this._createScrollButtons($el, options);\n\n  this._bindEvents($el);\n}\n\n\n/**\n * Create a clickable scroll button\n *\n * @param {Object} options\n * @param {String} options.className\n * @param {String} options.label\n * @param {Number} options.direction\n *\n * @return {DOMElement} The created scroll button node\n */\nScrollTabs.prototype._createButton = function(parentNode, options) {\n\n  var className = options.className,\n      direction = options.direction;\n\n\n  var button = domQuery('.' + className, parentNode);\n\n  if (!button) {\n    button = domify('<span class=\"scroll-tabs-button ' + className + '\">' +\n                                options.label +\n                              '</span>');\n\n    parentNode.insertBefore(button, parentNode.childNodes[0]);\n  }\n\n  domAttr(button, 'data-direction', direction);\n\n  return button;\n};\n\n/**\n * Create both scroll buttons\n *\n * @param  {DOMElement} parentNode\n * @param  {Object} options\n * @param  {String} options.scrollSymbolLeft\n * @param  {String} options.scrollSymbolRight\n */\nScrollTabs.prototype._createScrollButtons = function(parentNode, options) {\n\n  // Create a button that scrolls to the tab left to the currently active tab\n  this._createButton(parentNode, {\n    className: 'scroll-tabs-left',\n    label: options.scrollSymbolLeft,\n    direction: -1\n  });\n\n  // Create a button that scrolls to the tab right to the currently active tab\n  this._createButton(parentNode, {\n    className: 'scroll-tabs-right',\n    label: options.scrollSymbolRight,\n    direction: 1\n  });\n};\n\n/**\n * Get the current active tab\n *\n * @return {DOMElement}\n */\nScrollTabs.prototype.getActiveTabNode = function() {\n  return domQuery(this.options.selectors.active, this.container);\n};\n\n\n/**\n * Get the container all tabs are contained in\n *\n * @return {DOMElement}\n */\nScrollTabs.prototype.getTabsContainerNode = function() {\n  return domQuery(this.options.selectors.tabsContainer, this.container);\n};\n\n\n/**\n * Get all tabs (visible and invisible ones)\n *\n * @return {Array<DOMElement>}\n */\nScrollTabs.prototype.getAllTabNodes = function() {\n  return domQueryAll(this.options.selectors.tab, this.container);\n};\n\n\n/**\n * Gets all tabs that don't have the ignore class set\n *\n * @return {Array<DOMElement>}\n */\nScrollTabs.prototype.getVisibleTabs = function() {\n  var allTabs = this.getAllTabNodes();\n\n  var ignore = this.options.selectors.ignore;\n\n  return filter(allTabs, function(tabNode) {\n    return !domMatches(tabNode, ignore);\n  });\n};\n\n\n/**\n * Get a tab relative to a reference tab.\n *\n * @param  {DOMElement} referenceTabNode\n * @param  {Number} n gets the nth tab next or previous to the reference tab\n *\n * @return {DOMElement}\n *\n * @example:\n * Visible tabs: [ A | B | C | D | E ]\n * Assume tab 'C' is the reference tab:\n * If direction === -1, it returns tab 'B',\n * if direction ===  2, it returns tab 'E'\n */\nScrollTabs.prototype.getAdjacentTab = function(referenceTabNode, n) {\n  var visibleTabs = this.getVisibleTabs();\n\n  var index = visibleTabs.indexOf(referenceTabNode);\n\n  return visibleTabs[index + n];\n};\n\nScrollTabs.prototype._bindEvents = function(node) {\n  this._bindWheelEvent(node);\n  this._bindTabClickEvents(node);\n  this._bindScrollButtonEvents(node);\n};\n\n/**\n *  Bind a click listener to a DOM node.\n *  Make sure a tab link is entirely visible after onClick.\n *\n * @param {DOMElement} node\n */\nScrollTabs.prototype._bindTabClickEvents = function(node) {\n  var selector = this.options.selectors.tab;\n\n  var self = this;\n\n  domDelegate.bind(node, selector, 'click', function onClick(event) {\n    self.scrollToTabNode(event.delegateTarget);\n  });\n};\n\n\n/**\n * Bind the wheel event listener to a DOM node\n *\n * @param {DOMElement} node\n */\nScrollTabs.prototype._bindWheelEvent = function(node) {\n  var self = this;\n\n  domEvent.bind(node, 'wheel', function(e) {\n\n    // scroll direction (-1: left, 1: right)\n    var direction = Math.sign(e.deltaY);\n\n    var oldActiveTab = self.getActiveTabNode();\n\n    var newActiveTab = self.getAdjacentTab(oldActiveTab, direction);\n\n    if (newActiveTab) {\n      self.scrollToTabNode(newActiveTab);\n      self.emit('scroll', newActiveTab, oldActiveTab, direction);\n    }\n\n    e.preventDefault();\n  });\n};\n\n/**\n * Bind scroll button events to a DOM node\n *\n * @param  {DOMElement} node\n */\nScrollTabs.prototype._bindScrollButtonEvents = function(node) {\n\n  var self = this;\n\n  domDelegate.bind(node, '.scroll-tabs-button', 'click', function(event) {\n\n    var target = event.delegateTarget;\n\n    // data-direction is either -1 or 1\n    var direction = parseInt(domAttr(target, 'data-direction'), 10);\n\n    var oldActiveTabNode = self.getActiveTabNode();\n\n    var newActiveTabNode = self.getAdjacentTab(oldActiveTabNode, direction);\n\n    if (newActiveTabNode) {\n      self.scrollToTabNode(newActiveTabNode);\n      self.emit('scroll', newActiveTabNode, oldActiveTabNode, direction);\n    }\n\n    event.preventDefault();\n  });\n};\n\n\n/**\n* Scroll to a tab if it is not entirely visible\n*\n* @param  {DOMElement} tabNode tab node to scroll to\n*/\nScrollTabs.prototype.scrollToTabNode = function(tabNode) {\n  if (!tabNode) {\n    return;\n  }\n\n  var tabsContainerNode = tabNode.parentNode;\n\n  var tabWidth = tabNode.offsetWidth,\n      tabOffsetLeft = tabNode.offsetLeft,\n      tabOffsetRight = tabOffsetLeft + tabWidth,\n      containerWidth = tabsContainerNode.offsetWidth,\n      containerScrollLeft = tabsContainerNode.scrollLeft;\n\n  if (containerScrollLeft > tabOffsetLeft) {\n    // scroll to the left, if the tab is overflowing on the left side\n    tabsContainerNode.scrollLeft = 0;\n  } else if (tabOffsetRight > containerWidth) {\n    // scroll to the right, if the tab is overflowing on the right side\n    tabsContainerNode.scrollLeft = tabOffsetRight - containerWidth;\n  }\n};\n\n\n/**\n * React on tab changes from outside (resize/show/hide/add/remove),\n * update scroll button visibility.\n */\nScrollTabs.prototype.update = function() {\n\n  var tabsContainerNode = this.getTabsContainerNode();\n\n  // check if tabs fit in container\n  var overflow = tabsContainerNode.scrollWidth > tabsContainerNode.offsetWidth;\n\n  // TODO(nikku): distinguish overflow left / overflow right?\n  var overflowClass = 'scroll-tabs-overflow';\n\n  domClasses(this.container).toggle(overflowClass, overflow);\n\n  if (overflow) {\n    // make sure the current active tab is always visible\n    this.scrollToTabNode(this.getActiveTabNode());\n  }\n};\n\n\n// exports ////////////////\n\n/**\n * Create a scrollTabs instance on the given element.\n *\n * @param {DOMElement} $el\n * @param {Object} options\n *\n * @return {ScrollTabs}\n */\nexport default function create($el, options) {\n\n  var scrollTabs = get($el);\n\n  if (!scrollTabs) {\n    scrollTabs = new ScrollTabs($el, options);\n\n    $el.__scrollTabs = scrollTabs;\n  }\n\n  return scrollTabs;\n}\n\n\n/**\n * Return the scrollTabs instance that has been previously\n * initialized on the element.\n *\n * @param {DOMElement} $el\n * @return {ScrollTabs}\n */\nfunction get($el) {\n  return $el.__scrollTabs;\n}\n\ncreate.get = get;","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n"],"sourceRoot":""}